/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "./next-auth/adapters/error-handler.js":
/*!*********************************************!*\
  !*** ./next-auth/adapters/error-handler.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ adapterErrorHandler; }\n/* harmony export */ });\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/errors */ \"./next-auth/lib/errors.js\");\n\n/**\n * Handles adapter induced errors.\n * @param {import(\"types/adapters\").AdapterInstance} adapter\n * @param {import(\"types\").LoggerInstance} logger\n * @return {import(\"types/adapters\").AdapterInstance}\n */\n\nfunction adapterErrorHandler(adapter, logger) {\n  return Object.keys(adapter).reduce((acc, method) => {\n    const name = capitalize(method);\n    const code = upperSnake(name, adapter.displayName);\n    const adapterMethod = adapter[method];\n\n    acc[method] = async (...args) => {\n      try {\n        logger.debug(code, ...args);\n        return await adapterMethod(...args);\n      } catch (error) {\n        logger.error(`${code}_ERROR`, error);\n        const e = new _lib_errors__WEBPACK_IMPORTED_MODULE_0__.UnknownError(error);\n        e.name = `${name}Error`;\n        throw e;\n      }\n    };\n\n    return acc;\n  }, {});\n}\n\nfunction capitalize(s) {\n  return `${s[0].toUpperCase()}${s.slice(1)}`;\n}\n\nfunction upperSnake(s, prefix = \"ADAPTER\") {\n  return `${prefix}_${s.replace(/([A-Z])/g, \"_$1\")}`.toUpperCase();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2FkYXB0ZXJzL2Vycm9yLWhhbmRsZXIuanM/MjVmYiJdLCJuYW1lcyI6WyJhZGFwdGVyRXJyb3JIYW5kbGVyIiwiYWRhcHRlciIsImxvZ2dlciIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJhY2MiLCJtZXRob2QiLCJuYW1lIiwiY2FwaXRhbGl6ZSIsImNvZGUiLCJ1cHBlclNuYWtlIiwiZGlzcGxheU5hbWUiLCJhZGFwdGVyTWV0aG9kIiwiYXJncyIsImRlYnVnIiwiZXJyb3IiLCJlIiwiVW5rbm93bkVycm9yIiwicyIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJwcmVmaXgiLCJyZXBsYWNlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLFNBQVNBLG1CQUFULENBQTZCQyxPQUE3QixFQUFzQ0MsTUFBdEMsRUFBOEM7QUFDM0QsU0FBT0MsTUFBTSxDQUFDQyxJQUFQLENBQVlILE9BQVosRUFBcUJJLE1BQXJCLENBQTRCLENBQUNDLEdBQUQsRUFBTUMsTUFBTixLQUFpQjtBQUNsRCxVQUFNQyxJQUFJLEdBQUdDLFVBQVUsQ0FBQ0YsTUFBRCxDQUF2QjtBQUNBLFVBQU1HLElBQUksR0FBR0MsVUFBVSxDQUFDSCxJQUFELEVBQU9QLE9BQU8sQ0FBQ1csV0FBZixDQUF2QjtBQUVBLFVBQU1DLGFBQWEsR0FBR1osT0FBTyxDQUFDTSxNQUFELENBQTdCOztBQUNBRCxPQUFHLENBQUNDLE1BQUQsQ0FBSCxHQUFjLE9BQU8sR0FBR08sSUFBVixLQUFtQjtBQUMvQixVQUFJO0FBQ0ZaLGNBQU0sQ0FBQ2EsS0FBUCxDQUFhTCxJQUFiLEVBQW1CLEdBQUdJLElBQXRCO0FBQ0EsZUFBTyxNQUFNRCxhQUFhLENBQUMsR0FBR0MsSUFBSixDQUExQjtBQUNELE9BSEQsQ0FHRSxPQUFPRSxLQUFQLEVBQWM7QUFDZGQsY0FBTSxDQUFDYyxLQUFQLENBQWMsR0FBRU4sSUFBSyxRQUFyQixFQUE4Qk0sS0FBOUI7QUFDQSxjQUFNQyxDQUFDLEdBQUcsSUFBSUMscURBQUosQ0FBaUJGLEtBQWpCLENBQVY7QUFDQUMsU0FBQyxDQUFDVCxJQUFGLEdBQVUsR0FBRUEsSUFBSyxPQUFqQjtBQUNBLGNBQU1TLENBQU47QUFDRDtBQUNGLEtBVkQ7O0FBV0EsV0FBT1gsR0FBUDtBQUNELEdBakJNLEVBaUJKLEVBakJJLENBQVA7QUFrQkQ7O0FBRUQsU0FBU0csVUFBVCxDQUFvQlUsQ0FBcEIsRUFBdUI7QUFDckIsU0FBUSxHQUFFQSxDQUFDLENBQUMsQ0FBRCxDQUFELENBQUtDLFdBQUwsRUFBbUIsR0FBRUQsQ0FBQyxDQUFDRSxLQUFGLENBQVEsQ0FBUixDQUFXLEVBQTFDO0FBQ0Q7O0FBRUQsU0FBU1YsVUFBVCxDQUFvQlEsQ0FBcEIsRUFBdUJHLE1BQU0sR0FBRyxTQUFoQyxFQUEyQztBQUN6QyxTQUFRLEdBQUVBLE1BQU8sSUFBR0gsQ0FBQyxDQUFDSSxPQUFGLENBQVUsVUFBVixFQUFzQixLQUF0QixDQUE2QixFQUExQyxDQUE0Q0gsV0FBNUMsRUFBUDtBQUNEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL2FkYXB0ZXJzL2Vycm9yLWhhbmRsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVbmtub3duRXJyb3IgfSBmcm9tIFwiLi4vbGliL2Vycm9yc1wiXG5cbi8qKlxuICogSGFuZGxlcyBhZGFwdGVyIGluZHVjZWQgZXJyb3JzLlxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9hZGFwdGVyc1wiKS5BZGFwdGVySW5zdGFuY2V9IGFkYXB0ZXJcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXNcIikuTG9nZ2VySW5zdGFuY2V9IGxvZ2dlclxuICogQHJldHVybiB7aW1wb3J0KFwidHlwZXMvYWRhcHRlcnNcIikuQWRhcHRlckluc3RhbmNlfVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGFwdGVyRXJyb3JIYW5kbGVyKGFkYXB0ZXIsIGxvZ2dlcikge1xuICByZXR1cm4gT2JqZWN0LmtleXMoYWRhcHRlcikucmVkdWNlKChhY2MsIG1ldGhvZCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBjYXBpdGFsaXplKG1ldGhvZClcbiAgICBjb25zdCBjb2RlID0gdXBwZXJTbmFrZShuYW1lLCBhZGFwdGVyLmRpc3BsYXlOYW1lKVxuXG4gICAgY29uc3QgYWRhcHRlck1ldGhvZCA9IGFkYXB0ZXJbbWV0aG9kXVxuICAgIGFjY1ttZXRob2RdID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1Zyhjb2RlLCAuLi5hcmdzKVxuICAgICAgICByZXR1cm4gYXdhaXQgYWRhcHRlck1ldGhvZCguLi5hcmdzKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGAke2NvZGV9X0VSUk9SYCwgZXJyb3IpXG4gICAgICAgIGNvbnN0IGUgPSBuZXcgVW5rbm93bkVycm9yKGVycm9yKVxuICAgICAgICBlLm5hbWUgPSBgJHtuYW1lfUVycm9yYFxuICAgICAgICB0aHJvdyBlXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY2NcbiAgfSwge30pXG59XG5cbmZ1bmN0aW9uIGNhcGl0YWxpemUocykge1xuICByZXR1cm4gYCR7c1swXS50b1VwcGVyQ2FzZSgpfSR7cy5zbGljZSgxKX1gXG59XG5cbmZ1bmN0aW9uIHVwcGVyU25ha2UocywgcHJlZml4ID0gXCJBREFQVEVSXCIpIHtcbiAgcmV0dXJuIGAke3ByZWZpeH1fJHtzLnJlcGxhY2UoLyhbQS1aXSkvZywgXCJfJDFcIil9YC50b1VwcGVyQ2FzZSgpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/adapters/error-handler.js\n");

/***/ }),

/***/ "./next-auth/adapters/index.js":
/*!*************************************!*\
  !*** ./next-auth/adapters/index.js ***!
  \*************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TypeORM\": function() { return /* reexport module object */ _typeorm__WEBPACK_IMPORTED_MODULE_0__; },\n/* harmony export */   \"Prisma\": function() { return /* reexport module object */ _prisma__WEBPACK_IMPORTED_MODULE_1__; }\n/* harmony export */ });\n/* harmony import */ var _typeorm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeorm */ \"./next-auth/adapters/typeorm.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prisma */ \"./next-auth/adapters/prisma.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  Default: _typeorm__WEBPACK_IMPORTED_MODULE_0__.Adapter,\n  TypeORM: _typeorm__WEBPACK_IMPORTED_MODULE_0__,\n  Prisma: _prisma__WEBPACK_IMPORTED_MODULE_1__\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2FkYXB0ZXJzL2luZGV4LmpzPzFhOTUiXSwibmFtZXMiOlsiRGVmYXVsdCIsIlR5cGVPUk0iLCJQcmlzbWEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQSwrREFBZTtBQUNiQSxTQUFPLEVBQUVDLDZDQURJO0FBRWJBLFNBRmE7QUFHYkMsUUFBTUE7QUFITyxDQUFmIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL2FkYXB0ZXJzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVHlwZU9STSBmcm9tIFwiLi90eXBlb3JtXCJcbmltcG9ydCAqIGFzIFByaXNtYSBmcm9tIFwiLi9wcmlzbWFcIlxuXG5leHBvcnQgeyBUeXBlT1JNLCBQcmlzbWEgfVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIERlZmF1bHQ6IFR5cGVPUk0uQWRhcHRlcixcbiAgVHlwZU9STSxcbiAgUHJpc21hLFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/adapters/index.js\n");

/***/ }),

/***/ "./next-auth/adapters/prisma.js":
/*!**************************************!*\
  !*** ./next-auth/adapters/prisma.js ***!
  \**************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Adapter\": function() { return /* reexport safe */ _next_auth_prisma_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaLegacyAdapter; }\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-legacy-adapter */ \"@next-auth/prisma-legacy-adapter\");\n/* harmony import */ var _next_auth_prisma_legacy_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_prisma_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Source code can be found at:\n * https://github.com/nextauthjs/adapters/tree/canary/packages/prisma-legacy\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2FkYXB0ZXJzL3ByaXNtYS5qcz80ODkyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL2FkYXB0ZXJzL3ByaXNtYS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTb3VyY2UgY29kZSBjYW4gYmUgZm91bmQgYXQ6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmV4dGF1dGhqcy9hZGFwdGVycy90cmVlL2NhbmFyeS9wYWNrYWdlcy9wcmlzbWEtbGVnYWN5XG4gKi9cblxuZXhwb3J0IHsgUHJpc21hTGVnYWN5QWRhcHRlciBhcyBBZGFwdGVyIH0gZnJvbSBcIkBuZXh0LWF1dGgvcHJpc21hLWxlZ2FjeS1hZGFwdGVyXCJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/adapters/prisma.js\n");

/***/ }),

/***/ "./next-auth/adapters/typeorm.js":
/*!***************************************!*\
  !*** ./next-auth/adapters/typeorm.js ***!
  \***************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Adapter\": function() { return /* reexport safe */ _next_auth_typeorm_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__.TypeORMLegacyAdapter; },\n/* harmony export */   \"Models\": function() { return /* reexport safe */ _next_auth_typeorm_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__.Models; }\n/* harmony export */ });\n/* harmony import */ var _next_auth_typeorm_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/typeorm-legacy-adapter */ \"@next-auth/typeorm-legacy-adapter\");\n/* harmony import */ var _next_auth_typeorm_legacy_adapter__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_next_auth_typeorm_legacy_adapter__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * Source code can be found at:\n * https://github.com/nextauthjs/adapters/tree/canary/packages/typeorm-legacy\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2FkYXB0ZXJzL3R5cGVvcm0uanM/ZmIwMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9uZXh0LWF1dGgvYWRhcHRlcnMvdHlwZW9ybS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTb3VyY2UgY29kZSBjYW4gYmUgZm91bmQgYXQ6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmV4dGF1dGhqcy9hZGFwdGVycy90cmVlL2NhbmFyeS9wYWNrYWdlcy90eXBlb3JtLWxlZ2FjeVxuICovXG5cbmV4cG9ydCB7XG4gIFR5cGVPUk1MZWdhY3lBZGFwdGVyIGFzIEFkYXB0ZXIsXG4gIE1vZGVscyxcbn0gZnJvbSBcIkBuZXh0LWF1dGgvdHlwZW9ybS1sZWdhY3ktYWRhcHRlclwiXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/adapters/typeorm.js\n");

/***/ }),

/***/ "./next-auth/css/index.js":
/*!********************************!*\
  !*** ./next-auth/css/index.js ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ css; }\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n// To support serverless targets (which don't work if you try to read in things\n// like CSS files at run time) this file is replaced in production builds with\n// a function that returns compiled CSS (embedded as a string in the function).\n\n\nconst pathToCss = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), '/dist/css/index.css');\nfunction css() {\n  return fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(pathToCss, 'utf8');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2Nzcy9pbmRleC5qcz80YTBhIl0sIm5hbWVzIjpbInBhdGhUb0NzcyIsInBhdGgiLCJwcm9jZXNzIiwiY3dkIiwiY3NzIiwiZnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLFNBQVMsR0FBR0MsZ0RBQUEsQ0FBVUMsT0FBTyxDQUFDQyxHQUFSLEVBQVYsRUFBeUIscUJBQXpCLENBQWxCO0FBRWUsU0FBU0MsR0FBVCxHQUFnQjtBQUM3QixTQUFPQyxzREFBQSxDQUFnQkwsU0FBaEIsRUFBMkIsTUFBM0IsQ0FBUDtBQUNEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL2Nzcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRvIHN1cHBvcnQgc2VydmVybGVzcyB0YXJnZXRzICh3aGljaCBkb24ndCB3b3JrIGlmIHlvdSB0cnkgdG8gcmVhZCBpbiB0aGluZ3Ncbi8vIGxpa2UgQ1NTIGZpbGVzIGF0IHJ1biB0aW1lKSB0aGlzIGZpbGUgaXMgcmVwbGFjZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMgd2l0aFxuLy8gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgY29tcGlsZWQgQ1NTIChlbWJlZGRlZCBhcyBhIHN0cmluZyBpbiB0aGUgZnVuY3Rpb24pLlxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcblxuY29uc3QgcGF0aFRvQ3NzID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcvZGlzdC9jc3MvaW5kZXguY3NzJylcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3NzICgpIHtcbiAgcmV0dXJuIGZzLnJlYWRGaWxlU3luYyhwYXRoVG9Dc3MsICd1dGY4Jylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/css/index.js\n");

/***/ }),

/***/ "./next-auth/lib/errors.js":
/*!*********************************!*\
  !*** ./next-auth/lib/errors.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"UnknownError\": function() { return /* binding */ UnknownError; },\n/* harmony export */   \"OAuthCallbackError\": function() { return /* binding */ OAuthCallbackError; },\n/* harmony export */   \"AccountNotLinkedError\": function() { return /* binding */ AccountNotLinkedError; },\n/* harmony export */   \"CreateUserError\": function() { return /* binding */ CreateUserError; },\n/* harmony export */   \"GetUserError\": function() { return /* binding */ GetUserError; },\n/* harmony export */   \"GetUserByEmailError\": function() { return /* binding */ GetUserByEmailError; },\n/* harmony export */   \"GetUserByIdError\": function() { return /* binding */ GetUserByIdError; },\n/* harmony export */   \"GetUserByProviderAccountIdError\": function() { return /* binding */ GetUserByProviderAccountIdError; },\n/* harmony export */   \"UpdateUserError\": function() { return /* binding */ UpdateUserError; },\n/* harmony export */   \"DeleteUserError\": function() { return /* binding */ DeleteUserError; },\n/* harmony export */   \"LinkAccountError\": function() { return /* binding */ LinkAccountError; },\n/* harmony export */   \"UnlinkAccountError\": function() { return /* binding */ UnlinkAccountError; },\n/* harmony export */   \"CreateSessionError\": function() { return /* binding */ CreateSessionError; },\n/* harmony export */   \"GetSessionError\": function() { return /* binding */ GetSessionError; },\n/* harmony export */   \"UpdateSessionError\": function() { return /* binding */ UpdateSessionError; },\n/* harmony export */   \"DeleteSessionError\": function() { return /* binding */ DeleteSessionError; },\n/* harmony export */   \"CreateVerificationRequestError\": function() { return /* binding */ CreateVerificationRequestError; },\n/* harmony export */   \"GetVerificationRequestError\": function() { return /* binding */ GetVerificationRequestError; },\n/* harmony export */   \"DeleteVerificationRequestError\": function() { return /* binding */ DeleteVerificationRequestError; }\n/* harmony export */ });\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * Same as the default `Error`, but it is JSON serializable.\n * @source https://iaincollins.medium.com/error-handling-in-javascript-a6172ccdf9af\n */\nclass UnknownError extends Error {\n  constructor(error) {\n    var _error$message;\n\n    // Support passing error or string\n    super((_error$message = error === null || error === void 0 ? void 0 : error.message) !== null && _error$message !== void 0 ? _error$message : error);\n    this.name = \"UnknownError\";\n\n    if (error instanceof Error) {\n      this.stack = error.stack;\n    }\n  }\n\n  toJSON() {\n    return {\n      name: this.name,\n      message: this.message,\n      stack: this.stack\n    };\n  }\n\n}\nclass OAuthCallbackError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"OAuthCallbackError\");\n  }\n\n}\n/**\n * Thrown when an Email address is already associated with an account\n * but the user is trying an OAuth account that is not linked to it.\n */\n\nclass AccountNotLinkedError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"AccountNotLinkedError\");\n  }\n\n}\nclass CreateUserError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"CreateUserError\");\n  }\n\n}\nclass GetUserError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetUserError\");\n  }\n\n}\nclass GetUserByEmailError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetUserByEmailError\");\n  }\n\n}\nclass GetUserByIdError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetUserByIdError\");\n  }\n\n}\nclass GetUserByProviderAccountIdError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetUserByProviderAccountIdError\");\n  }\n\n}\nclass UpdateUserError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"UpdateUserError\");\n  }\n\n}\nclass DeleteUserError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"DeleteUserError\");\n  }\n\n}\nclass LinkAccountError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"LinkAccountError\");\n  }\n\n}\nclass UnlinkAccountError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"UnlinkAccountError\");\n  }\n\n}\nclass CreateSessionError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"CreateSessionError\");\n  }\n\n}\nclass GetSessionError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetSessionError\");\n  }\n\n}\nclass UpdateSessionError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"UpdateSessionError\");\n  }\n\n}\nclass DeleteSessionError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"DeleteSessionError\");\n  }\n\n}\nclass CreateVerificationRequestError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"CreateVerificationRequestError\");\n  }\n\n}\nclass GetVerificationRequestError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"GetVerificationRequestError\");\n  }\n\n}\nclass DeleteVerificationRequestError extends UnknownError {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"name\", \"DeleteVerificationRequestError\");\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2xpYi9lcnJvcnMuanM/MzQ3NyJdLCJuYW1lcyI6WyJVbmtub3duRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3IiLCJtZXNzYWdlIiwibmFtZSIsInN0YWNrIiwidG9KU09OIiwiT0F1dGhDYWxsYmFja0Vycm9yIiwiQWNjb3VudE5vdExpbmtlZEVycm9yIiwiQ3JlYXRlVXNlckVycm9yIiwiR2V0VXNlckVycm9yIiwiR2V0VXNlckJ5RW1haWxFcnJvciIsIkdldFVzZXJCeUlkRXJyb3IiLCJHZXRVc2VyQnlQcm92aWRlckFjY291bnRJZEVycm9yIiwiVXBkYXRlVXNlckVycm9yIiwiRGVsZXRlVXNlckVycm9yIiwiTGlua0FjY291bnRFcnJvciIsIlVubGlua0FjY291bnRFcnJvciIsIkNyZWF0ZVNlc3Npb25FcnJvciIsIkdldFNlc3Npb25FcnJvciIsIlVwZGF0ZVNlc3Npb25FcnJvciIsIkRlbGV0ZVNlc3Npb25FcnJvciIsIkNyZWF0ZVZlcmlmaWNhdGlvblJlcXVlc3RFcnJvciIsIkdldFZlcmlmaWNhdGlvblJlcXVlc3RFcnJvciIsIkRlbGV0ZVZlcmlmaWNhdGlvblJlcXVlc3RFcnJvciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxZQUFOLFNBQTJCQyxLQUEzQixDQUFpQztBQUN0Q0MsYUFBVyxDQUFDQyxLQUFELEVBQVE7QUFBQTs7QUFDakI7QUFDQSw0QkFBTUEsS0FBTixhQUFNQSxLQUFOLHVCQUFNQSxLQUFLLENBQUVDLE9BQWIsMkRBQXdCRCxLQUF4QjtBQUNBLFNBQUtFLElBQUwsR0FBWSxjQUFaOztBQUNBLFFBQUlGLEtBQUssWUFBWUYsS0FBckIsRUFBNEI7QUFDMUIsV0FBS0ssS0FBTCxHQUFhSCxLQUFLLENBQUNHLEtBQW5CO0FBQ0Q7QUFDRjs7QUFFREMsUUFBTSxHQUFHO0FBQ1AsV0FBTztBQUNMRixVQUFJLEVBQUUsS0FBS0EsSUFETjtBQUVMRCxhQUFPLEVBQUUsS0FBS0EsT0FGVDtBQUdMRSxXQUFLLEVBQUUsS0FBS0E7QUFIUCxLQUFQO0FBS0Q7O0FBaEJxQztBQW1CakMsTUFBTUUsa0JBQU4sU0FBaUNSLFlBQWpDLENBQThDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDNUMsb0JBRDRDO0FBQUE7O0FBQUE7QUFJckQ7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sTUFBTVMscUJBQU4sU0FBb0NULFlBQXBDLENBQWlEO0FBQUE7QUFBQTs7QUFBQSxrQ0FDL0MsdUJBRCtDO0FBQUE7O0FBQUE7QUFJakQsTUFBTVUsZUFBTixTQUE4QlYsWUFBOUIsQ0FBMkM7QUFBQTtBQUFBOztBQUFBLGtDQUN6QyxpQkFEeUM7QUFBQTs7QUFBQTtBQUkzQyxNQUFNVyxZQUFOLFNBQTJCWCxZQUEzQixDQUF3QztBQUFBO0FBQUE7O0FBQUEsa0NBQ3RDLGNBRHNDO0FBQUE7O0FBQUE7QUFJeEMsTUFBTVksbUJBQU4sU0FBa0NaLFlBQWxDLENBQStDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDN0MscUJBRDZDO0FBQUE7O0FBQUE7QUFJL0MsTUFBTWEsZ0JBQU4sU0FBK0JiLFlBQS9CLENBQTRDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDMUMsa0JBRDBDO0FBQUE7O0FBQUE7QUFJNUMsTUFBTWMsK0JBQU4sU0FBOENkLFlBQTlDLENBQTJEO0FBQUE7QUFBQTs7QUFBQSxrQ0FDekQsaUNBRHlEO0FBQUE7O0FBQUE7QUFJM0QsTUFBTWUsZUFBTixTQUE4QmYsWUFBOUIsQ0FBMkM7QUFBQTtBQUFBOztBQUFBLGtDQUN6QyxpQkFEeUM7QUFBQTs7QUFBQTtBQUkzQyxNQUFNZ0IsZUFBTixTQUE4QmhCLFlBQTlCLENBQTJDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDekMsaUJBRHlDO0FBQUE7O0FBQUE7QUFJM0MsTUFBTWlCLGdCQUFOLFNBQStCakIsWUFBL0IsQ0FBNEM7QUFBQTtBQUFBOztBQUFBLGtDQUMxQyxrQkFEMEM7QUFBQTs7QUFBQTtBQUk1QyxNQUFNa0Isa0JBQU4sU0FBaUNsQixZQUFqQyxDQUE4QztBQUFBO0FBQUE7O0FBQUEsa0NBQzVDLG9CQUQ0QztBQUFBOztBQUFBO0FBSTlDLE1BQU1tQixrQkFBTixTQUFpQ25CLFlBQWpDLENBQThDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDNUMsb0JBRDRDO0FBQUE7O0FBQUE7QUFJOUMsTUFBTW9CLGVBQU4sU0FBOEJwQixZQUE5QixDQUEyQztBQUFBO0FBQUE7O0FBQUEsa0NBQ3pDLGlCQUR5QztBQUFBOztBQUFBO0FBSTNDLE1BQU1xQixrQkFBTixTQUFpQ3JCLFlBQWpDLENBQThDO0FBQUE7QUFBQTs7QUFBQSxrQ0FDNUMsb0JBRDRDO0FBQUE7O0FBQUE7QUFJOUMsTUFBTXNCLGtCQUFOLFNBQWlDdEIsWUFBakMsQ0FBOEM7QUFBQTtBQUFBOztBQUFBLGtDQUM1QyxvQkFENEM7QUFBQTs7QUFBQTtBQUk5QyxNQUFNdUIsOEJBQU4sU0FBNkN2QixZQUE3QyxDQUEwRDtBQUFBO0FBQUE7O0FBQUEsa0NBQ3hELGdDQUR3RDtBQUFBOztBQUFBO0FBSTFELE1BQU13QiwyQkFBTixTQUEwQ3hCLFlBQTFDLENBQXVEO0FBQUE7QUFBQTs7QUFBQSxrQ0FDckQsNkJBRHFEO0FBQUE7O0FBQUE7QUFJdkQsTUFBTXlCLDhCQUFOLFNBQTZDekIsWUFBN0MsQ0FBMEQ7QUFBQTtBQUFBOztBQUFBLGtDQUN4RCxnQ0FEd0Q7QUFBQTs7QUFBQSIsImZpbGUiOiIuL25leHQtYXV0aC9saWIvZXJyb3JzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTYW1lIGFzIHRoZSBkZWZhdWx0IGBFcnJvcmAsIGJ1dCBpdCBpcyBKU09OIHNlcmlhbGl6YWJsZS5cbiAqIEBzb3VyY2UgaHR0cHM6Ly9pYWluY29sbGlucy5tZWRpdW0uY29tL2Vycm9yLWhhbmRsaW5nLWluLWphdmFzY3JpcHQtYTYxNzJjY2RmOWFmXG4gKi9cbmV4cG9ydCBjbGFzcyBVbmtub3duRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGVycm9yKSB7XG4gICAgLy8gU3VwcG9ydCBwYXNzaW5nIGVycm9yIG9yIHN0cmluZ1xuICAgIHN1cGVyKGVycm9yPy5tZXNzYWdlID8/IGVycm9yKVxuICAgIHRoaXMubmFtZSA9IFwiVW5rbm93bkVycm9yXCJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrXG4gICAgfVxuICB9XG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9BdXRoQ2FsbGJhY2tFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIk9BdXRoQ2FsbGJhY2tFcnJvclwiXG59XG5cbi8qKlxuICogVGhyb3duIHdoZW4gYW4gRW1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhbiBhY2NvdW50XG4gKiBidXQgdGhlIHVzZXIgaXMgdHJ5aW5nIGFuIE9BdXRoIGFjY291bnQgdGhhdCBpcyBub3QgbGlua2VkIHRvIGl0LlxuICovXG5leHBvcnQgY2xhc3MgQWNjb3VudE5vdExpbmtlZEVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiQWNjb3VudE5vdExpbmtlZEVycm9yXCJcbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVVzZXJFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkNyZWF0ZVVzZXJFcnJvclwiXG59XG5cbmV4cG9ydCBjbGFzcyBHZXRVc2VyRXJyb3IgZXh0ZW5kcyBVbmtub3duRXJyb3Ige1xuICBuYW1lID0gXCJHZXRVc2VyRXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlckJ5RW1haWxFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkdldFVzZXJCeUVtYWlsRXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlckJ5SWRFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkdldFVzZXJCeUlkRXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlckJ5UHJvdmlkZXJBY2NvdW50SWRFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkdldFVzZXJCeVByb3ZpZGVyQWNjb3VudElkRXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlVXNlckVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiVXBkYXRlVXNlckVycm9yXCJcbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZVVzZXJFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkRlbGV0ZVVzZXJFcnJvclwiXG59XG5cbmV4cG9ydCBjbGFzcyBMaW5rQWNjb3VudEVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiTGlua0FjY291bnRFcnJvclwiXG59XG5cbmV4cG9ydCBjbGFzcyBVbmxpbmtBY2NvdW50RXJyb3IgZXh0ZW5kcyBVbmtub3duRXJyb3Ige1xuICBuYW1lID0gXCJVbmxpbmtBY2NvdW50RXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlU2Vzc2lvbkVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiQ3JlYXRlU2Vzc2lvbkVycm9yXCJcbn1cblxuZXhwb3J0IGNsYXNzIEdldFNlc3Npb25FcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkdldFNlc3Npb25FcnJvclwiXG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVTZXNzaW9uRXJyb3IgZXh0ZW5kcyBVbmtub3duRXJyb3Ige1xuICBuYW1lID0gXCJVcGRhdGVTZXNzaW9uRXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlU2Vzc2lvbkVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiRGVsZXRlU2Vzc2lvbkVycm9yXCJcbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVZlcmlmaWNhdGlvblJlcXVlc3RFcnJvciBleHRlbmRzIFVua25vd25FcnJvciB7XG4gIG5hbWUgPSBcIkNyZWF0ZVZlcmlmaWNhdGlvblJlcXVlc3RFcnJvclwiXG59XG5cbmV4cG9ydCBjbGFzcyBHZXRWZXJpZmljYXRpb25SZXF1ZXN0RXJyb3IgZXh0ZW5kcyBVbmtub3duRXJyb3Ige1xuICBuYW1lID0gXCJHZXRWZXJpZmljYXRpb25SZXF1ZXN0RXJyb3JcIlxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlVmVyaWZpY2F0aW9uUmVxdWVzdEVycm9yIGV4dGVuZHMgVW5rbm93bkVycm9yIHtcbiAgbmFtZSA9IFwiRGVsZXRlVmVyaWZpY2F0aW9uUmVxdWVzdEVycm9yXCJcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/lib/errors.js\n");

/***/ }),

/***/ "./next-auth/lib/jwt.js":
/*!******************************!*\
  !*** ./next-auth/lib/jwt.js ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"encode\": function() { return /* binding */ encode; },\n/* harmony export */   \"decode\": function() { return /* binding */ decode; },\n/* harmony export */   \"getToken\": function() { return /* binding */ getToken; }\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jose */ \"jose\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jose__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"./next-auth/lib/logger.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n // Set default algorithm to use for auto-generated signing key\n\nconst DEFAULT_SIGNATURE_ALGORITHM = \"HS512\"; // Set default algorithm for auto-generated symmetric encryption key\n\nconst DEFAULT_ENCRYPTION_ALGORITHM = \"A256GCM\"; // Use encryption or not by default\n\nconst DEFAULT_ENCRYPTION_ENABLED = false;\nconst DEFAULT_MAX_AGE = 30 * 24 * 60 * 60; // 30 days\n\nasync function encode({\n  token = {},\n  maxAge = DEFAULT_MAX_AGE,\n  secret,\n  signingKey,\n  signingOptions = {\n    expiresIn: `${maxAge}s`\n  },\n  encryptionKey,\n  encryptionOptions = {\n    alg: \"dir\",\n    enc: DEFAULT_ENCRYPTION_ALGORITHM,\n    zip: \"DEF\"\n  },\n  encryption = DEFAULT_ENCRYPTION_ENABLED\n} = {}) {\n  // Signing Key\n  const _signingKey = signingKey ? jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(JSON.parse(signingKey)) : getDerivedSigningKey(secret); // Sign token\n\n\n  const signedToken = jose__WEBPACK_IMPORTED_MODULE_1___default().JWT.sign(token, _signingKey, signingOptions);\n\n  if (encryption) {\n    // Encryption Key\n    const _encryptionKey = encryptionKey ? jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(JSON.parse(encryptionKey)) : getDerivedEncryptionKey(secret); // Encrypt token\n\n\n    return jose__WEBPACK_IMPORTED_MODULE_1___default().JWE.encrypt(signedToken, _encryptionKey, encryptionOptions);\n  }\n\n  return signedToken;\n}\nasync function decode({\n  secret,\n  token,\n  maxAge = DEFAULT_MAX_AGE,\n  signingKey,\n  verificationKey = signingKey,\n  // Optional (defaults to encryptionKey)\n  verificationOptions = {\n    maxTokenAge: `${maxAge}s`,\n    algorithms: [DEFAULT_SIGNATURE_ALGORITHM]\n  },\n  encryptionKey,\n  decryptionKey = encryptionKey,\n  // Optional (defaults to encryptionKey)\n  decryptionOptions = {\n    algorithms: [DEFAULT_ENCRYPTION_ALGORITHM]\n  },\n  encryption = DEFAULT_ENCRYPTION_ENABLED\n} = {}) {\n  if (!token) return null;\n  let tokenToVerify = token;\n\n  if (encryption) {\n    // Encryption Key\n    const _encryptionKey = decryptionKey ? jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(JSON.parse(decryptionKey)) : getDerivedEncryptionKey(secret); // Decrypt token\n\n\n    const decryptedToken = jose__WEBPACK_IMPORTED_MODULE_1___default().JWE.decrypt(token, _encryptionKey, decryptionOptions);\n    tokenToVerify = decryptedToken.toString(\"utf8\");\n  } // Signing Key\n\n\n  const _signingKey = verificationKey ? jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(JSON.parse(verificationKey)) : getDerivedSigningKey(secret); // Verify token\n\n\n  return jose__WEBPACK_IMPORTED_MODULE_1___default().JWT.verify(tokenToVerify, _signingKey, verificationOptions);\n}\n/**\n * Server-side method to retrieve the JWT from `req`.\n * @param {{\n * req: NextApiRequest\n * secureCookie?: boolean\n * cookieName?: string\n * raw?: boolean\n * }} params\n */\n\nasync function getToken(params) {\n  var _req$headers$authoriz;\n\n  const {\n    req,\n    // Use secure prefix for cookie name, unless URL is NEXTAUTH_URL is http://\n    // or not set (e.g. development or test instance) case use unprefixed name\n    secureCookie = !(!process.env.NEXTAUTH_URL || process.env.NEXTAUTH_URL.startsWith(\"http://\")),\n    cookieName = secureCookie ? \"__Secure-next-auth.session-token\" : \"next-auth.session-token\",\n    raw = false,\n    decode: _decode = decode\n  } = params;\n  if (!req) throw new Error(\"Must pass `req` to JWT getToken()\"); // Try to get token from cookie\n\n  let token = req.cookies[cookieName]; // If cookie not found in cookie look for bearer token in authorization header.\n  // This allows clients that pass through tokens in headers rather than as\n  // cookies to use this helper function.\n\n  if (!token && ((_req$headers$authoriz = req.headers.authorization) === null || _req$headers$authoriz === void 0 ? void 0 : _req$headers$authoriz.split(\" \")[0]) === \"Bearer\") {\n    const urlEncodedToken = req.headers.authorization.split(\" \")[1];\n    token = decodeURIComponent(urlEncodedToken);\n  }\n\n  if (raw) {\n    return token;\n  }\n\n  try {\n    return _decode(_objectSpread({\n      token\n    }, params));\n  } catch {\n    return null;\n  }\n} // Generate warning (but only once at startup) when auto-generated keys are used\n\nlet DERIVED_SIGNING_KEY_WARNING = false;\nlet DERIVED_ENCRYPTION_KEY_WARNING = false; // Do the better hkdf of Node.js one added in `v15.0.0` and Third Party one\n\nfunction hkdf(secret, {\n  byteLength,\n  encryptionInfo,\n  digest = \"sha256\"\n}) {\n  if ((crypto__WEBPACK_IMPORTED_MODULE_0___default().hkdfSync)) {\n    return Buffer.from(crypto__WEBPACK_IMPORTED_MODULE_0___default().hkdfSync(digest, secret, Buffer.alloc(0), encryptionInfo, byteLength));\n  }\n\n  return __webpack_require__(/*! futoin-hkdf */ \"futoin-hkdf\")(secret, byteLength, {\n    info: encryptionInfo,\n    hash: digest\n  });\n}\n\nfunction getDerivedSigningKey(secret) {\n  if (!DERIVED_SIGNING_KEY_WARNING) {\n    _logger__WEBPACK_IMPORTED_MODULE_2__.default.warn(\"JWT_AUTO_GENERATED_SIGNING_KEY\");\n    DERIVED_SIGNING_KEY_WARNING = true;\n  }\n\n  const buffer = hkdf(secret, {\n    byteLength: 64,\n    encryptionInfo: \"NextAuth.js Generated Signing Key\"\n  });\n  const key = jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(buffer, {\n    alg: DEFAULT_SIGNATURE_ALGORITHM,\n    use: \"sig\",\n    kid: \"nextauth-auto-generated-signing-key\"\n  });\n  return key;\n}\n\nfunction getDerivedEncryptionKey(secret) {\n  if (!DERIVED_ENCRYPTION_KEY_WARNING) {\n    _logger__WEBPACK_IMPORTED_MODULE_2__.default.warn(\"JWT_AUTO_GENERATED_ENCRYPTION_KEY\");\n    DERIVED_ENCRYPTION_KEY_WARNING = true;\n  }\n\n  const buffer = hkdf(secret, {\n    byteLength: 32,\n    encryptionInfo: \"NextAuth.js Generated Encryption Key\"\n  });\n  const key = jose__WEBPACK_IMPORTED_MODULE_1___default().JWK.asKey(buffer, {\n    alg: DEFAULT_ENCRYPTION_ALGORITHM,\n    use: \"enc\",\n    kid: \"nextauth-auto-generated-encryption-key\"\n  });\n  return key;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  encode,\n  decode,\n  getToken\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2xpYi9qd3QuanM/MTcyZiJdLCJuYW1lcyI6WyJERUZBVUxUX1NJR05BVFVSRV9BTEdPUklUSE0iLCJERUZBVUxUX0VOQ1JZUFRJT05fQUxHT1JJVEhNIiwiREVGQVVMVF9FTkNSWVBUSU9OX0VOQUJMRUQiLCJERUZBVUxUX01BWF9BR0UiLCJlbmNvZGUiLCJ0b2tlbiIsIm1heEFnZSIsInNlY3JldCIsInNpZ25pbmdLZXkiLCJzaWduaW5nT3B0aW9ucyIsImV4cGlyZXNJbiIsImVuY3J5cHRpb25LZXkiLCJlbmNyeXB0aW9uT3B0aW9ucyIsImFsZyIsImVuYyIsInppcCIsImVuY3J5cHRpb24iLCJfc2lnbmluZ0tleSIsImpvc2UiLCJKU09OIiwicGFyc2UiLCJnZXREZXJpdmVkU2lnbmluZ0tleSIsInNpZ25lZFRva2VuIiwiX2VuY3J5cHRpb25LZXkiLCJnZXREZXJpdmVkRW5jcnlwdGlvbktleSIsImRlY29kZSIsInZlcmlmaWNhdGlvbktleSIsInZlcmlmaWNhdGlvbk9wdGlvbnMiLCJtYXhUb2tlbkFnZSIsImFsZ29yaXRobXMiLCJkZWNyeXB0aW9uS2V5IiwiZGVjcnlwdGlvbk9wdGlvbnMiLCJ0b2tlblRvVmVyaWZ5IiwiZGVjcnlwdGVkVG9rZW4iLCJ0b1N0cmluZyIsImdldFRva2VuIiwicGFyYW1zIiwicmVxIiwic2VjdXJlQ29va2llIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1VSTCIsInN0YXJ0c1dpdGgiLCJjb29raWVOYW1lIiwicmF3IiwiX2RlY29kZSIsIkVycm9yIiwiY29va2llcyIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3BsaXQiLCJ1cmxFbmNvZGVkVG9rZW4iLCJkZWNvZGVVUklDb21wb25lbnQiLCJERVJJVkVEX1NJR05JTkdfS0VZX1dBUk5JTkciLCJERVJJVkVEX0VOQ1JZUFRJT05fS0VZX1dBUk5JTkciLCJoa2RmIiwiYnl0ZUxlbmd0aCIsImVuY3J5cHRpb25JbmZvIiwiZGlnZXN0IiwiY3J5cHRvIiwiQnVmZmVyIiwiZnJvbSIsImFsbG9jIiwicmVxdWlyZSIsImluZm8iLCJoYXNoIiwibG9nZ2VyIiwiYnVmZmVyIiwia2V5IiwidXNlIiwia2lkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNQSwyQkFBMkIsR0FBRyxPQUFwQyxDLENBRUE7O0FBQ0EsTUFBTUMsNEJBQTRCLEdBQUcsU0FBckMsQyxDQUVBOztBQUNBLE1BQU1DLDBCQUEwQixHQUFHLEtBQW5DO0FBRUEsTUFBTUMsZUFBZSxHQUFHLEtBQUssRUFBTCxHQUFVLEVBQVYsR0FBZSxFQUF2QyxDLENBQTBDOztBQUVuQyxlQUFlQyxNQUFmLENBQXNCO0FBQzNCQyxPQUFLLEdBQUcsRUFEbUI7QUFFM0JDLFFBQU0sR0FBR0gsZUFGa0I7QUFHM0JJLFFBSDJCO0FBSTNCQyxZQUoyQjtBQUszQkMsZ0JBQWMsR0FBRztBQUNmQyxhQUFTLEVBQUcsR0FBRUosTUFBTztBQUROLEdBTFU7QUFRM0JLLGVBUjJCO0FBUzNCQyxtQkFBaUIsR0FBRztBQUNsQkMsT0FBRyxFQUFFLEtBRGE7QUFFbEJDLE9BQUcsRUFBRWIsNEJBRmE7QUFHbEJjLE9BQUcsRUFBRTtBQUhhLEdBVE87QUFjM0JDLFlBQVUsR0FBR2Q7QUFkYyxJQWV6QixFQWZHLEVBZUM7QUFDTjtBQUNBLFFBQU1lLFdBQVcsR0FBR1QsVUFBVSxHQUMxQlUscURBQUEsQ0FBZUMsSUFBSSxDQUFDQyxLQUFMLENBQVdaLFVBQVgsQ0FBZixDQUQwQixHQUUxQmEsb0JBQW9CLENBQUNkLE1BQUQsQ0FGeEIsQ0FGTSxDQU1OOzs7QUFDQSxRQUFNZSxXQUFXLEdBQUdKLG9EQUFBLENBQWNiLEtBQWQsRUFBcUJZLFdBQXJCLEVBQWtDUixjQUFsQyxDQUFwQjs7QUFFQSxNQUFJTyxVQUFKLEVBQWdCO0FBQ2Q7QUFDQSxVQUFNTyxjQUFjLEdBQUdaLGFBQWEsR0FDaENPLHFEQUFBLENBQWVD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UUFBTVcsR0FBRyxHQUFHbEQscURBQUEsQ0FBZWlELE1BQWYsRUFBdUI7QUFDakN0RCxPQUFHLEVBQUViLDJCQUQ0QjtBQUVqQ3FFLE9BQUcsRUFBRSxLQUY0QjtBQUdqQ0MsT0FBRyxFQUFFO0FBSDRCLEdBQXZCLENBQVo7QUFLQSxTQUFPRixHQUFQO0FBQ0Q7O0FBRUQsU0FBUzVDLHVCQUFULENBQWlDakIsTUFBakMsRUFBeUM7QUFDdkMsTUFBSSxDQUFDK0MsOEJBQUwsRUFBcUM7QUFDbkNZLHFEQUFBLENBQVksbUNBQVo7QUFDQVosa0NBQThCLEdBQUcsSUFBakM7QUFDRDs7QUFFRCxRQUFNYSxNQUFNLEdBQUdaLElBQUksQ0FBQ2hELE1BQUQsRUFBUztBQUMxQmlELGNBQVUsRUFBRSxFQURjO0FBRTFCQyxrQkFBYyxFQUFFO0FBRlUsR0FBVCxDQUFuQjtBQUlBLFFBQU1XLEdBQUcsR0FBR2xELHFEQUFBLENBQWVpRCxNQUFmLEVBQXVCO0FBQ2pDdEQsT0FBRyxFQUFFWiw0QkFENEI7QUFFakNvRSxPQUFHLEVBQUUsS0FGNEI7QUFHakNDLE9BQUcsRUFBRTtBQUg0QixHQUF2QixDQUFaO0FBS0EsU0FBT0YsR0FBUDtBQUNEOztBQUVELCtEQUFlO0FBQ2JoRSxRQURhO0FBRWJxQixRQUZhO0FBR2JVO0FBSGEsQ0FBZiIsImZpbGUiOiIuL25leHQtYXV0aC9saWIvand0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCJcbmltcG9ydCBqb3NlIGZyb20gXCJqb3NlXCJcbmltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCJcblxuLy8gU2V0IGRlZmF1bHQgYWxnb3JpdGhtIHRvIHVzZSBmb3IgYXV0by1nZW5lcmF0ZWQgc2lnbmluZyBrZXlcbmNvbnN0IERFRkFVTFRfU0lHTkFUVVJFX0FMR09SSVRITSA9IFwiSFM1MTJcIlxuXG4vLyBTZXQgZGVmYXVsdCBhbGdvcml0aG0gZm9yIGF1dG8tZ2VuZXJhdGVkIHN5bW1ldHJpYyBlbmNyeXB0aW9uIGtleVxuY29uc3QgREVGQVVMVF9FTkNSWVBUSU9OX0FMR09SSVRITSA9IFwiQTI1NkdDTVwiXG5cbi8vIFVzZSBlbmNyeXB0aW9uIG9yIG5vdCBieSBkZWZhdWx0XG5jb25zdCBERUZBVUxUX0VOQ1JZUFRJT05fRU5BQkxFRCA9IGZhbHNlXG5cbmNvbnN0IERFRkFVTFRfTUFYX0FHRSA9IDMwICogMjQgKiA2MCAqIDYwIC8vIDMwIGRheXNcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuY29kZSh7XG4gIHRva2VuID0ge30sXG4gIG1heEFnZSA9IERFRkFVTFRfTUFYX0FHRSxcbiAgc2VjcmV0LFxuICBzaWduaW5nS2V5LFxuICBzaWduaW5nT3B0aW9ucyA9IHtcbiAgICBleHBpcmVzSW46IGAke21heEFnZX1zYCxcbiAgfSxcbiAgZW5jcnlwdGlvbktleSxcbiAgZW5jcnlwdGlvbk9wdGlvbnMgPSB7XG4gICAgYWxnOiBcImRpclwiLFxuICAgIGVuYzogREVGQVVMVF9FTkNSWVBUSU9OX0FMR09SSVRITSxcbiAgICB6aXA6IFwiREVGXCIsXG4gIH0sXG4gIGVuY3J5cHRpb24gPSBERUZBVUxUX0VOQ1JZUFRJT05fRU5BQkxFRCxcbn0gPSB7fSkge1xuICAvLyBTaWduaW5nIEtleVxuICBjb25zdCBfc2lnbmluZ0tleSA9IHNpZ25pbmdLZXlcbiAgICA/IGpvc2UuSldLLmFzS2V5KEpTT04ucGFyc2Uoc2lnbmluZ0tleSkpXG4gICAgOiBnZXREZXJpdmVkU2lnbmluZ0tleShzZWNyZXQpXG5cbiAgLy8gU2lnbiB0b2tlblxuICBjb25zdCBzaWduZWRUb2tlbiA9IGpvc2UuSldULnNpZ24odG9rZW4sIF9zaWduaW5nS2V5LCBzaWduaW5nT3B0aW9ucylcblxuICBpZiAoZW5jcnlwdGlvbikge1xuICAgIC8vIEVuY3J5cHRpb24gS2V5XG4gICAgY29uc3QgX2VuY3J5cHRpb25LZXkgPSBlbmNyeXB0aW9uS2V5XG4gICAgICA/IGpvc2UuSldLLmFzS2V5KEpTT04ucGFyc2UoZW5jcnlwdGlvbktleSkpXG4gICAgICA6IGdldERlcml2ZWRFbmNyeXB0aW9uS2V5KHNlY3JldClcblxuICAgIC8vIEVuY3J5cHQgdG9rZW5cbiAgICByZXR1cm4gam9zZS5KV0UuZW5jcnlwdChzaWduZWRUb2tlbiwgX2VuY3J5cHRpb25LZXksIGVuY3J5cHRpb25PcHRpb25zKVxuICB9XG4gIHJldHVybiBzaWduZWRUb2tlblxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVjb2RlKHtcbiAgc2VjcmV0LFxuICB0b2tlbixcbiAgbWF4QWdlID0gREVGQVVMVF9NQVhfQUdFLFxuICBzaWduaW5nS2V5LFxuICB2ZXJpZmljYXRpb25LZXkgPSBzaWduaW5nS2V5LCAvLyBPcHRpb25hbCAoZGVmYXVsdHMgdG8gZW5jcnlwdGlvbktleSlcbiAgdmVyaWZpY2F0aW9uT3B0aW9ucyA9IHtcbiAgICBtYXhUb2tlbkFnZTogYCR7bWF4QWdlfXNgLFxuICAgIGFsZ29yaXRobXM6IFtERUZBVUxUX1NJR05BVFVSRV9BTEdPUklUSE1dLFxuICB9LFxuICBlbmNyeXB0aW9uS2V5LFxuICBkZWNyeXB0aW9uS2V5ID0gZW5jcnlwdGlvbktleSwgLy8gT3B0aW9uYWwgKGRlZmF1bHRzIHRvIGVuY3J5cHRpb25LZXkpXG4gIGRlY3J5cHRpb25PcHRpb25zID0ge1xuICAgIGFsZ29yaXRobXM6IFtERUZBVUxUX0VOQ1JZUFRJT05fQUxHT1JJVEhNXSxcbiAgfSxcbiAgZW5jcnlwdGlvbiA9IERFRkFVTFRfRU5DUllQVElPTl9FTkFCTEVELFxufSA9IHt9KSB7XG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsXG5cbiAgbGV0IHRva2VuVG9WZXJpZnkgPSB0b2tlblxuXG4gIGlmIChlbmNyeXB0aW9uKSB7XG4gICAgLy8gRW5jcnlwdGlvbiBLZXlcbiAgICBjb25zdCBfZW5jcnlwdGlvbktleSA9IGRlY3J5cHRpb25LZXlcbiAgICAgID8gam9zZS5KV0suYXNLZXkoSlNPTi5wYXJzZShkZWNyeXB0aW9uS2V5KSlcbiAgICAgIDogZ2V0RGVyaXZlZEVuY3J5cHRpb25LZXkoc2VjcmV0KVxuXG4gICAgLy8gRGVjcnlwdCB0b2tlblxuICAgIGNvbnN0IGRlY3J5cHRlZFRva2VuID0gam9zZS5KV0UuZGVjcnlwdChcbiAgICAgIHRva2VuLFxuICAgICAgX2VuY3J5cHRpb25LZXksXG4gICAgICBkZWNyeXB0aW9uT3B0aW9uc1xuICAgIClcbiAgICB0b2tlblRvVmVyaWZ5ID0gZGVjcnlwdGVkVG9rZW4udG9TdHJpbmcoXCJ1dGY4XCIpXG4gIH1cblxuICAvLyBTaWduaW5nIEtleVxuICBjb25zdCBfc2lnbmluZ0tleSA9IHZlcmlmaWNhdGlvbktleVxuICAgID8gam9zZS5KV0suYXNLZXkoSlNPTi5wYXJzZSh2ZXJpZmljYXRpb25LZXkpKVxuICAgIDogZ2V0RGVyaXZlZFNpZ25pbmdLZXkoc2VjcmV0KVxuXG4gIC8vIFZlcmlmeSB0b2tlblxuICByZXR1cm4gam9zZS5KV1QudmVyaWZ5KHRva2VuVG9WZXJpZnksIF9zaWduaW5nS2V5LCB2ZXJpZmljYXRpb25PcHRpb25zKVxufVxuXG4vKipcbiAqIFNlcnZlci1zaWRlIG1ldGhvZCB0byByZXRyaWV2ZSB0aGUgSldUIGZyb20gYHJlcWAuXG4gKiBAcGFyYW0ge3tcbiAqIHJlcTogTmV4dEFwaVJlcXVlc3RcbiAqIHNlY3VyZUNvb2tpZT86IGJvb2xlYW5cbiAqIGNvb2tpZU5hbWU/OiBzdHJpbmdcbiAqIHJhdz86IGJvb2xlYW5cbiAqIH19IHBhcmFtc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG9rZW4ocGFyYW1zKSB7XG4gIGNvbnN0IHtcbiAgICByZXEsXG4gICAgLy8gVXNlIHNlY3VyZSBwcmVmaXggZm9yIGNvb2tpZSBuYW1lLCB1bmxlc3MgVVJMIGlzIE5FWFRBVVRIX1VSTCBpcyBodHRwOi8vXG4gICAgLy8gb3Igbm90IHNldCAoZS5nLiBkZXZlbG9wbWVudCBvciB0ZXN0IGluc3RhbmNlKSBjYXNlIHVzZSB1bnByZWZpeGVkIG5hbWVcbiAgICBzZWN1cmVDb29raWUgPSAhKFxuICAgICAgIXByb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTCB8fFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMLnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpXG4gICAgKSxcbiAgICBjb29raWVOYW1lID0gc2VjdXJlQ29va2llXG4gICAgICA/IFwiX19TZWN1cmUtbmV4dC1hdXRoLnNlc3Npb24tdG9rZW5cIlxuICAgICAgOiBcIm5leHQtYXV0aC5zZXNzaW9uLXRva2VuXCIsXG4gICAgcmF3ID0gZmFsc2UsXG4gICAgZGVjb2RlOiBfZGVjb2RlID0gZGVjb2RlLFxuICB9ID0gcGFyYW1zXG4gIGlmICghcmVxKSB0aHJvdyBuZXcgRXJyb3IoXCJNdXN0IHBhc3MgYHJlcWAgdG8gSldUIGdldFRva2VuKClcIilcblxuICAvLyBUcnkgdG8gZ2V0IHRva2VuIGZyb20gY29va2llXG4gIGxldCB0b2tlbiA9IHJlcS5jb29raWVzW2Nvb2tpZU5hbWVdXG5cbiAgLy8gSWYgY29va2llIG5vdCBmb3VuZCBpbiBjb29raWUgbG9vayBmb3IgYmVhcmVyIHRva2VuIGluIGF1dGhvcml6YXRpb24gaGVhZGVyLlxuICAvLyBUaGlzIGFsbG93cyBjbGllbnRzIHRoYXQgcGFzcyB0aHJvdWdoIHRva2VucyBpbiBoZWFkZXJzIHJhdGhlciB0aGFuIGFzXG4gIC8vIGNvb2tpZXMgdG8gdXNlIHRoaXMgaGVscGVyIGZ1bmN0aW9uLlxuICBpZiAoIXRva2VuICYmIHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KFwiIFwiKVswXSA9PT0gXCJCZWFyZXJcIikge1xuICAgIGNvbnN0IHVybEVuY29kZWRUb2tlbiA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24uc3BsaXQoXCIgXCIpWzFdXG4gICAgdG9rZW4gPSBkZWNvZGVVUklDb21wb25lbnQodXJsRW5jb2RlZFRva2VuKVxuICB9XG5cbiAgaWYgKHJhdykge1xuICAgIHJldHVybiB0b2tlblxuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gX2RlY29kZSh7IHRva2VuLCAuLi5wYXJhbXMgfSlcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vLyBHZW5lcmF0ZSB3YXJuaW5nIChidXQgb25seSBvbmNlIGF0IHN0YXJ0dXApIHdoZW4gYXV0by1nZW5lcmF0ZWQga2V5cyBhcmUgdXNlZFxubGV0IERFUklWRURfU0lHTklOR19LRVlfV0FSTklORyA9IGZhbHNlXG5sZXQgREVSSVZFRF9FTkNSWVBUSU9OX0tFWV9XQVJOSU5HID0gZmFsc2VcblxuLy8gRG8gdGhlIGJldHRlciBoa2RmIG9mIE5vZGUuanMgb25lIGFkZGVkIGluIGB2MTUuMC4wYCBhbmQgVGhpcmQgUGFydHkgb25lXG5mdW5jdGlvbiBoa2RmKHNlY3JldCwgeyBieXRlTGVuZ3RoLCBlbmNyeXB0aW9uSW5mbywgZGlnZXN0ID0gXCJzaGEyNTZcIiB9KSB7XG4gIGlmIChjcnlwdG8uaGtkZlN5bmMpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oXG4gICAgICBjcnlwdG8uaGtkZlN5bmMoXG4gICAgICAgIGRpZ2VzdCxcbiAgICAgICAgc2VjcmV0LFxuICAgICAgICBCdWZmZXIuYWxsb2MoMCksXG4gICAgICAgIGVuY3J5cHRpb25JbmZvLFxuICAgICAgICBieXRlTGVuZ3RoXG4gICAgICApXG4gICAgKVxuICB9XG4gIHJldHVybiByZXF1aXJlKFwiZnV0b2luLWhrZGZcIikoc2VjcmV0LCBieXRlTGVuZ3RoLCB7XG4gICAgaW5mbzogZW5jcnlwdGlvbkluZm8sXG4gICAgaGFzaDogZGlnZXN0LFxuICB9KVxufVxuXG5mdW5jdGlvbiBnZXREZXJpdmVkU2lnbmluZ0tleShzZWNyZXQpIHtcbiAgaWYgKCFERVJJVkVEX1NJR05JTkdfS0VZX1dBUk5JTkcpIHtcbiAgICBsb2dnZXIud2FybihcIkpXVF9BVVRPX0dFTkVSQVRFRF9TSUdOSU5HX0tFWVwiKVxuICAgIERFUklWRURfU0lHTklOR19LRVlfV0FSTklORyA9IHRydWVcbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IGhrZGYoc2VjcmV0LCB7XG4gICAgYnl0ZUxlbmd0aDogNjQsXG4gICAgZW5jcnlwdGlvbkluZm86IFwiTmV4dEF1dGguanMgR2VuZXJhdGVkIFNpZ25pbmcgS2V5XCIsXG4gIH0pXG4gIGNvbnN0IGtleSA9IGpvc2UuSldLLmFzS2V5KGJ1ZmZlciwge1xuICAgIGFsZzogREVGQVVMVF9TSUdOQVRVUkVfQUxHT1JJVEhNLFxuICAgIHVzZTogXCJzaWdcIixcbiAgICBraWQ6IFwibmV4dGF1dGgtYXV0by1nZW5lcmF0ZWQtc2lnbmluZy1rZXlcIixcbiAgfSlcbiAgcmV0dXJuIGtleVxufVxuXG5mdW5jdGlvbiBnZXREZXJpdmVkRW5jcnlwdGlvbktleShzZWNyZXQpIHtcbiAgaWYgKCFERVJJVkVEX0VOQ1JZUFRJT05fS0VZX1dBUk5JTkcpIHtcbiAgICBsb2dnZXIud2FybihcIkpXVF9BVVRPX0dFTkVSQVRFRF9FTkNSWVBUSU9OX0tFWVwiKVxuICAgIERFUklWRURfRU5DUllQVElPTl9LRVlfV0FSTklORyA9IHRydWVcbiAgfVxuXG4gIGNvbnN0IGJ1ZmZlciA9IGhrZGYoc2VjcmV0LCB7XG4gICAgYnl0ZUxlbmd0aDogMzIsXG4gICAgZW5jcnlwdGlvbkluZm86IFwiTmV4dEF1dGguanMgR2VuZXJhdGVkIEVuY3J5cHRpb24gS2V5XCIsXG4gIH0pXG4gIGNvbnN0IGtleSA9IGpvc2UuSldLLmFzS2V5KGJ1ZmZlciwge1xuICAgIGFsZzogREVGQVVMVF9FTkNSWVBUSU9OX0FMR09SSVRITSxcbiAgICB1c2U6IFwiZW5jXCIsXG4gICAga2lkOiBcIm5leHRhdXRoLWF1dG8tZ2VuZXJhdGVkLWVuY3J5cHRpb24ta2V5XCIsXG4gIH0pXG4gIHJldHVybiBrZXlcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGUsXG4gIGRlY29kZSxcbiAgZ2V0VG9rZW4sXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/lib/jwt.js\n");

/***/ }),

/***/ "./next-auth/lib/logger.js":
/*!*********************************!*\
  !*** ./next-auth/lib/logger.js ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"setLogger\": function() { return /* binding */ setLogger; },\n/* harmony export */   \"proxyLogger\": function() { return /* binding */ proxyLogger; }\n/* harmony export */ });\n/** @type {import(\"types\").LoggerInstance} */\nconst _logger = {\n  error(code, ...message) {\n    console.error(`[next-auth][error][${code.toLowerCase()}]`, `\\nhttps://next-auth.js.org/errors#${code.toLowerCase()}`, ...message);\n  },\n\n  warn(code, ...message) {\n    console.warn(`[next-auth][warn][${code.toLowerCase()}]`, `\\nhttps://next-auth.js.org/warnings#${code.toLowerCase()}`, ...message);\n  },\n\n  debug(code, ...message) {\n    var _process, _process$env;\n\n    if (!((_process = process) !== null && _process !== void 0 && (_process$env = _process.env) !== null && _process$env !== void 0 && _process$env._NEXTAUTH_DEBUG)) return;\n    console.log(`[next-auth][debug][${code.toLowerCase()}]`, ...message);\n  }\n\n};\n/**\n * Override the built-in logger.\n * Any `undefined` level will use the default logger.\n * @param {Partial<import(\"types\").LoggerInstance>} newLogger\n */\n\nfunction setLogger(newLogger = {}) {\n  if (newLogger.error) _logger.error = newLogger.error;\n  if (newLogger.warn) _logger.warn = newLogger.warn;\n  if (newLogger.debug) _logger.debug = newLogger.debug;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (_logger);\n/**\n * Serializes client-side log messages and sends them to the server\n * @param {import(\"types\").LoggerInstance} logger\n * @param {string} basePath\n * @return {import(\"types\").LoggerInstance}\n */\n\nfunction proxyLogger(logger = _logger, basePath) {\n  try {\n    if (true) {\n      return logger;\n    }\n\n    const clientLogger = {};\n\n    for (const level in logger) {\n      clientLogger[level] = (code, ...message) => {\n        _logger[level](code, ...message); // Log on client as usual\n\n\n        const url = `${basePath}/_log`;\n        const body = new URLSearchParams({\n          level,\n          code,\n          message: JSON.stringify(message.map(m => {\n            if (m instanceof Error) {\n              // Serializing errors: https://iaincollins.medium.com/error-handling-in-javascript-a6172ccdf9af\n              return {\n                name: m.name,\n                message: m.message,\n                stack: m.stack\n              };\n            }\n\n            return m;\n          }))\n        });\n\n        if (navigator.sendBeacon) {\n          return navigator.sendBeacon(url, body);\n        }\n\n        return fetch(url, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body\n        });\n      };\n    }\n\n    return clientLogger;\n  } catch {\n    return _logger;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2xpYi9sb2dnZXIuanM/NDk0MSJdLCJuYW1lcyI6WyJfbG9nZ2VyIiwiZXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImNvbnNvbGUiLCJ0b0xvd2VyQ2FzZSIsIndhcm4iLCJkZWJ1ZyIsInByb2Nlc3MiLCJlbnYiLCJfTkVYVEFVVEhfREVCVUciLCJsb2ciLCJzZXRMb2dnZXIiLCJuZXdMb2dnZXIiLCJwcm94eUxvZ2dlciIsImxvZ2dlciIsImJhc2VQYXRoIiwiY2xpZW50TG9nZ2VyIiwibGV2ZWwiLCJ1cmwiLCJib2R5IiwiVVJMU2VhcmNoUGFyYW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1hcCIsIm0iLCJFcnJvciIsIm5hbWUiLCJzdGFjayIsIm5hdmlnYXRvciIsInNlbmRCZWFjb24iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxNQUFNQSxPQUFPLEdBQUc7QUFDZEMsT0FBSyxDQUFDQyxJQUFELEVBQU8sR0FBR0MsT0FBVixFQUFtQjtBQUN0QkMsV0FBTyxDQUFDSCxLQUFSLENBQ0csc0JBQXFCQyxJQUFJLENBQUNHLFdBQUwsRUFBbUIsR0FEM0MsRUFFRyxxQ0FBb0NILElBQUksQ0FBQ0csV0FBTCxFQUFtQixFQUYxRCxFQUdFLEdBQUdGLE9BSEw7QUFLRCxHQVBhOztBQVFkRyxNQUFJLENBQUNKLElBQUQsRUFBTyxHQUFHQyxPQUFWLEVBQW1CO0FBQ3JCQyxXQUFPLENBQUNFLElBQVIsQ0FDRyxxQkFBb0JKLElBQUksQ0FBQ0csV0FBTCxFQUFtQixHQUQxQyxFQUVHLHVDQUFzQ0gsSUFBSSxDQUFDRyxXQUFMLEVBQW1CLEVBRjVELEVBR0UsR0FBR0YsT0FITDtBQUtELEdBZGE7O0FBZWRJLE9BQUssQ0FBQ0wsSUFBRCxFQUFPLEdBQUdDLE9BQVYsRUFBbUI7QUFBQTs7QUFDdEIsUUFBSSxjQUFDSyxPQUFELHFEQUFDLFNBQVNDLEdBQVYseUNBQUMsYUFBY0MsZUFBZixDQUFKLEVBQW9DO0FBQ3BDTixXQUFPLENBQUNPLEdBQVIsQ0FBYSxzQkFBcUJULElBQUksQ0FBQ0csV0FBTCxFQUFtQixHQUFyRCxFQUF5RCxHQUFHRixPQUE1RDtBQUNEOztBQWxCYSxDQUFoQjtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLFNBQVNTLFNBQVQsQ0FBbUJDLFNBQVMsR0FBRyxFQUEvQixFQUFtQztBQUN4QyxNQUFJQSxTQUFTLENBQUNaLEtBQWQsRUFBcUJELE9BQU8sQ0FBQ0MsS0FBUixHQUFnQlksU0FBUyxDQUFDWixLQUExQjtBQUNyQixNQUFJWSxTQUFTLENBQUNQLElBQWQsRUFBb0JOLE9BQU8sQ0FBQ00sSUFBUixHQUFlTyxTQUFTLENBQUNQLElBQXpCO0FBQ3BCLE1BQUlPLFNBQVMsQ0FBQ04sS0FBZCxFQUFxQlAsT0FBTyxDQUFDTyxLQUFSLEdBQWdCTSxTQUFTLENBQUNOLEtBQTFCO0FBQ3RCO0FBRUQsK0RBQWVQLE9BQWY7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU2MsV0FBVCxDQUFxQkMsTUFBTSxHQUFHZixPQUE5QixFQUF1Q2dCLFFBQXZDLEVBQWlEO0FBQ3RELE1BQUk7QUFDRixjQUFtQztBQUNqQyxhQUFPRCxNQUFQO0FBQ0Q7O0FBRUQsVUFBTUUsWUFBWSxHQUFHLEVBQXJCOztBQUNBLFNBQUssTUFBTUMsS0FBWCxJQUFvQkgsTUFBcEIsRUFBNEI7QUFDMUJFLGtCQUFZLENBQUNDLEtBQUQsQ0FBWixHQUFzQixDQUFDaEIsSUFBRCxFQUFPLEdBQUdDLE9BQVYsS0FBc0I7QUFDMUNILGVBQU8sQ0FBQ2tCLEtBQUQsQ0FBUCxDQUFlaEIsSUFBZixFQUFxQixHQUFHQyxPQUF4QixFQUQwQyxDQUNUOzs7QUFFakMsY0FBTWdCLEdBQUcsR0FBSSxHQUFFSCxRQUFTLE9BQXhCO0FBQ0EsY0FBTUksSUFBSSxHQUFHLElBQUlDLGVBQUosQ0FBb0I7QUFDL0JILGVBRCtCO0FBRS9CaEIsY0FGK0I7QUFHL0JDLGlCQUFPLEVBQUVtQixJQUFJLENBQUNDLFNBQUwsQ0FDUHBCLE9BQU8sQ0FBQ3FCLEdBQVIsQ0FBYUMsQ0FBRCxJQUFPO0FBQ2pCLGdCQUFJQSxDQUFDLFlBQVlDLEtBQWpCLEVBQXdCO0FBQ3RCO0FBQ0EscUJBQU87QUFBRUMsb0JBQUksRUFBRUYsQ0FBQyxDQUFDRSxJQUFWO0FBQWdCeEIsdUJBQU8sRUFBRXNCLENBQUMsQ0FBQ3RCLE9BQTNCO0FBQW9DeUIscUJBQUssRUFBRUgsQ0FBQyxDQUFDRztBQUE3QyxlQUFQO0FBQ0Q7O0FBQ0QsbUJBQU9ILENBQVA7QUFDRCxXQU5ELENBRE87QUFIc0IsU0FBcEIsQ0FBYjs7QUFhQSxZQUFJSSxTQUFTLENBQUNDLFVBQWQsRUFBMEI7QUFDeEIsaUJBQU9ELFNBQVMsQ0FBQ0MsVUFBVixDQUFxQlgsR0FBckIsRUFBMEJDLElBQTFCLENBQVA7QUFDRDs7QUFDRCxlQUFPVyxLQUFLLENBQUNaLEdBQUQsRUFBTTtBQUNoQmEsZ0JBQU0sRUFBRSxNQURRO0FBRWhCQyxpQkFBTyxFQUFFO0FBQUUsNEJBQWdCO0FBQWxCLFdBRk87QUFHaEJiO0FBSGdCLFNBQU4sQ0FBWjtBQUtELE9BekJEO0FBMEJEOztBQUNELFdBQU9ILFlBQVA7QUFDRCxHQW5DRCxDQW1DRSxNQUFNO0FBQ04sV0FBT2pCLE9BQVA7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL2xpYi9sb2dnZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQHR5cGUge2ltcG9ydChcInR5cGVzXCIpLkxvZ2dlckluc3RhbmNlfSAqL1xuY29uc3QgX2xvZ2dlciA9IHtcbiAgZXJyb3IoY29kZSwgLi4ubWVzc2FnZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgW25leHQtYXV0aF1bZXJyb3JdWyR7Y29kZS50b0xvd2VyQ2FzZSgpfV1gLFxuICAgICAgYFxcbmh0dHBzOi8vbmV4dC1hdXRoLmpzLm9yZy9lcnJvcnMjJHtjb2RlLnRvTG93ZXJDYXNlKCl9YCxcbiAgICAgIC4uLm1lc3NhZ2VcbiAgICApXG4gIH0sXG4gIHdhcm4oY29kZSwgLi4ubWVzc2FnZSkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBbbmV4dC1hdXRoXVt3YXJuXVske2NvZGUudG9Mb3dlckNhc2UoKX1dYCxcbiAgICAgIGBcXG5odHRwczovL25leHQtYXV0aC5qcy5vcmcvd2FybmluZ3MjJHtjb2RlLnRvTG93ZXJDYXNlKCl9YCxcbiAgICAgIC4uLm1lc3NhZ2VcbiAgICApXG4gIH0sXG4gIGRlYnVnKGNvZGUsIC4uLm1lc3NhZ2UpIHtcbiAgICBpZiAoIXByb2Nlc3M/LmVudj8uX05FWFRBVVRIX0RFQlVHKSByZXR1cm5cbiAgICBjb25zb2xlLmxvZyhgW25leHQtYXV0aF1bZGVidWddWyR7Y29kZS50b0xvd2VyQ2FzZSgpfV1gLCAuLi5tZXNzYWdlKVxuICB9LFxufVxuXG4vKipcbiAqIE92ZXJyaWRlIHRoZSBidWlsdC1pbiBsb2dnZXIuXG4gKiBBbnkgYHVuZGVmaW5lZGAgbGV2ZWwgd2lsbCB1c2UgdGhlIGRlZmF1bHQgbG9nZ2VyLlxuICogQHBhcmFtIHtQYXJ0aWFsPGltcG9ydChcInR5cGVzXCIpLkxvZ2dlckluc3RhbmNlPn0gbmV3TG9nZ2VyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZXIobmV3TG9nZ2VyID0ge30pIHtcbiAgaWYgKG5ld0xvZ2dlci5lcnJvcikgX2xvZ2dlci5lcnJvciA9IG5ld0xvZ2dlci5lcnJvclxuICBpZiAobmV3TG9nZ2VyLndhcm4pIF9sb2dnZXIud2FybiA9IG5ld0xvZ2dlci53YXJuXG4gIGlmIChuZXdMb2dnZXIuZGVidWcpIF9sb2dnZXIuZGVidWcgPSBuZXdMb2dnZXIuZGVidWdcbn1cblxuZXhwb3J0IGRlZmF1bHQgX2xvZ2dlclxuXG4vKipcbiAqIFNlcmlhbGl6ZXMgY2xpZW50LXNpZGUgbG9nIG1lc3NhZ2VzIGFuZCBzZW5kcyB0aGVtIHRvIHRoZSBzZXJ2ZXJcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXNcIikuTG9nZ2VySW5zdGFuY2V9IGxvZ2dlclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQYXRoXG4gKiBAcmV0dXJuIHtpbXBvcnQoXCJ0eXBlc1wiKS5Mb2dnZXJJbnN0YW5jZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByb3h5TG9nZ2VyKGxvZ2dlciA9IF9sb2dnZXIsIGJhc2VQYXRoKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBsb2dnZXJcbiAgICB9XG5cbiAgICBjb25zdCBjbGllbnRMb2dnZXIgPSB7fVxuICAgIGZvciAoY29uc3QgbGV2ZWwgaW4gbG9nZ2VyKSB7XG4gICAgICBjbGllbnRMb2dnZXJbbGV2ZWxdID0gKGNvZGUsIC4uLm1lc3NhZ2UpID0+IHtcbiAgICAgICAgX2xvZ2dlcltsZXZlbF0oY29kZSwgLi4ubWVzc2FnZSkgLy8gTG9nIG9uIGNsaWVudCBhcyB1c3VhbFxuXG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VQYXRofS9fbG9nYFxuICAgICAgICBjb25zdCBib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgY29kZSxcbiAgICAgICAgICBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIG1lc3NhZ2UubWFwKChtKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChtIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBTZXJpYWxpemluZyBlcnJvcnM6IGh0dHBzOi8vaWFpbmNvbGxpbnMubWVkaXVtLmNvbS9lcnJvci1oYW5kbGluZy1pbi1qYXZhc2NyaXB0LWE2MTcyY2NkZjlhZlxuICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWU6IG0ubmFtZSwgbWVzc2FnZTogbS5tZXNzYWdlLCBzdGFjazogbS5zdGFjayB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKG5hdmlnYXRvci5zZW5kQmVhY29uKSB7XG4gICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5zZW5kQmVhY29uKHVybCwgYm9keSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudExvZ2dlclxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gX2xvZ2dlclxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/lib/logger.js\n");

/***/ }),

/***/ "./next-auth/lib/parse-url.js":
/*!************************************!*\
  !*** ./next-auth/lib/parse-url.js ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ parseUrl; }\n/* harmony export */ });\n/**\n * Simple universal (client/server) function to split host and path\n * We use this rather than a library because we need to use the same logic both\n * client and server side and we only need to parse out the host and path, while\n * supporting a default value, so a simple split is sufficent.\n * @param {string} url\n */\nfunction parseUrl(url) {\n  // Default values\n  const defaultHost = 'http://localhost:3000';\n  const defaultPath = '/api/auth';\n\n  if (!url) {\n    url = `${defaultHost}${defaultPath}`;\n  } // Default to HTTPS if no protocol explictly specified\n\n\n  const protocol = url.startsWith('http:') ? 'http' : 'https'; // Normalize URLs by stripping protocol and no trailing slash\n\n  url = url.replace(/^https?:\\/\\//, '').replace(/\\/$/, ''); // Simple split based on first /\n\n  const [_host, ..._path] = url.split('/');\n  const baseUrl = _host ? `${protocol}://${_host}` : defaultHost;\n  const basePath = _path.length > 0 ? `/${_path.join('/')}` : defaultPath;\n  return {\n    baseUrl,\n    basePath\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL2xpYi9wYXJzZS11cmwuanM/OTkyNyJdLCJuYW1lcyI6WyJwYXJzZVVybCIsInVybCIsImRlZmF1bHRIb3N0IiwiZGVmYXVsdFBhdGgiLCJwcm90b2NvbCIsInN0YXJ0c1dpdGgiLCJyZXBsYWNlIiwiX2hvc3QiLCJfcGF0aCIsInNwbGl0IiwiYmFzZVVybCIsImJhc2VQYXRoIiwibGVuZ3RoIiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsU0FBU0EsUUFBVCxDQUFtQkMsR0FBbkIsRUFBd0I7QUFDckM7QUFDQSxRQUFNQyxXQUFXLEdBQUcsdUJBQXBCO0FBQ0EsUUFBTUMsV0FBVyxHQUFHLFdBQXBCOztBQUVBLE1BQUksQ0FBQ0YsR0FBTCxFQUFVO0FBQUVBLE9BQUcsR0FBSSxHQUFFQyxXQUFZLEdBQUVDLFdBQVksRUFBbkM7QUFBc0MsR0FMYixDQU9yQzs7O0FBQ0EsUUFBTUMsUUFBUSxHQUFHSCxHQUFHLENBQUNJLFVBQUosQ0FBZSxPQUFmLElBQTBCLE1BQTFCLEdBQW1DLE9BQXBELENBUnFDLENBVXJDOztBQUNBSixLQUFHLEdBQUdBLEdBQUcsQ0FBQ0ssT0FBSixDQUFZLGNBQVosRUFBNEIsRUFBNUIsRUFBZ0NBLE9BQWhDLENBQXdDLEtBQXhDLEVBQStDLEVBQS9DLENBQU4sQ0FYcUMsQ0FhckM7O0FBQ0EsUUFBTSxDQUFDQyxLQUFELEVBQVEsR0FBR0MsS0FBWCxJQUFvQlAsR0FBRyxDQUFDUSxLQUFKLENBQVUsR0FBVixDQUExQjtBQUNBLFFBQU1DLE9BQU8sR0FBR0gsS0FBSyxHQUFJLEdBQUVILFFBQVMsTUFBS0csS0FBTSxFQUExQixHQUE4QkwsV0FBbkQ7QUFDQSxRQUFNUyxRQUFRLEdBQUdILEtBQUssQ0FBQ0ksTUFBTixHQUFlLENBQWYsR0FBb0IsSUFBR0osS0FBSyxDQUFDSyxJQUFOLENBQVcsR0FBWCxDQUFnQixFQUF2QyxHQUEyQ1YsV0FBNUQ7QUFFQSxTQUFPO0FBQUVPLFdBQUY7QUFBV0M7QUFBWCxHQUFQO0FBQ0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvbGliL3BhcnNlLXVybC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxlIHVuaXZlcnNhbCAoY2xpZW50L3NlcnZlcikgZnVuY3Rpb24gdG8gc3BsaXQgaG9zdCBhbmQgcGF0aFxuICogV2UgdXNlIHRoaXMgcmF0aGVyIHRoYW4gYSBsaWJyYXJ5IGJlY2F1c2Ugd2UgbmVlZCB0byB1c2UgdGhlIHNhbWUgbG9naWMgYm90aFxuICogY2xpZW50IGFuZCBzZXJ2ZXIgc2lkZSBhbmQgd2Ugb25seSBuZWVkIHRvIHBhcnNlIG91dCB0aGUgaG9zdCBhbmQgcGF0aCwgd2hpbGVcbiAqIHN1cHBvcnRpbmcgYSBkZWZhdWx0IHZhbHVlLCBzbyBhIHNpbXBsZSBzcGxpdCBpcyBzdWZmaWNlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlVXJsICh1cmwpIHtcbiAgLy8gRGVmYXVsdCB2YWx1ZXNcbiAgY29uc3QgZGVmYXVsdEhvc3QgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwJ1xuICBjb25zdCBkZWZhdWx0UGF0aCA9ICcvYXBpL2F1dGgnXG5cbiAgaWYgKCF1cmwpIHsgdXJsID0gYCR7ZGVmYXVsdEhvc3R9JHtkZWZhdWx0UGF0aH1gIH1cblxuICAvLyBEZWZhdWx0IHRvIEhUVFBTIGlmIG5vIHByb3RvY29sIGV4cGxpY3RseSBzcGVjaWZpZWRcbiAgY29uc3QgcHJvdG9jb2wgPSB1cmwuc3RhcnRzV2l0aCgnaHR0cDonKSA/ICdodHRwJyA6ICdodHRwcydcblxuICAvLyBOb3JtYWxpemUgVVJMcyBieSBzdHJpcHBpbmcgcHJvdG9jb2wgYW5kIG5vIHRyYWlsaW5nIHNsYXNoXG4gIHVybCA9IHVybC5yZXBsYWNlKC9eaHR0cHM/OlxcL1xcLy8sICcnKS5yZXBsYWNlKC9cXC8kLywgJycpXG5cbiAgLy8gU2ltcGxlIHNwbGl0IGJhc2VkIG9uIGZpcnN0IC9cbiAgY29uc3QgW19ob3N0LCAuLi5fcGF0aF0gPSB1cmwuc3BsaXQoJy8nKVxuICBjb25zdCBiYXNlVXJsID0gX2hvc3QgPyBgJHtwcm90b2NvbH06Ly8ke19ob3N0fWAgOiBkZWZhdWx0SG9zdFxuICBjb25zdCBiYXNlUGF0aCA9IF9wYXRoLmxlbmd0aCA+IDAgPyBgLyR7X3BhdGguam9pbignLycpfWAgOiBkZWZhdWx0UGF0aFxuXG4gIHJldHVybiB7IGJhc2VVcmwsIGJhc2VQYXRoIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/lib/parse-url.js\n");

/***/ }),

/***/ "./next-auth/providers/credentials.js":
/*!********************************************!*\
  !*** ./next-auth/providers/credentials.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Credentials; }\n/* harmony export */ });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction Credentials(options) {\n  return _objectSpread({\n    id: \"credentials\",\n    name: \"Credentials\",\n    type: \"credentials\",\n    authorize: null,\n    credentials: null\n  }, options);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFscy5qcz9jNDEzIl0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzIiwib3B0aW9ucyIsImlkIiwibmFtZSIsInR5cGUiLCJhdXRob3JpemUiLCJjcmVkZW50aWFscyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFlLFNBQVNBLFdBQVQsQ0FBcUJDLE9BQXJCLEVBQThCO0FBQzNDO0FBQ0VDLE1BQUUsRUFBRSxhQUROO0FBRUVDLFFBQUksRUFBRSxhQUZSO0FBR0VDLFFBQUksRUFBRSxhQUhSO0FBSUVDLGFBQVMsRUFBRSxJQUpiO0FBS0VDLGVBQVcsRUFBRTtBQUxmLEtBTUtMLE9BTkw7QUFRRCIsImZpbGUiOiIuL25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVkZW50aWFscyhvcHRpb25zKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IFwiY3JlZGVudGlhbHNcIixcbiAgICBuYW1lOiBcIkNyZWRlbnRpYWxzXCIsXG4gICAgdHlwZTogXCJjcmVkZW50aWFsc1wiLFxuICAgIGF1dGhvcml6ZTogbnVsbCxcbiAgICBjcmVkZW50aWFsczogbnVsbCxcbiAgICAuLi5vcHRpb25zLFxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/providers/credentials.js\n");

/***/ }),

/***/ "./next-auth/server/index.js":
/*!***********************************!*\
  !*** ./next-auth/server/index.js ***!
  \***********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ NextAuth; }\n/* harmony export */ });\n/* harmony import */ var _adapters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../adapters */ \"./next-auth/adapters/index.js\");\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/jwt */ \"./next-auth/lib/jwt.js\");\n/* harmony import */ var _lib_parse_url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/parse-url */ \"./next-auth/lib/parse-url.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/logger */ \"./next-auth/lib/logger.js\");\n/* harmony import */ var _lib_cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/cookie */ \"./next-auth/server/lib/cookie.js\");\n/* harmony import */ var _lib_default_events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/default-events */ \"./next-auth/server/lib/default-events.js\");\n/* harmony import */ var _lib_default_callbacks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/default-callbacks */ \"./next-auth/server/lib/default-callbacks.js\");\n/* harmony import */ var _lib_providers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/providers */ \"./next-auth/server/lib/providers.js\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./routes */ \"./next-auth/server/routes/index.js\");\n/* harmony import */ var _pages__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages */ \"./next-auth/server/pages/index.js\");\n/* harmony import */ var _lib_create_secret__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lib/create-secret */ \"./next-auth/server/lib/create-secret.js\");\n/* harmony import */ var _lib_callback_url_handler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./lib/callback-url-handler */ \"./next-auth/server/lib/callback-url-handler.js\");\n/* harmony import */ var _lib_extend_res__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lib/extend-res */ \"./next-auth/server/lib/extend-res.js\");\n/* harmony import */ var _lib_csrf_token_handler__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./lib/csrf-token-handler */ \"./next-auth/server/lib/csrf-token-handler.js\");\n/* harmony import */ var _lib_oauth_pkce_handler__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./lib/oauth/pkce-handler */ \"./next-auth/server/lib/oauth/pkce-handler.js\");\n/* harmony import */ var _lib_oauth_state_handler__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./lib/oauth/state-handler */ \"./next-auth/server/lib/oauth/state-handler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // To work properly in production with OAuth providers the NEXTAUTH_URL\n// environment variable must be set.\n\nif (!process.env.NEXTAUTH_URL) {\n  _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.warn(\"NEXTAUTH_URL\", \"NEXTAUTH_URL environment variable not set\");\n}\n/**\n * @param {import(\"next\").NextApiRequest} req\n * @param {import(\"next\").NextApiResponse} res\n * @param {import(\"types\").NextAuthOptions} userOptions\n */\n\n\nasync function NextAuthHandler(req, res, userOptions) {\n  if (userOptions.logger) {\n    (0,_lib_logger__WEBPACK_IMPORTED_MODULE_3__.setLogger)(userOptions.logger);\n  } // If debug enabled, set ENV VAR so that logger logs debug messages\n\n\n  if (userOptions.debug) {\n    process.env._NEXTAUTH_DEBUG = true;\n  } // To the best of my knowledge, we need to return a promise here\n  // to avoid early termination of calls to the serverless function\n  // (and then return that promise when we are done) - eslint\n  // complains but I'm not sure there is another way to do this.\n  // eslint-disable-next-line no-async-promise-executor\n\n\n  return new Promise(async resolve => {\n    var _provider$version, _userOptions$adapter;\n\n    (0,_lib_extend_res__WEBPACK_IMPORTED_MODULE_12__.default)(req, res, resolve);\n\n    if (!req.query.nextauth) {\n      const error = \"Cannot find [...nextauth].js in pages/api/auth. Make sure the filename is written correctly.\";\n      _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.error(\"MISSING_NEXTAUTH_API_ROUTE_ERROR\", error);\n      return res.status(500).end(`Error: ${error}`);\n    }\n\n    const {\n      nextauth,\n      action = nextauth[0],\n      providerId = nextauth[1],\n      error = nextauth[1]\n    } = req.query; // @todo refactor all existing references to baseUrl and basePath\n\n    const {\n      basePath,\n      baseUrl\n    } = (0,_lib_parse_url__WEBPACK_IMPORTED_MODULE_2__.default)(process.env.NEXTAUTH_URL || process.env.VERCEL_URL);\n\n    const cookies = _objectSpread(_objectSpread({}, _lib_cookie__WEBPACK_IMPORTED_MODULE_4__.defaultCookies(userOptions.useSecureCookies || baseUrl.startsWith(\"https://\"))), userOptions.cookies);\n\n    const secret = (0,_lib_create_secret__WEBPACK_IMPORTED_MODULE_10__.default)({\n      userOptions,\n      basePath,\n      baseUrl\n    });\n    const providers = (0,_lib_providers__WEBPACK_IMPORTED_MODULE_7__.default)({\n      providers: userOptions.providers,\n      baseUrl,\n      basePath\n    });\n    const provider = providers.find(({\n      id\n    }) => id === providerId); // Protection only works on OAuth 2.x providers\n    // TODO:\n    // - rename to `checks` in 4.x, so it is similar to `openid-client`\n    // - stop supporting `protection` as string\n    // - remove `state` property\n\n    if ((provider === null || provider === void 0 ? void 0 : provider.type) === \"oauth\" && (_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"2\")) {\n      // Priority: (protection array > protection string) > state > default\n      if (provider.protection) {\n        provider.protection = Array.isArray(provider.protection) ? provider.protection : [provider.protection];\n      } else if (provider.state !== undefined) {\n        provider.protection = [provider.state ? \"state\" : \"none\"];\n      } else {\n        // Default to state, as we did in 3.1\n        // REVIEW: should we use \"pkce\" or \"none\" as default?\n        provider.protection = [\"state\"];\n      }\n    }\n\n    const maxAge = 30 * 24 * 60 * 60; // Sessions expire after 30 days of being idle\n    // Parse database / adapter\n    // If adapter is provided, use it (advanced usage, overrides database)\n    // If database URI or config object is provided, use it (simple usage)\n\n    const adapter = (_userOptions$adapter = userOptions.adapter) !== null && _userOptions$adapter !== void 0 ? _userOptions$adapter : userOptions.database && _adapters__WEBPACK_IMPORTED_MODULE_0__.default.Default(userOptions.database); // User provided options are overriden by other options,\n    // except for the options with special handling above\n\n    req.options = _objectSpread(_objectSpread({\n      debug: false,\n      pages: {},\n      theme: \"auto\"\n    }, userOptions), {}, {\n      // These computed settings can have values in userOptions but we override them\n      // and are request-specific.\n      adapter,\n      baseUrl,\n      basePath,\n      action,\n      provider,\n      cookies,\n      secret,\n      providers,\n      // Session options\n      session: _objectSpread({\n        jwt: !adapter,\n        // If no adapter specified, force use of JSON Web Tokens (stateless)\n        maxAge,\n        updateAge: 24 * 60 * 60\n      }, userOptions.session),\n      // JWT options\n      jwt: _objectSpread({\n        secret,\n        // Use application secret if no keys specified\n        maxAge,\n        // same as session maxAge,\n        encode: _lib_jwt__WEBPACK_IMPORTED_MODULE_1__.default.encode,\n        decode: _lib_jwt__WEBPACK_IMPORTED_MODULE_1__.default.decode\n      }, userOptions.jwt),\n      // Event messages\n      events: _objectSpread(_objectSpread({}, _lib_default_events__WEBPACK_IMPORTED_MODULE_5__), userOptions.events),\n      // Callback functions\n      callbacks: _objectSpread(_objectSpread({}, _lib_default_callbacks__WEBPACK_IMPORTED_MODULE_6__), userOptions.callbacks),\n      pkce: {},\n      logger: _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default\n    });\n    (0,_lib_csrf_token_handler__WEBPACK_IMPORTED_MODULE_13__.default)(req, res);\n    await (0,_lib_callback_url_handler__WEBPACK_IMPORTED_MODULE_11__.default)(req, res);\n    const render = (0,_pages__WEBPACK_IMPORTED_MODULE_9__.default)(req, res);\n    const {\n      pages\n    } = req.options;\n\n    if (req.method === \"GET\") {\n      switch (action) {\n        case \"providers\":\n          return _routes__WEBPACK_IMPORTED_MODULE_8__.providers(req, res);\n\n        case \"session\":\n          return _routes__WEBPACK_IMPORTED_MODULE_8__.session(req, res);\n\n        case \"csrf\":\n          return res.json({\n            csrfToken: req.options.csrfToken\n          });\n\n        case \"signin\":\n          if (pages.signIn) {\n            let signinUrl = `${pages.signIn}${pages.signIn.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${req.options.callbackUrl}`;\n\n            if (error) {\n              signinUrl = `${signinUrl}&error=${error}`;\n            }\n\n            return res.redirect(signinUrl);\n          }\n\n          return render.signin();\n\n        case \"signout\":\n          if (pages.signOut) return res.redirect(pages.signOut);\n          return render.signout();\n\n        case \"callback\":\n          if (provider) {\n            if (await _lib_oauth_pkce_handler__WEBPACK_IMPORTED_MODULE_14__.handleCallback(req, res)) return;\n            if (await _lib_oauth_state_handler__WEBPACK_IMPORTED_MODULE_15__.handleCallback(req, res)) return;\n            return _routes__WEBPACK_IMPORTED_MODULE_8__.callback(req, res);\n          }\n\n          break;\n\n        case \"verify-request\":\n          if (pages.verifyRequest) {\n            return res.redirect(pages.verifyRequest);\n          }\n\n          return render.verifyRequest();\n\n        case \"error\":\n          if (pages.error) {\n            return res.redirect(`${pages.error}${pages.error.includes(\"?\") ? \"&\" : \"?\"}error=${error}`);\n          } // These error messages are displayed in line on the sign in page\n\n\n          if ([\"Signin\", \"OAuthSignin\", \"OAuthCallback\", \"OAuthCreateAccount\", \"EmailCreateAccount\", \"Callback\", \"OAuthAccountNotLinked\", \"EmailSignin\", \"CredentialsSignin\"].includes(error)) {\n            return res.redirect(`${baseUrl}${basePath}/signin?error=${error}`);\n          }\n\n          return render.error({\n            error\n          });\n\n        default:\n      }\n    } else if (req.method === \"POST\") {\n      switch (action) {\n        case \"signin\":\n          // Verified CSRF Token required for all sign in routes\n          if (req.options.csrfTokenVerified && provider) {\n            if (await _lib_oauth_pkce_handler__WEBPACK_IMPORTED_MODULE_14__.handleSignin(req, res)) return;\n            if (await _lib_oauth_state_handler__WEBPACK_IMPORTED_MODULE_15__.handleSignin(req, res)) return;\n            return _routes__WEBPACK_IMPORTED_MODULE_8__.signin(req, res);\n          }\n\n          return res.redirect(`${baseUrl}${basePath}/signin?csrf=true`);\n\n        case \"signout\":\n          // Verified CSRF Token required for signout\n          if (req.options.csrfTokenVerified) {\n            return _routes__WEBPACK_IMPORTED_MODULE_8__.signout(req, res);\n          }\n\n          return res.redirect(`${baseUrl}${basePath}/signout?csrf=true`);\n\n        case \"callback\":\n          if (provider) {\n            // Verified CSRF Token required for credentials providers only\n            if (provider.type === \"credentials\" && !req.options.csrfTokenVerified) {\n              return res.redirect(`${baseUrl}${basePath}/signin?csrf=true`);\n            }\n\n            if (await _lib_oauth_pkce_handler__WEBPACK_IMPORTED_MODULE_14__.handleCallback(req, res)) return;\n            if (await _lib_oauth_state_handler__WEBPACK_IMPORTED_MODULE_15__.handleCallback(req, res)) return;\n            return _routes__WEBPACK_IMPORTED_MODULE_8__.callback(req, res);\n          }\n\n          break;\n\n        case \"_log\":\n          if (userOptions.logger) {\n            try {\n              const {\n                code = \"CLIENT_ERROR\",\n                level = \"error\",\n                message = \"[]\"\n              } = req.body;\n              _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default[level](code, ...JSON.parse(message));\n            } catch (error) {\n              // If logging itself failed...\n              _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.error(\"LOGGER_ERROR\", error);\n            }\n          }\n\n          return res.end();\n\n        default:\n      }\n    }\n\n    return res.status(400).end(`Error: HTTP ${req.method} is not supported for ${req.url}`);\n  });\n}\n/** Tha main entry point to next-auth */\n\n\nfunction NextAuth(...args) {\n  if (args.length === 1) {\n    return (req, res) => NextAuthHandler(req, res, args[0]);\n  }\n\n  return NextAuthHandler(...args);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9pbmRleC5qcz80ZmRjIl0sIm5hbWVzIjpbInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJsb2dnZXIiLCJOZXh0QXV0aEhhbmRsZXIiLCJyZXEiLCJyZXMiLCJ1c2VyT3B0aW9ucyIsInNldExvZ2dlciIsImRlYnVnIiwiX05FWFRBVVRIX0RFQlVHIiwiUHJvbWlzZSIsInJlc29sdmUiLCJleHRlbmRSZXMiLCJxdWVyeSIsIm5leHRhdXRoIiwiZXJyb3IiLCJzdGF0dXMiLCJlbmQiLCJhY3Rpb24iLCJwcm92aWRlcklkIiwiYmFzZVBhdGgiLCJiYXNlVXJsIiwicGFyc2VVcmwiLCJWRVJDRUxfVVJMIiwiY29va2llcyIsImNvb2tpZSIsInVzZVNlY3VyZUNvb2tpZXMiLCJzdGFydHNXaXRoIiwic2VjcmV0IiwiY3JlYXRlU2VjcmV0IiwicHJvdmlkZXJzIiwicGFyc2VQcm92aWRlcnMiLCJwcm92aWRlciIsImZpbmQiLCJpZCIsInR5cGUiLCJ2ZXJzaW9uIiwicHJvdGVjdGlvbiIsIkFycmF5IiwiaXNBcnJheSIsInN0YXRlIiwidW5kZWZpbmVkIiwibWF4QWdlIiwiYWRhcHRlciIsImRhdGFiYXNlIiwiYWRhcHRlcnMiLCJvcHRpb25zIiwicGFnZXMiLCJ0aGVtZSIsInNlc3Npb24iLCJqd3QiLCJ1cGRhdGVBZ2UiLCJlbmNvZGUiLCJkZWNvZGUiLCJldmVudHMiLCJkZWZhdWx0RXZlbnRzIiwiY2FsbGJhY2tzIiwiZGVmYXVsdENhbGxiYWNrcyIsInBrY2UiLCJjc3JmVG9rZW5IYW5kbGVyIiwiY2FsbGJhY2tVcmxIYW5kbGVyIiwicmVuZGVyIiwicmVuZGVyUGFnZSIsIm1ldGhvZCIsInJvdXRlcyIsImpzb24iLCJjc3JmVG9rZW4iLCJzaWduSW4iLCJzaWduaW5VcmwiLCJpbmNsdWRlcyIsImNhbGxiYWNrVXJsIiwicmVkaXJlY3QiLCJzaWduaW4iLCJzaWduT3V0Iiwic2lnbm91dCIsInZlcmlmeVJlcXVlc3QiLCJjc3JmVG9rZW5WZXJpZmllZCIsImNvZGUiLCJsZXZlbCIsIm1lc3NhZ2UiLCJib2R5IiwiSlNPTiIsInBhcnNlIiwidXJsIiwiTmV4dEF1dGgiLCJhcmdzIiwibGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtDQUdBO0FBQ0E7O0FBQ0EsSUFBSSxDQUFDQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBakIsRUFBK0I7QUFDN0JDLHVEQUFBLENBQVksY0FBWixFQUE0QiwyQ0FBNUI7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLGVBQWVDLGVBQWYsQ0FBK0JDLEdBQS9CLEVBQW9DQyxHQUFwQyxFQUF5Q0MsV0FBekMsRUFBc0Q7QUFDcEQsTUFBSUEsV0FBVyxDQUFDSixNQUFoQixFQUF3QjtBQUN0QkssMERBQVMsQ0FBQ0QsV0FBVyxDQUFDSixNQUFiLENBQVQ7QUFDRCxHQUhtRCxDQUlwRDs7O0FBQ0EsTUFBSUksV0FBVyxDQUFDRSxLQUFoQixFQUF1QjtBQUNyQlQsV0FBTyxDQUFDQyxHQUFSLENBQVlTLGVBQVosR0FBOEIsSUFBOUI7QUFDRCxHQVBtRCxDQVNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQSxTQUFPLElBQUlDLE9BQUosQ0FBWSxNQUFPQyxPQUFQLElBQW1CO0FBQUE7O0FBQ3BDQyw2REFBUyxDQUFDUixHQUFELEVBQU1DLEdBQU4sRUFBV00sT0FBWCxDQUFUOztBQUVBLFFBQUksQ0FBQ1AsR0FBRyxDQUFDUyxLQUFKLENBQVVDLFFBQWYsRUFBeUI7QUFDdkIsWUFBTUMsS0FBSyxHQUNULDhGQURGO0FBR0FiLDREQUFBLENBQWEsa0NBQWIsRUFBaURhLEtBQWpEO0FBQ0EsYUFBT1YsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFn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Q0FBQ1ksR0FBSixFQUFQOztBQUNGO0FBL0NGO0FBaUREOztBQUNELFdBQU9aLEdBQUcsQ0FDUFcsTUFESSxDQUNHLEdBREgsRUFFSkMsR0FGSSxDQUVDLGVBQWNiLEdBQUcsQ0FBQzJELE1BQU8seUJBQXdCM0QsR0FBRyxDQUFDK0UsR0FBSSxFQUYxRCxDQUFQO0FBR0QsR0FqUE0sQ0FBUDtBQWtQRDtBQUVEOzs7QUFDZSxTQUFTQyxRQUFULENBQWtCLEdBQUdDLElBQXJCLEVBQTJCO0FBQ3hDLE1BQUlBLElBQUksQ0FBQ0MsTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNyQixXQUFPLENBQUNsRixHQUFELEVBQU1DLEdBQU4sS0FBY0YsZUFBZSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV2dGLElBQUksQ0FBQyxDQUFELENBQWYsQ0FBcEM7QUFDRDs7QUFFRCxTQUFPbEYsZUFBZSxDQUFDLEdBQUdrRixJQUFKLENBQXRCO0FBQ0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuLi9hZGFwdGVyc1wiXG5pbXBvcnQgand0IGZyb20gXCIuLi9saWIvand0XCJcbmltcG9ydCBwYXJzZVVybCBmcm9tIFwiLi4vbGliL3BhcnNlLXVybFwiXG5pbXBvcnQgbG9nZ2VyLCB7IHNldExvZ2dlciB9IGZyb20gXCIuLi9saWIvbG9nZ2VyXCJcbmltcG9ydCAqIGFzIGNvb2tpZSBmcm9tIFwiLi9saWIvY29va2llXCJcbmltcG9ydCAqIGFzIGRlZmF1bHRFdmVudHMgZnJvbSBcIi4vbGliL2RlZmF1bHQtZXZlbnRzXCJcbmltcG9ydCAqIGFzIGRlZmF1bHRDYWxsYmFja3MgZnJvbSBcIi4vbGliL2RlZmF1bHQtY2FsbGJhY2tzXCJcbmltcG9ydCBwYXJzZVByb3ZpZGVycyBmcm9tIFwiLi9saWIvcHJvdmlkZXJzXCJcbmltcG9ydCAqIGFzIHJvdXRlcyBmcm9tIFwiLi9yb3V0ZXNcIlxuaW1wb3J0IHJlbmRlclBhZ2UgZnJvbSBcIi4vcGFnZXNcIlxuaW1wb3J0IGNyZWF0ZVNlY3JldCBmcm9tIFwiLi9saWIvY3JlYXRlLXNlY3JldFwiXG5pbXBvcnQgY2FsbGJhY2tVcmxIYW5kbGVyIGZyb20gXCIuL2xpYi9jYWxsYmFjay11cmwtaGFuZGxlclwiXG5pbXBvcnQgZXh0ZW5kUmVzIGZyb20gXCIuL2xpYi9leHRlbmQtcmVzXCJcbmltcG9ydCBjc3JmVG9rZW5IYW5kbGVyIGZyb20gXCIuL2xpYi9jc3JmLXRva2VuLWhhbmRsZXJcIlxuaW1wb3J0ICogYXMgcGtjZSBmcm9tIFwiLi9saWIvb2F1dGgvcGtjZS1oYW5kbGVyXCJcbmltcG9ydCAqIGFzIHN0YXRlIGZyb20gXCIuL2xpYi9vYXV0aC9zdGF0ZS1oYW5kbGVyXCJcblxuLy8gVG8gd29yayBwcm9wZXJseSBpbiBwcm9kdWN0aW9uIHdpdGggT0F1dGggcHJvdmlkZXJzIHRoZSBORVhUQVVUSF9VUkxcbi8vIGVudmlyb25tZW50IHZhcmlhYmxlIG11c3QgYmUgc2V0LlxuaWYgKCFwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkwpIHtcbiAgbG9nZ2VyLndhcm4oXCJORVhUQVVUSF9VUkxcIiwgXCJORVhUQVVUSF9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUgbm90IHNldFwiKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KFwibmV4dFwiKS5OZXh0QXBpUmVxdWVzdH0gcmVxXG4gKiBAcGFyYW0ge2ltcG9ydChcIm5leHRcIikuTmV4dEFwaVJlc3BvbnNlfSByZXNcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXNcIikuTmV4dEF1dGhPcHRpb25zfSB1c2VyT3B0aW9uc1xuICovXG5hc3luYyBmdW5jdGlvbiBOZXh0QXV0aEhhbmRsZXIocmVxLCByZXMsIHVzZXJPcHRpb25zKSB7XG4gIGlmICh1c2VyT3B0aW9ucy5sb2dnZXIpIHtcbiAgICBzZXRMb2dnZXIodXNlck9wdGlvbnMubG9nZ2VyKVxuICB9XG4gIC8vIElmIGRlYnVnIGVuYWJsZWQsIHNldCBFTlYgVkFSIHNvIHRoYXQgbG9nZ2VyIGxvZ3MgZGVidWcgbWVzc2FnZXNcbiAgaWYgKHVzZXJPcHRpb25zLmRlYnVnKSB7XG4gICAgcHJvY2Vzcy5lbnYuX05FWFRBVVRIX0RFQlVHID0gdHJ1ZVxuICB9XG5cbiAgLy8gVG8gdGhlIGJlc3Qgb2YgbXkga25vd2xlZGdlLCB3ZSBuZWVkIHRvIHJldHVybiBhIHByb21pc2UgaGVyZVxuICAvLyB0byBhdm9pZCBlYXJseSB0ZXJtaW5hdGlvbiBvZiBjYWxscyB0byB0aGUgc2VydmVybGVzcyBmdW5jdGlvblxuICAvLyAoYW5kIHRoZW4gcmV0dXJuIHRoYXQgcHJvbWlzZSB3aGVuIHdlIGFyZSBkb25lKSAtIGVzbGludFxuICAvLyBjb21wbGFpbnMgYnV0IEknbSBub3Qgc3VyZSB0aGVyZSBpcyBhbm90aGVyIHdheSB0byBkbyB0aGlzLlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXN5bmMtcHJvbWlzZS1leGVjdXRvclxuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICBleHRlbmRSZXMocmVxLCByZXMsIHJlc29sdmUpXG5cbiAgICBpZiAoIXJlcS5xdWVyeS5uZXh0YXV0aCkge1xuICAgICAgY29uc3QgZXJyb3IgPVxuICAgICAgICBcIkNhbm5vdCBmaW5kIFsuLi5uZXh0YXV0aF0uanMgaW4gcGFnZXMvYXBpL2F1dGguIE1ha2Ugc3VyZSB0aGUgZmlsZW5hbWUgaXMgd3JpdHRlbiBjb3JyZWN0bHkuXCJcblxuICAgICAgbG9nZ2VyLmVycm9yKFwiTUlTU0lOR19ORVhUQVVUSF9BUElfUk9VVEVfRVJST1JcIiwgZXJyb3IpXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmVuZChgRXJyb3I6ICR7ZXJyb3J9YClcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBuZXh0YXV0aCxcbiAgICAgIGFjdGlvbiA9IG5leHRhdXRoWzBdLFxuICAgICAgcHJvdmlkZXJJZCA9IG5leHRhdXRoWzFdLFxuICAgICAgZXJyb3IgPSBuZXh0YXV0aFsxXSxcbiAgICB9ID0gcmVxLnF1ZXJ5XG5cbiAgICAvLyBAdG9kbyByZWZhY3RvciBhbGwgZXhpc3RpbmcgcmVmZXJlbmNlcyB0byBiYXNlVXJsIGFuZCBiYXNlUGF0aFxuICAgIGNvbnN0IHsgYmFzZVBhdGgsIGJhc2VVcmwgfSA9IHBhcnNlVXJsKFxuICAgICAgcHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8IHByb2Nlc3MuZW52LlZFUkNFTF9VUkxcbiAgICApXG5cbiAgICBjb25zdCBjb29raWVzID0ge1xuICAgICAgLi4uY29va2llLmRlZmF1bHRDb29raWVzKFxuICAgICAgICB1c2VyT3B0aW9ucy51c2VTZWN1cmVDb29raWVzIHx8IGJhc2VVcmwuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpXG4gICAgICApLFxuICAgICAgLy8gQWxsb3cgdXNlciBjb29raWUgb3B0aW9ucyB0byBvdmVycmlkZSBhbnkgY29va2llIHNldHRpbmdzIGFib3ZlXG4gICAgICAuLi51c2VyT3B0aW9ucy5jb29raWVzLFxuICAgIH1cblxuICAgIGNvbnN0IHNlY3JldCA9IGNyZWF0ZVNlY3JldCh7IHVzZXJPcHRpb25zLCBiYXNlUGF0aCwgYmFzZVVybCB9KVxuXG4gICAgY29uc3QgcHJvdmlkZXJzID0gcGFyc2VQcm92aWRlcnMoe1xuICAgICAgcHJvdmlkZXJzOiB1c2VyT3B0aW9ucy5wcm92aWRlcnMsXG4gICAgICBiYXNlVXJsLFxuICAgICAgYmFzZVBhdGgsXG4gICAgfSlcbiAgICBjb25zdCBwcm92aWRlciA9IHByb3ZpZGVycy5maW5kKCh7IGlkIH0pID0+IGlkID09PSBwcm92aWRlcklkKVxuXG4gICAgLy8gUHJvdGVjdGlvbiBvbmx5IHdvcmtzIG9uIE9BdXRoIDIueCBwcm92aWRlcnNcbiAgICAvLyBUT0RPOlxuICAgIC8vIC0gcmVuYW1lIHRvIGBjaGVja3NgIGluIDQueCwgc28gaXQgaXMgc2ltaWxhciB0byBgb3BlbmlkLWNsaWVudGBcbiAgICAvLyAtIHN0b3Agc3VwcG9ydGluZyBgcHJvdGVjdGlvbmAgYXMgc3RyaW5nXG4gICAgLy8gLSByZW1vdmUgYHN0YXRlYCBwcm9wZXJ0eVxuICAgIGlmIChwcm92aWRlcj8udHlwZSA9PT0gXCJvYXV0aFwiICYmIHByb3ZpZGVyLnZlcnNpb24/LnN0YXJ0c1dpdGgoXCIyXCIpKSB7XG4gICAgICAvLyBQcmlvcml0eTogKHByb3RlY3Rpb24gYXJyYXkgPiBwcm90ZWN0aW9uIHN0cmluZykgPiBzdGF0ZSA+IGRlZmF1bHRcbiAgICAgIGlmIChwcm92aWRlci5wcm90ZWN0aW9uKSB7XG4gICAgICAgIHByb3ZpZGVyLnByb3RlY3Rpb24gPSBBcnJheS5pc0FycmF5KHByb3ZpZGVyLnByb3RlY3Rpb24pXG4gICAgICAgICAgPyBwcm92aWRlci5wcm90ZWN0aW9uXG4gICAgICAgICAgOiBbcHJvdmlkZXIucHJvdGVjdGlvbl1cbiAgICAgIH0gZWxzZSBpZiAocHJvdmlkZXIuc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwcm92aWRlci5wcm90ZWN0aW9uID0gW3Byb3ZpZGVyLnN0YXRlID8gXCJzdGF0ZVwiIDogXCJub25lXCJdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEZWZhdWx0IHRvIHN0YXRlLCBhcyB3ZSBkaWQgaW4gMy4xXG4gICAgICAgIC8vIFJFVklFVzogc2hvdWxkIHdlIHVzZSBcInBrY2VcIiBvciBcIm5vbmVcIiBhcyBkZWZhdWx0P1xuICAgICAgICBwcm92aWRlci5wcm90ZWN0aW9uID0gW1wic3RhdGVcIl1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtYXhBZ2UgPSAzMCAqIDI0ICogNjAgKiA2MCAvLyBTZXNzaW9ucyBleHBpcmUgYWZ0ZXIgMzAgZGF5cyBvZiBiZWluZyBpZGxlXG5cbiAgICAvLyBQYXJzZSBkYXRhYmFzZSAvIGFkYXB0ZXJcbiAgICAvLyBJZiBhZGFwdGVyIGlzIHByb3ZpZGVkLCB1c2UgaXQgKGFkdmFuY2VkIHVzYWdlLCBvdmVycmlkZXMgZGF0YWJhc2UpXG4gICAgLy8gSWYgZGF0YWJhc2UgVVJJIG9yIGNvbmZpZyBvYmplY3QgaXMgcHJvdmlkZWQsIHVzZSBpdCAoc2ltcGxlIHVzYWdlKVxuICAgIGNvbnN0IGFkYXB0ZXIgPVxuICAgICAgdXNlck9wdGlvbnMuYWRhcHRlciA/P1xuICAgICAgKHVzZXJPcHRpb25zLmRhdGFiYXNlICYmIGFkYXB0ZXJzLkRlZmF1bHQodXNlck9wdGlvbnMuZGF0YWJhc2UpKVxuXG4gICAgLy8gVXNlciBwcm92aWRlZCBvcHRpb25zIGFyZSBvdmVycmlkZW4gYnkgb3RoZXIgb3B0aW9ucyxcbiAgICAvLyBleGNlcHQgZm9yIHRoZSBvcHRpb25zIHdpdGggc3BlY2lhbCBoYW5kbGluZyBhYm92ZVxuICAgIHJlcS5vcHRpb25zID0ge1xuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgcGFnZXM6IHt9LFxuICAgICAgdGhlbWU6IFwiYXV0b1wiLFxuICAgICAgLy8gQ3VzdG9tIG9wdGlvbnMgb3ZlcnJpZGUgZGVmYXVsdHNcbiAgICAgIC4uLnVzZXJPcHRpb25zLFxuICAgICAgLy8gVGhlc2UgY29tcHV0ZWQgc2V0dGluZ3MgY2FuIGhhdmUgdmFsdWVzIGluIHVzZXJPcHRpb25zIGJ1dCB3ZSBvdmVycmlkZSB0aGVtXG4gICAgICAvLyBhbmQgYXJlIHJlcXVlc3Qtc3BlY2lmaWMuXG4gICAgICBhZGFwdGVyLFxuICAgICAgYmFzZVVybCxcbiAgICAgIGJhc2VQYXRoLFxuICAgICAgYWN0aW9uLFxuICAgICAgcHJvdmlkZXIsXG4gICAgICBjb29raWVzLFxuICAgICAgc2VjcmV0LFxuICAgICAgcHJvdmlkZXJzLFxuICAgICAgLy8gU2Vzc2lvbiBvcHRpb25zXG4gICAgICBzZXNzaW9uOiB7XG4gICAgICAgIGp3dDogIWFkYXB0ZXIsIC8vIElmIG5vIGFkYXB0ZXIgc3BlY2lmaWVkLCBmb3JjZSB1c2Ugb2YgSlNPTiBXZWIgVG9rZW5zIChzdGF0ZWxlc3MpXG4gICAgICAgIG1heEFnZSxcbiAgICAgICAgdXBkYXRlQWdlOiAyNCAqIDYwICogNjAsIC8vIFNlc3Npb25zIHVwZGF0ZWQgb25seSBpZiBzZXNzaW9uIGlzIGdyZWF0ZXIgdGhhbiB0aGlzIHZhbHVlICgwID0gYWx3YXlzLCAyNCo2MCo2MCA9IGV2ZXJ5IDI0IGhvdXJzKVxuICAgICAgICAuLi51c2VyT3B0aW9ucy5zZXNzaW9uLFxuICAgICAgfSxcbiAgICAgIC8vIEpXVCBvcHRpb25zXG4gICAgICBqd3Q6IHtcbiAgICAgICAgc2VjcmV0LCAvLyBVc2UgYXBwbGljYXRpb24gc2VjcmV0IGlmIG5vIGtleXMgc3BlY2lmaWVkXG4gICAgICAgIG1heEFnZSwgLy8gc2FtZSBhcyBzZXNzaW9uIG1heEFnZSxcbiAgICAgICAgZW5jb2RlOiBqd3QuZW5jb2RlLFxuICAgICAgICBkZWNvZGU6IGp3dC5kZWNvZGUsXG4gICAgICAgIC4uLnVzZXJPcHRpb25zLmp3dCxcbiAgICAgIH0sXG4gICAgICAvLyBFdmVudCBtZXNzYWdlc1xuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIC4uLmRlZmF1bHRFdmVudHMsXG4gICAgICAgIC4uLnVzZXJPcHRpb25zLmV2ZW50cyxcbiAgICAgIH0sXG4gICAgICAvLyBDYWxsYmFjayBmdW5jdGlvbnNcbiAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAuLi5kZWZhdWx0Q2FsbGJhY2tzLFxuICAgICAgICAuLi51c2VyT3B0aW9ucy5jYWxsYmFja3MsXG4gICAgICB9LFxuICAgICAgcGtjZToge30sXG4gICAgICBsb2dnZXIsXG4gICAgfVxuXG4gICAgY3NyZlRva2VuSGFuZGxlcihyZXEsIHJlcylcbiAgICBhd2FpdCBjYWxsYmFja1VybEhhbmRsZXIocmVxLCByZXMpXG5cbiAgICBjb25zdCByZW5kZXIgPSByZW5kZXJQYWdlKHJlcSwgcmVzKVxuICAgIGNvbnN0IHsgcGFnZXMgfSA9IHJlcS5vcHRpb25zXG5cbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgY2FzZSBcInByb3ZpZGVyc1wiOlxuICAgICAgICAgIHJldHVybiByb3V0ZXMucHJvdmlkZXJzKHJlcSwgcmVzKVxuICAgICAgICBjYXNlIFwic2Vzc2lvblwiOlxuICAgICAgICAgIHJldHVybiByb3V0ZXMuc2Vzc2lvbihyZXEsIHJlcylcbiAgICAgICAgY2FzZSBcImNzcmZcIjpcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oeyBjc3JmVG9rZW46IHJlcS5vcHRpb25zLmNzcmZUb2tlbiB9KVxuICAgICAgICBjYXNlIFwic2lnbmluXCI6XG4gICAgICAgICAgaWYgKHBhZ2VzLnNpZ25Jbikge1xuICAgICAgICAgICAgbGV0IHNpZ25pblVybCA9IGAke3BhZ2VzLnNpZ25Jbn0ke1xuICAgICAgICAgICAgICBwYWdlcy5zaWduSW4uaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIlxuICAgICAgICAgICAgfWNhbGxiYWNrVXJsPSR7cmVxLm9wdGlvbnMuY2FsbGJhY2tVcmx9YFxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHNpZ25pblVybCA9IGAke3NpZ25pblVybH0mZXJyb3I9JHtlcnJvcn1gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KHNpZ25pblVybClcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVuZGVyLnNpZ25pbigpXG4gICAgICAgIGNhc2UgXCJzaWdub3V0XCI6XG4gICAgICAgICAgaWYgKHBhZ2VzLnNpZ25PdXQpIHJldHVybiByZXMucmVkaXJlY3QocGFnZXMuc2lnbk91dClcblxuICAgICAgICAgIHJldHVybiByZW5kZXIuc2lnbm91dCgpXG4gICAgICAgIGNhc2UgXCJjYWxsYmFja1wiOlxuICAgICAgICAgIGlmIChwcm92aWRlcikge1xuICAgICAgICAgICAgaWYgKGF3YWl0IHBrY2UuaGFuZGxlQ2FsbGJhY2socmVxLCByZXMpKSByZXR1cm5cbiAgICAgICAgICAgIGlmIChhd2FpdCBzdGF0ZS5oYW5kbGVDYWxsYmFjayhyZXEsIHJlcykpIHJldHVyblxuICAgICAgICAgICAgcmV0dXJuIHJvdXRlcy5jYWxsYmFjayhyZXEsIHJlcylcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSBcInZlcmlmeS1yZXF1ZXN0XCI6XG4gICAgICAgICAgaWYgKHBhZ2VzLnZlcmlmeVJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QocGFnZXMudmVyaWZ5UmVxdWVzdClcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlbmRlci52ZXJpZnlSZXF1ZXN0KClcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgaWYgKHBhZ2VzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgICAgICBgJHtwYWdlcy5lcnJvcn0ke1xuICAgICAgICAgICAgICAgIHBhZ2VzLmVycm9yLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCJcbiAgICAgICAgICAgICAgfWVycm9yPSR7ZXJyb3J9YFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFRoZXNlIGVycm9yIG1lc3NhZ2VzIGFyZSBkaXNwbGF5ZWQgaW4gbGluZSBvbiB0aGUgc2lnbiBpbiBwYWdlXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBcIlNpZ25pblwiLFxuICAgICAgICAgICAgICBcIk9BdXRoU2lnbmluXCIsXG4gICAgICAgICAgICAgIFwiT0F1dGhDYWxsYmFja1wiLFxuICAgICAgICAgICAgICBcIk9BdXRoQ3JlYXRlQWNjb3VudFwiLFxuICAgICAgICAgICAgICBcIkVtYWlsQ3JlYXRlQWNjb3VudFwiLFxuICAgICAgICAgICAgICBcIkNhbGxiYWNrXCIsXG4gICAgICAgICAgICAgIFwiT0F1dGhBY2NvdW50Tm90TGlua2VkXCIsXG4gICAgICAgICAgICAgIFwiRW1haWxTaWduaW5cIixcbiAgICAgICAgICAgICAgXCJDcmVkZW50aWFsc1NpZ25pblwiLFxuICAgICAgICAgICAgXS5pbmNsdWRlcyhlcnJvcilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9zaWduaW4/ZXJyb3I9JHtlcnJvcn1gKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZW5kZXIuZXJyb3IoeyBlcnJvciB9KVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJzaWduaW5cIjpcbiAgICAgICAgICAvLyBWZXJpZmllZCBDU1JGIFRva2VuIHJlcXVpcmVkIGZvciBhbGwgc2lnbiBpbiByb3V0ZXNcbiAgICAgICAgICBpZiAocmVxLm9wdGlvbnMuY3NyZlRva2VuVmVyaWZpZWQgJiYgcHJvdmlkZXIpIHtcbiAgICAgICAgICAgIGlmIChhd2FpdCBwa2NlLmhhbmRsZVNpZ25pbihyZXEsIHJlcykpIHJldHVyblxuICAgICAgICAgICAgaWYgKGF3YWl0IHN0YXRlLmhhbmRsZVNpZ25pbihyZXEsIHJlcykpIHJldHVyblxuICAgICAgICAgICAgcmV0dXJuIHJvdXRlcy5zaWduaW4ocmVxLCByZXMpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L3NpZ25pbj9jc3JmPXRydWVgKVxuICAgICAgICBjYXNlIFwic2lnbm91dFwiOlxuICAgICAgICAgIC8vIFZlcmlmaWVkIENTUkYgVG9rZW4gcmVxdWlyZWQgZm9yIHNpZ25vdXRcbiAgICAgICAgICBpZiAocmVxLm9wdGlvbnMuY3NyZlRva2VuVmVyaWZpZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXMuc2lnbm91dChyZXEsIHJlcylcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L3NpZ25vdXQ/Y3NyZj10cnVlYClcbiAgICAgICAgY2FzZSBcImNhbGxiYWNrXCI6XG4gICAgICAgICAgaWYgKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICAvLyBWZXJpZmllZCBDU1JGIFRva2VuIHJlcXVpcmVkIGZvciBjcmVkZW50aWFscyBwcm92aWRlcnMgb25seVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIgJiZcbiAgICAgICAgICAgICAgIXJlcS5vcHRpb25zLmNzcmZUb2tlblZlcmlmaWVkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L3NpZ25pbj9jc3JmPXRydWVgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYXdhaXQgcGtjZS5oYW5kbGVDYWxsYmFjayhyZXEsIHJlcykpIHJldHVyblxuICAgICAgICAgICAgaWYgKGF3YWl0IHN0YXRlLmhhbmRsZUNhbGxiYWNrKHJlcSwgcmVzKSkgcmV0dXJuXG4gICAgICAgICAgICByZXR1cm4gcm91dGVzLmNhbGxiYWNrKHJlcSwgcmVzKVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIFwiX2xvZ1wiOlxuICAgICAgICAgIGlmICh1c2VyT3B0aW9ucy5sb2dnZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjb2RlID0gXCJDTElFTlRfRVJST1JcIixcbiAgICAgICAgICAgICAgICBsZXZlbCA9IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJbXVwiLFxuICAgICAgICAgICAgICB9ID0gcmVxLmJvZHlcblxuICAgICAgICAgICAgICBsb2dnZXJbbGV2ZWxdKGNvZGUsIC4uLkpTT04ucGFyc2UobWVzc2FnZSkpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAvLyBJZiBsb2dnaW5nIGl0c2VsZiBmYWlsZWQuLi5cbiAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiTE9HR0VSX0VSUk9SXCIsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzLmVuZCgpXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgICAgIC5zdGF0dXMoNDAwKVxuICAgICAgLmVuZChgRXJyb3I6IEhUVFAgJHtyZXEubWV0aG9kfSBpcyBub3Qgc3VwcG9ydGVkIGZvciAke3JlcS51cmx9YClcbiAgfSlcbn1cblxuLyoqIFRoYSBtYWluIGVudHJ5IHBvaW50IHRvIG5leHQtYXV0aCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTmV4dEF1dGgoLi4uYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gKHJlcSwgcmVzKSA9PiBOZXh0QXV0aEhhbmRsZXIocmVxLCByZXMsIGFyZ3NbMF0pXG4gIH1cblxuICByZXR1cm4gTmV4dEF1dGhIYW5kbGVyKC4uLmFyZ3MpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/index.js\n");

/***/ }),

/***/ "./next-auth/server/lib/callback-handler.js":
/*!**************************************************!*\
  !*** ./next-auth/server/lib/callback-handler.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ callbackHandler; }\n/* harmony export */ });\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/errors */ \"./next-auth/lib/errors.js\");\n/* harmony import */ var _lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dispatch-event */ \"./next-auth/server/lib/dispatch-event.js\");\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * This function handles the complex flow of signing users in, and either creating,\n * linking (or not linking) accounts depending on if the user is currently logged\n * in, if they have account already and the authentication mechanism they are using.\n *\n * It prevents insecure behaviour, such as linking OAuth accounts unless a user is\n * signed in and authenticated with an existing valid account.\n *\n * All verification (e.g. OAuth flows or email address verificaiton flows) are\n * done prior to this handler being called to avoid additonal complexity in this\n * handler.\n * @param {import(\"types\").Session} sessionToken\n * @param {import(\"types\").Profile} profile\n * @param {import(\"types\").Account} account\n * @param {import(\"types/internals\").AppOptions} options\n */\n\nasync function callbackHandler(sessionToken, profile, providerAccount, options) {\n  // Input validation\n  if (!profile) throw new Error(\"Missing profile\");\n  if (!(providerAccount !== null && providerAccount !== void 0 && providerAccount.id) || !providerAccount.type) throw new Error(\"Missing or invalid provider account\");\n  if (![\"email\", \"oauth\"].includes(providerAccount.type)) throw new Error(\"Provider not supported\");\n  const {\n    adapter,\n    jwt,\n    events,\n    session: {\n      jwt: useJwtSession\n    }\n  } = options; // If no adapter is configured then we don't have a database and cannot\n  // persist data; in this mode we just return a dummy session object.\n\n  if (!adapter) {\n    return {\n      user: profile,\n      account: providerAccount,\n      session: {}\n    };\n  }\n\n  const {\n    createUser,\n    updateUser,\n    getUser,\n    getUserByProviderAccountId,\n    getUserByEmail,\n    linkAccount,\n    createSession,\n    getSession,\n    deleteSession\n  } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__.default)(await adapter.getAdapter(options), options.logger);\n  let session = null;\n  let user = null;\n  let isSignedIn = null;\n  let isNewUser = false;\n\n  if (sessionToken) {\n    var _session2;\n\n    if (useJwtSession) {\n      try {\n        var _session;\n\n        session = await jwt.decode(_objectSpread(_objectSpread({}, jwt), {}, {\n          token: sessionToken\n        }));\n\n        if ((_session = session) !== null && _session !== void 0 && _session.sub) {\n          user = await getUser(session.sub);\n          isSignedIn = !!user;\n        }\n      } catch {// If session can't be verified, treat as no session\n      }\n    }\n\n    session = await getSession(sessionToken);\n\n    if ((_session2 = session) !== null && _session2 !== void 0 && _session2.userId) {\n      user = await getUser(session.userId);\n      isSignedIn = !!user;\n    }\n  }\n\n  if (providerAccount.type === \"email\") {\n    // If signing in with an email, check if an account with the same email address exists already\n    const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n\n    if (userByEmail) {\n      // If they are not already signed in as the same user, this flow will\n      // sign them out of the current session and sign them in as the new user\n      if (isSignedIn) {\n        if (user.id !== userByEmail.id && !useJwtSession) {\n          // Delete existing session if they are currently signed in as another user.\n          // This will switch user accounts for the session in cases where the user was\n          // already logged in with a different account.\n          await deleteSession(sessionToken);\n        }\n      } // Update emailVerified property on the user object\n\n\n      const currentDate = new Date();\n      user = await updateUser(_objectSpread(_objectSpread({}, userByEmail), {}, {\n        emailVerified: currentDate\n      }));\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.updateUser, user);\n    } else {\n      // Create user account if there isn't one for the email address already\n      const currentDate = new Date();\n      user = await createUser(_objectSpread(_objectSpread({}, profile), {}, {\n        emailVerified: currentDate\n      }));\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.createUser, user);\n      isNewUser = true;\n    } // Create new session\n\n\n    session = useJwtSession ? {} : await createSession(user);\n    return {\n      session,\n      user,\n      isNewUser\n    };\n  } else if (providerAccount.type === \"oauth\") {\n    // If signing in with oauth account, check to see if the account exists already\n    const userByProviderAccountId = await getUserByProviderAccountId(providerAccount.provider, providerAccount.id);\n\n    if (userByProviderAccountId) {\n      if (isSignedIn) {\n        // If the user is already signed in with this account, we don't need to do anything\n        // Note: These are cast as strings here to ensure they match as in\n        // some flows (e.g. JWT with a database) one of the values might be a\n        // string and the other might be an ObjectID and would otherwise fail.\n        if (`${userByProviderAccountId.id}` === `${user.id}`) {\n          return {\n            session,\n            user,\n            isNewUser\n          };\n        } // If the user is currently signed in, but the new account they are signing in\n        // with is already associated with another account, then we cannot link them\n        // and need to return an error.\n\n\n        throw new _lib_errors__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinkedError();\n      } // If there is no active session, but the account being signed in with is already\n      // associated with a valid user then create session to sign the user in.\n\n\n      session = useJwtSession ? {} : await createSession(userByProviderAccountId);\n      return {\n        session,\n        user: userByProviderAccountId,\n        isNewUser\n      };\n    } else {\n      if (isSignedIn) {\n        // If the user is already signed in and the OAuth account isn't already associated\n        // with another user account then we can go ahead and link the accounts safely.\n        await linkAccount(user.id, providerAccount.provider, providerAccount.type, providerAccount.id, providerAccount.refreshToken, providerAccount.accessToken, providerAccount.accessTokenExpires);\n        await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.linkAccount, {\n          user,\n          providerAccount: providerAccount\n        }); // As they are already signed in, we don't need to do anything after linking them\n\n        return {\n          session,\n          user,\n          isNewUser\n        };\n      } // If the user is not signed in and it looks like a new OAuth account then we\n      // check there also isn't an user account already associated with the same\n      // email address as the one in the OAuth profile.\n      //\n      // This step is often overlooked in OAuth implementations, but covers the following cases:\n      //\n      // 1. It makes it harder for someone to accidentally create two accounts.\n      //    e.g. by signin in with email, then again with an oauth account connected to the same email.\n      // 2. It makes it harder to hijack a user account using a 3rd party OAuth account.\n      //    e.g. by creating an oauth account then changing the email address associated with it.\n      //\n      // It's quite common for services to automatically link accounts in this case, but it's\n      // better practice to require the user to sign in *then* link accounts to be sure\n      // someone is not exploiting a problem with a third party OAuth service.\n      //\n      // OAuth providers should require email address verification to prevent this, but in\n      // practice that is not always the case; this helps protect against that.\n\n\n      const userByEmail = profile.email ? await getUserByEmail(profile.email) : null;\n\n      if (userByEmail) {\n        // We end up here when we don't have an account with the same [provider].id *BUT*\n        // we do already have an account with the same email address as the one in the\n        // OAuth profile the user has just tried to sign in with.\n        //\n        // We don't want to have two accounts with the same email address, and we don't\n        // want to link them in case it's not safe to do so, so instead we prompt the user\n        // to sign in via email to verify their identity and then link the accounts.\n        throw new _lib_errors__WEBPACK_IMPORTED_MODULE_0__.AccountNotLinkedError();\n      } // If the current user is not logged in and the profile isn't linked to any user\n      // accounts (by email or provider account id)...\n      //\n      // If no account matching the same [provider].id or .email exists, we can\n      // create a new account for the user, link it to the OAuth acccount and\n      // create a new session for them so they are signed in with it.\n\n\n      user = await createUser(profile);\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.createUser, user);\n      await linkAccount(user.id, providerAccount.provider, providerAccount.type, providerAccount.id, providerAccount.refreshToken, providerAccount.accessToken, providerAccount.accessTokenExpires);\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.linkAccount, {\n        user,\n        providerAccount: providerAccount\n      });\n      session = useJwtSession ? {} : await createSession(user);\n      isNewUser = true;\n      return {\n        session,\n        user,\n        isNewUser\n      };\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvY2FsbGJhY2staGFuZGxlci5qcz9kZDQyIl0sIm5hbWVzIjpbImNhbGxiYWNrSGFuZGxlciIsInNlc3Npb25Ub2tlbiIsInByb2ZpbGUiLCJwcm92aWRlckFjY291bnQiLCJvcHRpb25zIiwiRXJyb3IiLCJpZCIsInR5cGUiLCJpbmNsdWRlcyIsImFkYXB0ZXIiLCJqd3QiLCJldmVudHMiLCJzZXNzaW9uIiwidXNlSnd0U2Vzc2lvbiIsInVzZXIiLCJhY2NvdW50IiwiY3JlYXRlVXNlciIsInVwZGF0ZVVzZXIiLCJnZXRVc2VyIiwiZ2V0VXNlckJ5UHJvdmlkZXJBY2NvdW50SWQiLCJnZXRVc2VyQnlFbWFpbCIsImxpbmtBY2NvdW50IiwiY3JlYXRlU2Vzc2lvbiIsImdldFNlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiYWRhcHRlckVycm9ySGFuZGxlciIsImdldEFkYXB0ZXIiLCJsb2dnZXIiLCJpc1NpZ25lZEluIiwiaXNOZXdVc2VyIiwiZGVjb2RlIiwidG9rZW4iLCJzdWIiLCJ1c2VySWQiLCJ1c2VyQnlFbWFpbCIsImVtYWlsIiwiY3VycmVudERhdGUiLCJEYXRlIiwiZW1haWxWZXJpZmllZCIsImRpc3BhdGNoRXZlbnQiLCJ1c2VyQnlQcm92aWRlckFjY291bnRJZCIsInByb3ZpZGVyIiwiQWNjb3VudE5vdExpbmtlZEVycm9yIiwicmVmcmVzaFRva2VuIiwiYWNjZXNzVG9rZW4iLCJhY2Nlc3NUb2tlbkV4cGlyZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDZSxlQUFlQSxlQUFmLENBQ2JDLFlBRGEsRUFFYkMsT0FGYSxFQUdiQyxlQUhhLEVBSWJDLE9BSmEsRUFLYjtBQUNBO0FB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QXBCLENBQW5CO0FBRUEsWUFBTU8sV0FBVyxDQUNmUCxJQUFJLENBQUNSLEVBRFUsRUFFZkgsZUFBZSxDQUFDc0MsUUFGRCxFQUdmdEMsZUFBZSxDQUFDSSxJQUhELEVBSWZKLGVBQWUsQ0FBQ0csRUFKRCxFQUtmSCxlQUFlLENBQUN3QyxZQUxELEVBTWZ4QyxlQUFlLENBQUN5QyxXQU5ELEVBT2Z6QyxlQUFlLENBQUMwQyxrQkFQRCxDQUFqQjtBQVNBLFlBQU1OLDREQUFhLENBQUM1QixNQUFNLENBQUNVLFdBQVIsRUFBcUI7QUFDdENQLFlBRHNDO0FBRXRDWCx1QkFBZSxFQUFFQTtBQUZxQixPQUFyQixDQUFuQjtBQUtBUyxhQUFPLEdBQUdDLGFBQWEsR0FBRyxFQUFILEdBQVEsTUFBTVMsYUFBYSxDQUFDUixJQUFELENBQWxEO0FBQ0FlLGVBQVMsR0FBRyxJQUFaO0FBQ0EsYUFBTztBQUNMakIsZUFESztBQUVMRSxZQUZLO0FBR0xlO0FBSEssT0FBUDtBQUtEO0FBQ0Y7QUFDRiIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvbGliL2NhbGxiYWNrLWhhbmRsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY2NvdW50Tm90TGlua2VkRXJyb3IgfSBmcm9tIFwiLi4vLi4vbGliL2Vycm9yc1wiXG5pbXBvcnQgZGlzcGF0Y2hFdmVudCBmcm9tIFwiLi4vbGliL2Rpc3BhdGNoLWV2ZW50XCJcbmltcG9ydCBhZGFwdGVyRXJyb3JIYW5kbGVyIGZyb20gXCIuLi8uLi9hZGFwdGVycy9lcnJvci1oYW5kbGVyXCJcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgdGhlIGNvbXBsZXggZmxvdyBvZiBzaWduaW5nIHVzZXJzIGluLCBhbmQgZWl0aGVyIGNyZWF0aW5nLFxuICogbGlua2luZyAob3Igbm90IGxpbmtpbmcpIGFjY291bnRzIGRlcGVuZGluZyBvbiBpZiB0aGUgdXNlciBpcyBjdXJyZW50bHkgbG9nZ2VkXG4gKiBpbiwgaWYgdGhleSBoYXZlIGFjY291bnQgYWxyZWFkeSBhbmQgdGhlIGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbSB0aGV5IGFyZSB1c2luZy5cbiAqXG4gKiBJdCBwcmV2ZW50cyBpbnNlY3VyZSBiZWhhdmlvdXIsIHN1Y2ggYXMgbGlua2luZyBPQXV0aCBhY2NvdW50cyB1bmxlc3MgYSB1c2VyIGlzXG4gKiBzaWduZWQgaW4gYW5kIGF1dGhlbnRpY2F0ZWQgd2l0aCBhbiBleGlzdGluZyB2YWxpZCBhY2NvdW50LlxuICpcbiAqIEFsbCB2ZXJpZmljYXRpb24gKGUuZy4gT0F1dGggZmxvd3Mgb3IgZW1haWwgYWRkcmVzcyB2ZXJpZmljYWl0b24gZmxvd3MpIGFyZVxuICogZG9uZSBwcmlvciB0byB0aGlzIGhhbmRsZXIgYmVpbmcgY2FsbGVkIHRvIGF2b2lkIGFkZGl0b25hbCBjb21wbGV4aXR5IGluIHRoaXNcbiAqIGhhbmRsZXIuXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzXCIpLlNlc3Npb259IHNlc3Npb25Ub2tlblxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlc1wiKS5Qcm9maWxlfSBwcm9maWxlXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzXCIpLkFjY291bnR9IGFjY291bnRcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLkFwcE9wdGlvbnN9IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gY2FsbGJhY2tIYW5kbGVyKFxuICBzZXNzaW9uVG9rZW4sXG4gIHByb2ZpbGUsXG4gIHByb3ZpZGVyQWNjb3VudCxcbiAgb3B0aW9uc1xuKSB7XG4gIC8vIElucHV0IHZhbGlkYXRpb25cbiAgaWYgKCFwcm9maWxlKSB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHByb2ZpbGVcIilcbiAgaWYgKCFwcm92aWRlckFjY291bnQ/LmlkIHx8ICFwcm92aWRlckFjY291bnQudHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIG9yIGludmFsaWQgcHJvdmlkZXIgYWNjb3VudFwiKVxuICBpZiAoIVtcImVtYWlsXCIsIFwib2F1dGhcIl0uaW5jbHVkZXMocHJvdmlkZXJBY2NvdW50LnR5cGUpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVyIG5vdCBzdXBwb3J0ZWRcIilcblxuICBjb25zdCB7XG4gICAgYWRhcHRlcixcbiAgICBqd3QsXG4gICAgZXZlbnRzLFxuICAgIHNlc3Npb246IHsgand0OiB1c2VKd3RTZXNzaW9uIH0sXG4gIH0gPSBvcHRpb25zXG5cbiAgLy8gSWYgbm8gYWRhcHRlciBpcyBjb25maWd1cmVkIHRoZW4gd2UgZG9uJ3QgaGF2ZSBhIGRhdGFiYXNlIGFuZCBjYW5ub3RcbiAgLy8gcGVyc2lzdCBkYXRhOyBpbiB0aGlzIG1vZGUgd2UganVzdCByZXR1cm4gYSBkdW1teSBzZXNzaW9uIG9iamVjdC5cbiAgaWYgKCFhZGFwdGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IHByb2ZpbGUsXG4gICAgICBhY2NvdW50OiBwcm92aWRlckFjY291bnQsXG4gICAgICBzZXNzaW9uOiB7fSxcbiAgICB9XG4gIH1cblxuICBjb25zdCB7XG4gICAgY3JlYXRlVXNlcixcbiAgICB1cGRhdGVVc2VyLFxuICAgIGdldFVzZXIsXG4gICAgZ2V0VXNlckJ5UHJvdmlkZXJBY2NvdW50SWQsXG4gICAgZ2V0VXNlckJ5RW1haWwsXG4gICAgbGlua0FjY291bnQsXG4gICAgY3JlYXRlU2Vzc2lvbixcbiAgICBnZXRTZXNzaW9uLFxuICAgIGRlbGV0ZVNlc3Npb24sXG4gIH0gPSBhZGFwdGVyRXJyb3JIYW5kbGVyKGF3YWl0IGFkYXB0ZXIuZ2V0QWRhcHRlcihvcHRpb25zKSwgb3B0aW9ucy5sb2dnZXIpXG5cbiAgbGV0IHNlc3Npb24gPSBudWxsXG4gIGxldCB1c2VyID0gbnVsbFxuICBsZXQgaXNTaWduZWRJbiA9IG51bGxcbiAgbGV0IGlzTmV3VXNlciA9IGZhbHNlXG5cbiAgaWYgKHNlc3Npb25Ub2tlbikge1xuICAgIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXNzaW9uID0gYXdhaXQgand0LmRlY29kZSh7IC4uLmp3dCwgdG9rZW46IHNlc3Npb25Ub2tlbiB9KVxuICAgICAgICBpZiAoc2Vzc2lvbj8uc3ViKSB7XG4gICAgICAgICAgdXNlciA9IGF3YWl0IGdldFVzZXIoc2Vzc2lvbi5zdWIpXG4gICAgICAgICAgaXNTaWduZWRJbiA9ICEhdXNlclxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gSWYgc2Vzc2lvbiBjYW4ndCBiZSB2ZXJpZmllZCwgdHJlYXQgYXMgbm8gc2Vzc2lvblxuICAgICAgfVxuICAgIH1cbiAgICBzZXNzaW9uID0gYXdhaXQgZ2V0U2Vzc2lvbihzZXNzaW9uVG9rZW4pXG4gICAgaWYgKHNlc3Npb24/LnVzZXJJZCkge1xuICAgICAgdXNlciA9IGF3YWl0IGdldFVzZXIoc2Vzc2lvbi51c2VySWQpXG4gICAgICBpc1NpZ25lZEluID0gISF1c2VyXG4gICAgfVxuICB9XG5cbiAgaWYgKHByb3ZpZGVyQWNjb3VudC50eXBlID09PSBcImVtYWlsXCIpIHtcbiAgICAvLyBJZiBzaWduaW5nIGluIHdpdGggYW4gZW1haWwsIGNoZWNrIGlmIGFuIGFjY291bnQgd2l0aCB0aGUgc2FtZSBlbWFpbCBhZGRyZXNzIGV4aXN0cyBhbHJlYWR5XG4gICAgY29uc3QgdXNlckJ5RW1haWwgPSBwcm9maWxlLmVtYWlsXG4gICAgICA/IGF3YWl0IGdldFVzZXJCeUVtYWlsKHByb2ZpbGUuZW1haWwpXG4gICAgICA6IG51bGxcbiAgICBpZiAodXNlckJ5RW1haWwpIHtcbiAgICAgIC8vIElmIHRoZXkgYXJlIG5vdCBhbHJlYWR5IHNpZ25lZCBpbiBhcyB0aGUgc2FtZSB1c2VyLCB0aGlzIGZsb3cgd2lsbFxuICAgICAgLy8gc2lnbiB0aGVtIG91dCBvZiB0aGUgY3VycmVudCBzZXNzaW9uIGFuZCBzaWduIHRoZW0gaW4gYXMgdGhlIG5ldyB1c2VyXG4gICAgICBpZiAoaXNTaWduZWRJbikge1xuICAgICAgICBpZiAodXNlci5pZCAhPT0gdXNlckJ5RW1haWwuaWQgJiYgIXVzZUp3dFNlc3Npb24pIHtcbiAgICAgICAgICAvLyBEZWxldGUgZXhpc3Rpbmcgc2Vzc2lvbiBpZiB0aGV5IGFyZSBjdXJyZW50bHkgc2lnbmVkIGluIGFzIGFub3RoZXIgdXNlci5cbiAgICAgICAgICAvLyBUaGlzIHdpbGwgc3dpdGNoIHVzZXIgYWNjb3VudHMgZm9yIHRoZSBzZXNzaW9uIGluIGNhc2VzIHdoZXJlIHRoZSB1c2VyIHdhc1xuICAgICAgICAgIC8vIGFscmVhZHkgbG9nZ2VkIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cbiAgICAgICAgICBhd2FpdCBkZWxldGVTZXNzaW9uKHNlc3Npb25Ub2tlbilcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgZW1haWxWZXJpZmllZCBwcm9wZXJ0eSBvbiB0aGUgdXNlciBvYmplY3RcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxuICAgICAgdXNlciA9IGF3YWl0IHVwZGF0ZVVzZXIoeyAuLi51c2VyQnlFbWFpbCwgZW1haWxWZXJpZmllZDogY3VycmVudERhdGUgfSlcbiAgICAgIGF3YWl0IGRpc3BhdGNoRXZlbnQoZXZlbnRzLnVwZGF0ZVVzZXIsIHVzZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSB1c2VyIGFjY291bnQgaWYgdGhlcmUgaXNuJ3Qgb25lIGZvciB0aGUgZW1haWwgYWRkcmVzcyBhbHJlYWR5XG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgIHVzZXIgPSBhd2FpdCBjcmVhdGVVc2VyKHsgLi4ucHJvZmlsZSwgZW1haWxWZXJpZmllZDogY3VycmVudERhdGUgfSlcbiAgICAgIGF3YWl0IGRpc3BhdGNoRXZlbnQoZXZlbnRzLmNyZWF0ZVVzZXIsIHVzZXIpXG4gICAgICBpc05ld1VzZXIgPSB0cnVlXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldyBzZXNzaW9uXG4gICAgc2Vzc2lvbiA9IHVzZUp3dFNlc3Npb24gPyB7fSA6IGF3YWl0IGNyZWF0ZVNlc3Npb24odXNlcilcblxuICAgIHJldHVybiB7XG4gICAgICBzZXNzaW9uLFxuICAgICAgdXNlcixcbiAgICAgIGlzTmV3VXNlcixcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvdmlkZXJBY2NvdW50LnR5cGUgPT09IFwib2F1dGhcIikge1xuICAgIC8vIElmIHNpZ25pbmcgaW4gd2l0aCBvYXV0aCBhY2NvdW50LCBjaGVjayB0byBzZWUgaWYgdGhlIGFjY291bnQgZXhpc3RzIGFscmVhZHlcbiAgICBjb25zdCB1c2VyQnlQcm92aWRlckFjY291bnRJZCA9IGF3YWl0IGdldFVzZXJCeVByb3ZpZGVyQWNjb3VudElkKFxuICAgICAgcHJvdmlkZXJBY2NvdW50LnByb3ZpZGVyLFxuICAgICAgcHJvdmlkZXJBY2NvdW50LmlkXG4gICAgKVxuICAgIGlmICh1c2VyQnlQcm92aWRlckFjY291bnRJZCkge1xuICAgICAgaWYgKGlzU2lnbmVkSW4pIHtcbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgYWxyZWFkeSBzaWduZWQgaW4gd2l0aCB0aGlzIGFjY291bnQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmdcbiAgICAgICAgLy8gTm90ZTogVGhlc2UgYXJlIGNhc3QgYXMgc3RyaW5ncyBoZXJlIHRvIGVuc3VyZSB0aGV5IG1hdGNoIGFzIGluXG4gICAgICAgIC8vIHNvbWUgZmxvd3MgKGUuZy4gSldUIHdpdGggYSBkYXRhYmFzZSkgb25lIG9mIHRoZSB2YWx1ZXMgbWlnaHQgYmUgYVxuICAgICAgICAvLyBzdHJpbmcgYW5kIHRoZSBvdGhlciBtaWdodCBiZSBhbiBPYmplY3RJRCBhbmQgd291bGQgb3RoZXJ3aXNlIGZhaWwuXG4gICAgICAgIGlmIChgJHt1c2VyQnlQcm92aWRlckFjY291bnRJZC5pZH1gID09PSBgJHt1c2VyLmlkfWApIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBpc05ld1VzZXIsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSB1c2VyIGlzIGN1cnJlbnRseSBzaWduZWQgaW4sIGJ1dCB0aGUgbmV3IGFjY291bnQgdGhleSBhcmUgc2lnbmluZyBpblxuICAgICAgICAvLyB3aXRoIGlzIGFscmVhZHkgYXNzb2NpYXRlZCB3aXRoIGFub3RoZXIgYWNjb3VudCwgdGhlbiB3ZSBjYW5ub3QgbGluayB0aGVtXG4gICAgICAgIC8vIGFuZCBuZWVkIHRvIHJldHVybiBhbiBlcnJvci5cbiAgICAgICAgdGhyb3cgbmV3IEFjY291bnROb3RMaW5rZWRFcnJvcigpXG4gICAgICB9XG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBhY3RpdmUgc2Vzc2lvbiwgYnV0IHRoZSBhY2NvdW50IGJlaW5nIHNpZ25lZCBpbiB3aXRoIGlzIGFscmVhZHlcbiAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aCBhIHZhbGlkIHVzZXIgdGhlbiBjcmVhdGUgc2Vzc2lvbiB0byBzaWduIHRoZSB1c2VyIGluLlxuICAgICAgc2Vzc2lvbiA9IHVzZUp3dFNlc3Npb25cbiAgICAgICAgPyB7fVxuICAgICAgICA6IGF3YWl0IGNyZWF0ZVNlc3Npb24odXNlckJ5UHJvdmlkZXJBY2NvdW50SWQpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uLFxuICAgICAgICB1c2VyOiB1c2VyQnlQcm92aWRlckFjY291bnRJZCxcbiAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNTaWduZWRJbikge1xuICAgICAgICAvLyBJZiB0aGUgdXNlciBpcyBhbHJlYWR5IHNpZ25lZCBpbiBhbmQgdGhlIE9BdXRoIGFjY291bnQgaXNuJ3QgYWxyZWFkeSBhc3NvY2lhdGVkXG4gICAgICAgIC8vIHdpdGggYW5vdGhlciB1c2VyIGFjY291bnQgdGhlbiB3ZSBjYW4gZ28gYWhlYWQgYW5kIGxpbmsgdGhlIGFjY291bnRzIHNhZmVseS5cbiAgICAgICAgYXdhaXQgbGlua0FjY291bnQoXG4gICAgICAgICAgdXNlci5pZCxcbiAgICAgICAgICBwcm92aWRlckFjY291bnQucHJvdmlkZXIsXG4gICAgICAgICAgcHJvdmlkZXJBY2NvdW50LnR5cGUsXG4gICAgICAgICAgcHJvdmlkZXJBY2NvdW50LmlkLFxuICAgICAgICAgIHByb3ZpZGVyQWNjb3VudC5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgcHJvdmlkZXJBY2NvdW50LmFjY2Vzc1Rva2VuLFxuICAgICAgICAgIHByb3ZpZGVyQWNjb3VudC5hY2Nlc3NUb2tlbkV4cGlyZXNcbiAgICAgICAgKVxuICAgICAgICBhd2FpdCBkaXNwYXRjaEV2ZW50KGV2ZW50cy5saW5rQWNjb3VudCwge1xuICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgcHJvdmlkZXJBY2NvdW50OiBwcm92aWRlckFjY291bnQsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQXMgdGhleSBhcmUgYWxyZWFkeSBzaWduZWQgaW4sIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgYWZ0ZXIgbGlua2luZyB0aGVtXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgICB1c2VyLFxuICAgICAgICAgIGlzTmV3VXNlcixcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgdXNlciBpcyBub3Qgc2lnbmVkIGluIGFuZCBpdCBsb29rcyBsaWtlIGEgbmV3IE9BdXRoIGFjY291bnQgdGhlbiB3ZVxuICAgICAgLy8gY2hlY2sgdGhlcmUgYWxzbyBpc24ndCBhbiB1c2VyIGFjY291bnQgYWxyZWFkeSBhc3NvY2lhdGVkIHdpdGggdGhlIHNhbWVcbiAgICAgIC8vIGVtYWlsIGFkZHJlc3MgYXMgdGhlIG9uZSBpbiB0aGUgT0F1dGggcHJvZmlsZS5cbiAgICAgIC8vXG4gICAgICAvLyBUaGlzIHN0ZXAgaXMgb2Z0ZW4gb3Zlcmxvb2tlZCBpbiBPQXV0aCBpbXBsZW1lbnRhdGlvbnMsIGJ1dCBjb3ZlcnMgdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgICAgIC8vXG4gICAgICAvLyAxLiBJdCBtYWtlcyBpdCBoYXJkZXIgZm9yIHNvbWVvbmUgdG8gYWNjaWRlbnRhbGx5IGNyZWF0ZSB0d28gYWNjb3VudHMuXG4gICAgICAvLyAgICBlLmcuIGJ5IHNpZ25pbiBpbiB3aXRoIGVtYWlsLCB0aGVuIGFnYWluIHdpdGggYW4gb2F1dGggYWNjb3VudCBjb25uZWN0ZWQgdG8gdGhlIHNhbWUgZW1haWwuXG4gICAgICAvLyAyLiBJdCBtYWtlcyBpdCBoYXJkZXIgdG8gaGlqYWNrIGEgdXNlciBhY2NvdW50IHVzaW5nIGEgM3JkIHBhcnR5IE9BdXRoIGFjY291bnQuXG4gICAgICAvLyAgICBlLmcuIGJ5IGNyZWF0aW5nIGFuIG9hdXRoIGFjY291bnQgdGhlbiBjaGFuZ2luZyB0aGUgZW1haWwgYWRkcmVzcyBhc3NvY2lhdGVkIHdpdGggaXQuXG4gICAgICAvL1xuICAgICAgLy8gSXQncyBxdWl0ZSBjb21tb24gZm9yIHNlcnZpY2VzIHRvIGF1dG9tYXRpY2FsbHkgbGluayBhY2NvdW50cyBpbiB0aGlzIGNhc2UsIGJ1dCBpdCdzXG4gICAgICAvLyBiZXR0ZXIgcHJhY3RpY2UgdG8gcmVxdWlyZSB0aGUgdXNlciB0byBzaWduIGluICp0aGVuKiBsaW5rIGFjY291bnRzIHRvIGJlIHN1cmVcbiAgICAgIC8vIHNvbWVvbmUgaXMgbm90IGV4cGxvaXRpbmcgYSBwcm9ibGVtIHdpdGggYSB0aGlyZCBwYXJ0eSBPQXV0aCBzZXJ2aWNlLlxuICAgICAgLy9cbiAgICAgIC8vIE9BdXRoIHByb3ZpZGVycyBzaG91bGQgcmVxdWlyZSBlbWFpbCBhZGRyZXNzIHZlcmlmaWNhdGlvbiB0byBwcmV2ZW50IHRoaXMsIGJ1dCBpblxuICAgICAgLy8gcHJhY3RpY2UgdGhhdCBpcyBub3QgYWx3YXlzIHRoZSBjYXNlOyB0aGlzIGhlbHBzIHByb3RlY3QgYWdhaW5zdCB0aGF0LlxuICAgICAgY29uc3QgdXNlckJ5RW1haWwgPSBwcm9maWxlLmVtYWlsXG4gICAgICAgID8gYXdhaXQgZ2V0VXNlckJ5RW1haWwocHJvZmlsZS5lbWFpbClcbiAgICAgICAgOiBudWxsXG4gICAgICBpZiAodXNlckJ5RW1haWwpIHtcbiAgICAgICAgLy8gV2UgZW5kIHVwIGhlcmUgd2hlbiB3ZSBkb24ndCBoYXZlIGFuIGFjY291bnQgd2l0aCB0aGUgc2FtZSBbcHJvdmlkZXJdLmlkICpCVVQqXG4gICAgICAgIC8vIHdlIGRvIGFscmVhZHkgaGF2ZSBhbiBhY2NvdW50IHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBhcyB0aGUgb25lIGluIHRoZVxuICAgICAgICAvLyBPQXV0aCBwcm9maWxlIHRoZSB1c2VyIGhhcyBqdXN0IHRyaWVkIHRvIHNpZ24gaW4gd2l0aC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBoYXZlIHR3byBhY2NvdW50cyB3aXRoIHRoZSBzYW1lIGVtYWlsIGFkZHJlc3MsIGFuZCB3ZSBkb24ndFxuICAgICAgICAvLyB3YW50IHRvIGxpbmsgdGhlbSBpbiBjYXNlIGl0J3Mgbm90IHNhZmUgdG8gZG8gc28sIHNvIGluc3RlYWQgd2UgcHJvbXB0IHRoZSB1c2VyXG4gICAgICAgIC8vIHRvIHNpZ24gaW4gdmlhIGVtYWlsIHRvIHZlcmlmeSB0aGVpciBpZGVudGl0eSBhbmQgdGhlbiBsaW5rIHRoZSBhY2NvdW50cy5cbiAgICAgICAgdGhyb3cgbmV3IEFjY291bnROb3RMaW5rZWRFcnJvcigpXG4gICAgICB9XG4gICAgICAvLyBJZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBsb2dnZWQgaW4gYW5kIHRoZSBwcm9maWxlIGlzbid0IGxpbmtlZCB0byBhbnkgdXNlclxuICAgICAgLy8gYWNjb3VudHMgKGJ5IGVtYWlsIG9yIHByb3ZpZGVyIGFjY291bnQgaWQpLi4uXG4gICAgICAvL1xuICAgICAgLy8gSWYgbm8gYWNjb3VudCBtYXRjaGluZyB0aGUgc2FtZSBbcHJvdmlkZXJdLmlkIG9yIC5lbWFpbCBleGlzdHMsIHdlIGNhblxuICAgICAgLy8gY3JlYXRlIGEgbmV3IGFjY291bnQgZm9yIHRoZSB1c2VyLCBsaW5rIGl0IHRvIHRoZSBPQXV0aCBhY2Njb3VudCBhbmRcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBzZXNzaW9uIGZvciB0aGVtIHNvIHRoZXkgYXJlIHNpZ25lZCBpbiB3aXRoIGl0LlxuICAgICAgdXNlciA9IGF3YWl0IGNyZWF0ZVVzZXIocHJvZmlsZSlcbiAgICAgIGF3YWl0IGRpc3BhdGNoRXZlbnQoZXZlbnRzLmNyZWF0ZVVzZXIsIHVzZXIpXG5cbiAgICAgIGF3YWl0IGxpbmtBY2NvdW50KFxuICAgICAgICB1c2VyLmlkLFxuICAgICAgICBwcm92aWRlckFjY291bnQucHJvdmlkZXIsXG4gICAgICAgIHByb3ZpZGVyQWNjb3VudC50eXBlLFxuICAgICAgICBwcm92aWRlckFjY291bnQuaWQsXG4gICAgICAgIHByb3ZpZGVyQWNjb3VudC5yZWZyZXNoVG9rZW4sXG4gICAgICAgIHByb3ZpZGVyQWNjb3VudC5hY2Nlc3NUb2tlbixcbiAgICAgICAgcHJvdmlkZXJBY2NvdW50LmFjY2Vzc1Rva2VuRXhwaXJlc1xuICAgICAgKVxuICAgICAgYXdhaXQgZGlzcGF0Y2hFdmVudChldmVudHMubGlua0FjY291bnQsIHtcbiAgICAgICAgdXNlcixcbiAgICAgICAgcHJvdmlkZXJBY2NvdW50OiBwcm92aWRlckFjY291bnQsXG4gICAgICB9KVxuXG4gICAgICBzZXNzaW9uID0gdXNlSnd0U2Vzc2lvbiA/IHt9IDogYXdhaXQgY3JlYXRlU2Vzc2lvbih1c2VyKVxuICAgICAgaXNOZXdVc2VyID0gdHJ1ZVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbixcbiAgICAgICAgdXNlcixcbiAgICAgICAgaXNOZXdVc2VyLFxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/lib/callback-handler.js\n");

/***/ }),

/***/ "./next-auth/server/lib/callback-url-handler.js":
/*!******************************************************!*\
  !*** ./next-auth/server/lib/callback-url-handler.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ callbackUrlHandler; }\n/* harmony export */ });\n/* harmony import */ var _lib_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/cookie */ \"./next-auth/server/lib/cookie.js\");\n\n/**\n * Get callback URL based on query param / cookie + validation,\n * and add it to `req.options.callbackUrl`.\n * @note: `req.options` must already be defined when called.\n */\n\nasync function callbackUrlHandler(req, res) {\n  const {\n    query\n  } = req;\n  const {\n    body\n  } = req;\n  const {\n    cookies,\n    baseUrl,\n    defaultCallbackUrl,\n    callbacks\n  } = req.options; // Handle preserving and validating callback URLs\n  // If no defaultCallbackUrl option specified, default to the homepage for the site\n\n  let callbackUrl = defaultCallbackUrl || baseUrl; // Try reading callbackUrlParamValue from request body (form submission) then from query param (get request)\n\n  const callbackUrlParamValue = body.callbackUrl || query.callbackUrl || null;\n  const callbackUrlCookieValue = req.cookies[cookies.callbackUrl.name] || null;\n\n  if (callbackUrlParamValue) {\n    // If callbackUrl form field or query parameter is passed try to use it if allowed\n    callbackUrl = await callbacks.redirect(callbackUrlParamValue, baseUrl);\n  } else if (callbackUrlCookieValue) {\n    // If no callbackUrl specified, try using the value from the cookie if allowed\n    callbackUrl = await callbacks.redirect(callbackUrlCookieValue, baseUrl);\n  } // Save callback URL in a cookie so that can be used for subsequent requests in signin/signout/callback flow\n\n\n  if (callbackUrl && callbackUrl !== callbackUrlCookieValue) {\n    _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.callbackUrl.name, callbackUrl, cookies.callbackUrl.options);\n  }\n\n  req.options.callbackUrl = callbackUrl;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvY2FsbGJhY2stdXJsLWhhbmRsZXIuanM/ZWZmYSJdLCJuYW1lcyI6WyJjYWxsYmFja1VybEhhbmRsZXIiLCJyZXEiLCJyZXMiLCJxdWVyeSIsImJvZHkiLCJjb29raWVzIiwiYmFzZVVybCIsImRlZmF1bHRDYWxsYmFja1VybCIsImNhbGxiYWNrcyIsIm9wdGlvbnMiLCJjYWxsYmFja1VybCIsImNhbGxiYWNrVXJsUGFyYW1WYWx1ZSIsImNhbGxiYWNrVXJsQ29va2llVmFsdWUiLCJuYW1lIiwicmVkaXJlY3QiLCJjb29raWUiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLGVBQWVBLGtCQUFmLENBQW1DQyxHQUFuQyxFQUF3Q0MsR0FBeEMsRUFBNkM7QUFDMUQsUUFBTTtBQUFFQztBQUFGLE1BQVlGLEdBQWxCO0FBQ0EsUUFBTTtBQUFFRztBQUFGLE1BQVdILEdBQWpCO0FBQ0EsUUFBTTtBQUFFSSxXQUFGO0FBQVdDLFdBQVg7QUFBb0JDLHNCQUFwQjtBQUF3Q0M7QUFBeEMsTUFBc0RQLEdBQUcsQ0FBQ1EsT0FBaEUsQ0FIMEQsQ0FLMUQ7QUFDQTs7QUFDQSxNQUFJQyxXQUFXLEdBQUdILGtCQUFrQixJQUFJRCxPQUF4QyxDQVAwRCxDQVExRDs7QUFDQSxRQUFNSyxxQkFBcUIsR0FBR1AsSUFBSSxDQUFDTSxXQUFMLElBQW9CUCxLQUFLLENBQUNPLFdBQTFCLElBQXlDLElBQXZFO0FBQ0EsUUFBTUUsc0JBQXNCLEdBQUdYLEdBQUcsQ0FBQ0ksT0FBSixDQUFZQSxPQUFPLENBQUNLLFdBQVIsQ0FBb0JHLElBQWhDLEtBQXlDLElBQXhFOztBQUNBLE1BQUlGLHFCQUFKLEVBQTJCO0FBQ3pCO0FBQ0FELGVBQVcsR0FBRyxNQUFNRixTQUFTLENBQUNNLFFBQVYsQ0FBbUJILHFCQUFuQixFQUEwQ0wsT0FBMUMsQ0FBcEI7QUFDRCxHQUhELE1BR08sSUFBSU0sc0JBQUosRUFBNEI7QUFDakM7QUFDQUYsZUFBVyxHQUFHLE1BQU1GLFNBQVMsQ0FBQ00sUUFBVixDQUFtQkYsc0JBQW5CLEVBQTJDTixPQUEzQyxDQUFwQjtBQUNELEdBakJ5RCxDQW1CMUQ7OztBQUNBLE1BQUlJLFdBQVcsSUFBS0EsV0FBVyxLQUFLRSxzQkFBcEMsRUFBNkQ7QUFDM0RHLGdEQUFBLENBQVdiLEdBQVgsRUFBZ0JHLE9BQU8sQ0FBQ0ssV0FBUixDQUFvQkcsSUFBcEMsRUFBMENILFdBQTFDLEVBQXVETCxPQUFPLENBQUNLLFdBQVIsQ0FBb0JELE9BQTNFO0FBQ0Q7O0FBRURSLEtBQUcsQ0FBQ1EsT0FBSixDQUFZQyxXQUFaLEdBQTBCQSxXQUExQjtBQUNEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9saWIvY2FsbGJhY2stdXJsLWhhbmRsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjb29raWUgZnJvbSAnLi4vbGliL2Nvb2tpZSdcblxuLyoqXG4gKiBHZXQgY2FsbGJhY2sgVVJMIGJhc2VkIG9uIHF1ZXJ5IHBhcmFtIC8gY29va2llICsgdmFsaWRhdGlvbixcbiAqIGFuZCBhZGQgaXQgdG8gYHJlcS5vcHRpb25zLmNhbGxiYWNrVXJsYC5cbiAqIEBub3RlOiBgcmVxLm9wdGlvbnNgIG11c3QgYWxyZWFkeSBiZSBkZWZpbmVkIHdoZW4gY2FsbGVkLlxuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBjYWxsYmFja1VybEhhbmRsZXIgKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgcXVlcnkgfSA9IHJlcVxuICBjb25zdCB7IGJvZHkgfSA9IHJlcVxuICBjb25zdCB7IGNvb2tpZXMsIGJhc2VVcmwsIGRlZmF1bHRDYWxsYmFja1VybCwgY2FsbGJhY2tzIH0gPSByZXEub3B0aW9uc1xuXG4gIC8vIEhhbmRsZSBwcmVzZXJ2aW5nIGFuZCB2YWxpZGF0aW5nIGNhbGxiYWNrIFVSTHNcbiAgLy8gSWYgbm8gZGVmYXVsdENhbGxiYWNrVXJsIG9wdGlvbiBzcGVjaWZpZWQsIGRlZmF1bHQgdG8gdGhlIGhvbWVwYWdlIGZvciB0aGUgc2l0ZVxuICBsZXQgY2FsbGJhY2tVcmwgPSBkZWZhdWx0Q2FsbGJhY2tVcmwgfHwgYmFzZVVybFxuICAvLyBUcnkgcmVhZGluZyBjYWxsYmFja1VybFBhcmFtVmFsdWUgZnJvbSByZXF1ZXN0IGJvZHkgKGZvcm0gc3VibWlzc2lvbikgdGhlbiBmcm9tIHF1ZXJ5IHBhcmFtIChnZXQgcmVxdWVzdClcbiAgY29uc3QgY2FsbGJhY2tVcmxQYXJhbVZhbHVlID0gYm9keS5jYWxsYmFja1VybCB8fCBxdWVyeS5jYWxsYmFja1VybCB8fCBudWxsXG4gIGNvbnN0IGNhbGxiYWNrVXJsQ29va2llVmFsdWUgPSByZXEuY29va2llc1tjb29raWVzLmNhbGxiYWNrVXJsLm5hbWVdIHx8IG51bGxcbiAgaWYgKGNhbGxiYWNrVXJsUGFyYW1WYWx1ZSkge1xuICAgIC8vIElmIGNhbGxiYWNrVXJsIGZvcm0gZmllbGQgb3IgcXVlcnkgcGFyYW1ldGVyIGlzIHBhc3NlZCB0cnkgdG8gdXNlIGl0IGlmIGFsbG93ZWRcbiAgICBjYWxsYmFja1VybCA9IGF3YWl0IGNhbGxiYWNrcy5yZWRpcmVjdChjYWxsYmFja1VybFBhcmFtVmFsdWUsIGJhc2VVcmwpXG4gIH0gZWxzZSBpZiAoY2FsbGJhY2tVcmxDb29raWVWYWx1ZSkge1xuICAgIC8vIElmIG5vIGNhbGxiYWNrVXJsIHNwZWNpZmllZCwgdHJ5IHVzaW5nIHRoZSB2YWx1ZSBmcm9tIHRoZSBjb29raWUgaWYgYWxsb3dlZFxuICAgIGNhbGxiYWNrVXJsID0gYXdhaXQgY2FsbGJhY2tzLnJlZGlyZWN0KGNhbGxiYWNrVXJsQ29va2llVmFsdWUsIGJhc2VVcmwpXG4gIH1cblxuICAvLyBTYXZlIGNhbGxiYWNrIFVSTCBpbiBhIGNvb2tpZSBzbyB0aGF0IGNhbiBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIHNpZ25pbi9zaWdub3V0L2NhbGxiYWNrIGZsb3dcbiAgaWYgKGNhbGxiYWNrVXJsICYmIChjYWxsYmFja1VybCAhPT0gY2FsbGJhY2tVcmxDb29raWVWYWx1ZSkpIHtcbiAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5jYWxsYmFja1VybC5uYW1lLCBjYWxsYmFja1VybCwgY29va2llcy5jYWxsYmFja1VybC5vcHRpb25zKVxuICB9XG5cbiAgcmVxLm9wdGlvbnMuY2FsbGJhY2tVcmwgPSBjYWxsYmFja1VybFxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/lib/callback-url-handler.js\n");

/***/ }),

/***/ "./next-auth/server/lib/cookie.js":
/*!****************************************!*\
  !*** ./next-auth/server/lib/cookie.js ***!
  \****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"set\": function() { return /* binding */ set; },\n/* harmony export */   \"defaultCookies\": function() { return /* binding */ defaultCookies; }\n/* harmony export */ });\n/**\n * Function to set cookies server side\n *\n * Credit to @huv1k and @jshttp contributors for the code which this is based on (MIT License).\n * * https://github.com/jshttp/cookie/blob/master/index.js\n * * https://github.com/zeit/next.js/blob/master/examples/api-routes-middleware/utils/cookies.js\n *\n * As only partial functionlity is required, only the code we need has been incorporated here\n * (with fixes for specific issues) to keep dependancy size down.\n */\nfunction set(res, name, value, options = {}) {\n  const stringValue = typeof value === 'object' ? 'j:' + JSON.stringify(value) : String(value);\n\n  if ('maxAge' in options) {\n    options.expires = new Date(Date.now() + options.maxAge);\n    options.maxAge /= 1000;\n  } // Preserve any existing cookies that have already been set in the same session\n\n\n  let setCookieHeader = res.getHeader('Set-Cookie') || []; // If not an array (i.e. a string with a single cookie) convert it into an array\n\n  if (!Array.isArray(setCookieHeader)) {\n    setCookieHeader = [setCookieHeader];\n  }\n\n  setCookieHeader.push(_serialize(name, String(stringValue), options));\n  res.setHeader('Set-Cookie', setCookieHeader);\n}\n\nfunction _serialize(name, val, options) {\n  const fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/; // eslint-disable-line no-control-regex\n\n  const opt = options || {};\n  const enc = opt.encode || encodeURIComponent;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  const value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  let str = name + '=' + value;\n\n  if (opt.maxAge != null) {\n    const maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid');\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  } else {\n    str += '; Path=/';\n  }\n\n  if (opt.expires) {\n    let expires = opt.expires;\n\n    if (typeof opt.expires.toUTCString === 'function') {\n      expires = opt.expires.toUTCString();\n    } else {\n      const dateExpires = new Date(opt.expires);\n      expires = dateExpires.toUTCString();\n    }\n\n    str += '; Expires=' + expires;\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    const sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n/**\n * Use secure cookies if the site uses HTTPS\n * This being conditional allows cookies to work non-HTTPS development URLs\n * Honour secure cookie option, which sets 'secure' and also adds '__Secure-'\n * prefix, but enable them by default if the site URL is HTTPS; but not for\n * non-HTTPS URLs like http://localhost which are used in development).\n * For more on prefixes see https://googlechrome.github.io/samples/cookie-prefixes/\n *\n * @TODO Review cookie settings (names, options)\n * @return {import(\"types\").CookiesOptions}\n */\n\n\nfunction defaultCookies(useSecureCookies) {\n  const cookiePrefix = useSecureCookies ? '__Secure-' : '';\n  return {\n    // default cookie options\n    sessionToken: {\n      name: `${cookiePrefix}next-auth.session-token`,\n      options: {\n        httpOnly: true,\n        sameSite: 'lax',\n        path: '/',\n        secure: useSecureCookies\n      }\n    },\n    callbackUrl: {\n      name: `${cookiePrefix}next-auth.callback-url`,\n      options: {\n        sameSite: 'lax',\n        path: '/',\n        secure: useSecureCookies\n      }\n    },\n    csrfToken: {\n      // Default to __Host- for CSRF token for additional protection if using useSecureCookies\n      // NB: The `__Host-` prefix is stricter than the `__Secure-` prefix.\n      name: `${useSecureCookies ? '__Host-' : ''}next-auth.csrf-token`,\n      options: {\n        httpOnly: true,\n        sameSite: 'lax',\n        path: '/',\n        secure: useSecureCookies\n      }\n    },\n    pkceCodeVerifier: {\n      name: `${cookiePrefix}next-auth.pkce.code_verifier`,\n      options: {\n        httpOnly: true,\n        sameSite: 'lax',\n        path: '/',\n        secure: useSecureCookies\n      }\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvY29va2llLmpzP2RiYTgiXSwibmFtZXMiOlsic2V0IiwicmVzIiwibmFtZSIsInZhbHVlIiwib3B0aW9ucyIsInN0cmluZ1ZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZyIsImV4cGlyZXMiLCJEYXRlIiwibm93IiwibWF4QWdlIiwic2V0Q29va2llSGVhZGVyIiwiZ2V0SGVhZGVyIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsIl9zZXJpYWxpemUiLCJzZXRIZWFkZXIiLCJ2YWwiLCJmaWVsZENvbnRlbnRSZWdFeHAiLCJvcHQiLCJlbmMiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJUeXBlRXJyb3IiLCJ0ZXN0Iiwic3RyIiwiaXNOYU4iLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsImRvbWFpbiIsInBhdGgiLCJ0b1VUQ1N0cmluZyIsImRhdGVFeHBpcmVzIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInRvTG93ZXJDYXNlIiwiZGVmYXVsdENvb2tpZXMiLCJ1c2VTZWN1cmVDb29raWVzIiwiY29va2llUHJlZml4Iiwic2Vzc2lvblRva2VuIiwiY2FsbGJhY2tVcmwiLCJjc3JmVG9rZW4iLCJwa2NlQ29kZVZlcmlmaWVyIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sU0FBU0EsR0FBVCxDQUFjQyxHQUFkLEVBQW1CQyxJQUFuQixFQUF5QkMsS0FBekIsRUFBZ0NDLE9BQU8sR0FBRyxFQUExQyxFQUE4QztBQUNuRCxRQUFNQyxXQUFXLEdBQ2YsT0FBT0YsS0FBUCxLQUFpQixRQUFqQixHQUE0QixPQUFPRyxJQUFJLENBQUNDLFNBQUwsQ0FBZUosS0FBZixDQUFuQyxHQUEyREssTUFBTSxDQUFDTCxLQUFELENBRG5FOztBQUdBLE1BQUksWUFB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O0FBQ0E7QUFDQTtBQUNBOzs7QUFDTyxTQUFTYSxjQUFULENBQXlCQyxnQkFBekIsRUFBMkM7QUFDaEQsUUFBTUMsWUFBWSxHQUFHRCxnQkFBZ0IsR0FBRyxXQUFILEdBQWlCLEVBQXREO0FBQ0EsU0FBTztBQUNMO0FBQ0FFLGdCQUFZLEVBQUU7QUFDWjFDLFVBQUksRUFBRyxHQUFFeUMsWUFBYSx5QkFEVjtBQUVadkMsYUFBTyxFQUFFO0FBQ1BpQyxnQkFBUSxFQUFFLElBREg7QUFFUEUsZ0JBQVEsRUFBRSxLQUZIO0FBR1BMLFlBQUksRUFBRSxHQUhDO0FBSVBJLGNBQU0sRUFBRUk7QUFKRDtBQUZHLEtBRlQ7QUFXTEcsZUFBVyxFQUFFO0FBQ1gzQyxVQUFJLEVBQUcsR0FBRXlDLFlBQWEsd0JBRFg7QUFFWHZDLGFBQU8sRUFBRTtBQUNQbUMsZ0JBQVEsRUFBRSxLQURIO0FBRVBMLFlBQUksRUFBRSxHQUZDO0FBR1BJLGNBQU0sRUFBRUk7QUFIRDtBQUZFLEtBWFI7QUFtQkxJLGFBQVMsRUFBRTtBQUNUO0FBQ0E7QUFDQTVDLFVBQUksRUFBRyxHQUFFd0MsZ0JBQWdCLEdBQUcsU0FBSCxHQUFlLEVBQUcsc0JBSGxDO0FBSVR0QyxhQUFPLEVBQUU7QUFDUGlDLGdCQUFRLEVBQUUsSUFESDtBQUVQRSxnQkFBUSxFQUFFLEtBRkg7QUFHUEwsWUFBSSxFQUFFLEdBSEM7QUFJUEksY0FBTSxFQUFFSTtBQUpEO0FBSkEsS0FuQk47QUE4QkxLLG9CQUFnQixFQUFFO0FBQ2hCN0MsVUFBSSxFQUFHLEdBQUV5QyxZQUFhLDhCQUROO0FBRWhCdkMsYUFBTyxFQUFFO0FBQ1BpQyxnQkFBUSxFQUFFLElBREg7QUFFUEUsZ0JBQVEsRUFBRSxLQUZIO0FBR1BMLFlBQUksRUFBRSxHQUhDO0FBSVBJLGNBQU0sRUFBRUk7QUFKRDtBQUZPO0FBOUJiLEdBQVA7QUF3Q0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9jb29raWUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRvIHNldCBjb29raWVzIHNlcnZlciBzaWRlXG4gKlxuICogQ3JlZGl0IHRvIEBodXYxayBhbmQgQGpzaHR0cCBjb250cmlidXRvcnMgZm9yIHRoZSBjb2RlIHdoaWNoIHRoaXMgaXMgYmFzZWQgb24gKE1JVCBMaWNlbnNlKS5cbiAqICogaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAqICogaHR0cHM6Ly9naXRodWIuY29tL3plaXQvbmV4dC5qcy9ibG9iL21hc3Rlci9leGFtcGxlcy9hcGktcm91dGVzLW1pZGRsZXdhcmUvdXRpbHMvY29va2llcy5qc1xuICpcbiAqIEFzIG9ubHkgcGFydGlhbCBmdW5jdGlvbmxpdHkgaXMgcmVxdWlyZWQsIG9ubHkgdGhlIGNvZGUgd2UgbmVlZCBoYXMgYmVlbiBpbmNvcnBvcmF0ZWQgaGVyZVxuICogKHdpdGggZml4ZXMgZm9yIHNwZWNpZmljIGlzc3VlcykgdG8ga2VlcCBkZXBlbmRhbmN5IHNpemUgZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldCAocmVzLCBuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHN0cmluZ1ZhbHVlID1cbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gJ2o6JyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IFN0cmluZyh2YWx1ZSlcblxuICBpZiAoJ21heEFnZScgaW4gb3B0aW9ucykge1xuICAgIG9wdGlvbnMuZXhwaXJlcyA9IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLm1heEFnZSlcbiAgICBvcHRpb25zLm1heEFnZSAvPSAxMDAwXG4gIH1cblxuICAvLyBQcmVzZXJ2ZSBhbnkgZXhpc3RpbmcgY29va2llcyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHNldCBpbiB0aGUgc2FtZSBzZXNzaW9uXG4gIGxldCBzZXRDb29raWVIZWFkZXIgPSByZXMuZ2V0SGVhZGVyKCdTZXQtQ29va2llJykgfHwgW11cbiAgLy8gSWYgbm90IGFuIGFycmF5IChpLmUuIGEgc3RyaW5nIHdpdGggYSBzaW5nbGUgY29va2llKSBjb252ZXJ0IGl0IGludG8gYW4gYXJyYXlcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNldENvb2tpZUhlYWRlcikpIHtcbiAgICBzZXRDb29raWVIZWFkZXIgPSBbc2V0Q29va2llSGVhZGVyXVxuICB9XG4gIHNldENvb2tpZUhlYWRlci5wdXNoKF9zZXJpYWxpemUobmFtZSwgU3RyaW5nKHN0cmluZ1ZhbHVlKSwgb3B0aW9ucykpXG4gIHJlcy5zZXRIZWFkZXIoJ1NldC1Db29raWUnLCBzZXRDb29raWVIZWFkZXIpXG59XG5cbmZ1bmN0aW9uIF9zZXJpYWxpemUgKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICBjb25zdCBmaWVsZENvbnRlbnRSZWdFeHAgPSAvXltcXHUwMDA5XFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHUwMGZmXSskLyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnRyb2wtcmVnZXhcblxuICBjb25zdCBvcHQgPSBvcHRpb25zIHx8IHt9XG4gIGNvbnN0IGVuYyA9IG9wdC5lbmNvZGUgfHwgZW5jb2RlVVJJQ29tcG9uZW50XG5cbiAgaWYgKHR5cGVvZiBlbmMgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gZW5jb2RlIGlzIGludmFsaWQnKVxuICB9XG5cbiAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCcpXG4gIH1cblxuICBjb25zdCB2YWx1ZSA9IGVuYyh2YWwpXG5cbiAgaWYgKHZhbHVlICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCB2YWwgaXMgaW52YWxpZCcpXG4gIH1cblxuICBsZXQgc3RyID0gbmFtZSArICc9JyArIHZhbHVlXG5cbiAgaWYgKG9wdC5tYXhBZ2UgIT0gbnVsbCkge1xuICAgIGNvbnN0IG1heEFnZSA9IG9wdC5tYXhBZ2UgLSAwXG5cbiAgICBpZiAoaXNOYU4obWF4QWdlKSB8fCAhaXNGaW5pdGUobWF4QWdlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIG1heEFnZSBpcyBpbnZhbGlkJylcbiAgICB9XG5cbiAgICBzdHIgKz0gJzsgTWF4LUFnZT0nICsgTWF0aC5mbG9vcihtYXhBZ2UpXG4gIH1cblxuICBpZiAob3B0LmRvbWFpbikge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LmRvbWFpbikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBkb21haW4gaXMgaW52YWxpZCcpXG4gICAgfVxuXG4gICAgc3RyICs9ICc7IERvbWFpbj0nICsgb3B0LmRvbWFpblxuICB9XG5cbiAgaWYgKG9wdC5wYXRoKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQucGF0aCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBwYXRoIGlzIGludmFsaWQnKVxuICAgIH1cblxuICAgIHN0ciArPSAnOyBQYXRoPScgKyBvcHQucGF0aFxuICB9IGVsc2Uge1xuICAgIHN0ciArPSAnOyBQYXRoPS8nXG4gIH1cblxuICBpZiAob3B0LmV4cGlyZXMpIHtcbiAgICBsZXQgZXhwaXJlcyA9IG9wdC5leHBpcmVzXG4gICAgaWYgKHR5cGVvZiBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZXhwaXJlcyA9IG9wdC5leHBpcmVzLnRvVVRDU3RyaW5nKClcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGF0ZUV4cGlyZXMgPSBuZXcgRGF0ZShvcHQuZXhwaXJlcylcbiAgICAgIGV4cGlyZXMgPSBkYXRlRXhwaXJlcy50b1VUQ1N0cmluZygpXG4gICAgfVxuICAgIHN0ciArPSAnOyBFeHBpcmVzPScgKyBleHBpcmVzXG4gIH1cblxuICBpZiAob3B0Lmh0dHBPbmx5KSB7XG4gICAgc3RyICs9ICc7IEh0dHBPbmx5J1xuICB9XG5cbiAgaWYgKG9wdC5zZWN1cmUpIHtcbiAgICBzdHIgKz0gJzsgU2VjdXJlJ1xuICB9XG5cbiAgaWYgKG9wdC5zYW1lU2l0ZSkge1xuICAgIGNvbnN0IHNhbWVTaXRlID1cbiAgICAgIHR5cGVvZiBvcHQuc2FtZVNpdGUgPT09ICdzdHJpbmcnXG4gICAgICAgID8gb3B0LnNhbWVTaXRlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgOiBvcHQuc2FtZVNpdGVcblxuICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPVN0cmljdCdcbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2xheCc6XG4gICAgICAgIHN0ciArPSAnOyBTYW1lU2l0ZT1MYXgnXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzdHJpY3QnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0J1xuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnbm9uZSc6XG4gICAgICAgIHN0ciArPSAnOyBTYW1lU2l0ZT1Ob25lJ1xuICAgICAgICBicmVha1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQnKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHJcbn1cblxuLyoqXG4gKiBVc2Ugc2VjdXJlIGNvb2tpZXMgaWYgdGhlIHNpdGUgdXNlcyBIVFRQU1xuICogVGhpcyBiZWluZyBjb25kaXRpb25hbCBhbGxvd3MgY29va2llcyB0byB3b3JrIG5vbi1IVFRQUyBkZXZlbG9wbWVudCBVUkxzXG4gKiBIb25vdXIgc2VjdXJlIGNvb2tpZSBvcHRpb24sIHdoaWNoIHNldHMgJ3NlY3VyZScgYW5kIGFsc28gYWRkcyAnX19TZWN1cmUtJ1xuICogcHJlZml4LCBidXQgZW5hYmxlIHRoZW0gYnkgZGVmYXVsdCBpZiB0aGUgc2l0ZSBVUkwgaXMgSFRUUFM7IGJ1dCBub3QgZm9yXG4gKiBub24tSFRUUFMgVVJMcyBsaWtlIGh0dHA6Ly9sb2NhbGhvc3Qgd2hpY2ggYXJlIHVzZWQgaW4gZGV2ZWxvcG1lbnQpLlxuICogRm9yIG1vcmUgb24gcHJlZml4ZXMgc2VlIGh0dHBzOi8vZ29vZ2xlY2hyb21lLmdpdGh1Yi5pby9zYW1wbGVzL2Nvb2tpZS1wcmVmaXhlcy9cbiAqXG4gKiBAVE9ETyBSZXZpZXcgY29va2llIHNldHRpbmdzIChuYW1lcywgb3B0aW9ucylcbiAqIEByZXR1cm4ge2ltcG9ydChcInR5cGVzXCIpLkNvb2tpZXNPcHRpb25zfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdENvb2tpZXMgKHVzZVNlY3VyZUNvb2tpZXMpIHtcbiAgY29uc3QgY29va2llUHJlZml4ID0gdXNlU2VjdXJlQ29va2llcyA/ICdfX1NlY3VyZS0nIDogJydcbiAgcmV0dXJuIHtcbiAgICAvLyBkZWZhdWx0IGNvb2tpZSBvcHRpb25zXG4gICAgc2Vzc2lvblRva2VuOiB7XG4gICAgICBuYW1lOiBgJHtjb29raWVQcmVmaXh9bmV4dC1hdXRoLnNlc3Npb24tdG9rZW5gLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llc1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FsbGJhY2tVcmw6IHtcbiAgICAgIG5hbWU6IGAke2Nvb2tpZVByZWZpeH1uZXh0LWF1dGguY2FsbGJhY2stdXJsYCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICBwYXRoOiAnLycsXG4gICAgICAgIHNlY3VyZTogdXNlU2VjdXJlQ29va2llc1xuICAgICAgfVxuICAgIH0sXG4gICAgY3NyZlRva2VuOiB7XG4gICAgICAvLyBEZWZhdWx0IHRvIF9fSG9zdC0gZm9yIENTUkYgdG9rZW4gZm9yIGFkZGl0aW9uYWwgcHJvdGVjdGlvbiBpZiB1c2luZyB1c2VTZWN1cmVDb29raWVzXG4gICAgICAvLyBOQjogVGhlIGBfX0hvc3QtYCBwcmVmaXggaXMgc3RyaWN0ZXIgdGhhbiB0aGUgYF9fU2VjdXJlLWAgcHJlZml4LlxuICAgICAgbmFtZTogYCR7dXNlU2VjdXJlQ29va2llcyA/ICdfX0hvc3QtJyA6ICcnfW5leHQtYXV0aC5jc3JmLXRva2VuYCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgcGF0aDogJy8nLFxuICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXNcbiAgICAgIH1cbiAgICB9LFxuICAgIHBrY2VDb2RlVmVyaWZpZXI6IHtcbiAgICAgIG5hbWU6IGAke2Nvb2tpZVByZWZpeH1uZXh0LWF1dGgucGtjZS5jb2RlX3ZlcmlmaWVyYCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgcGF0aDogJy8nLFxuICAgICAgICBzZWN1cmU6IHVzZVNlY3VyZUNvb2tpZXNcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/cookie.js\n");

/***/ }),

/***/ "./next-auth/server/lib/create-secret.js":
/*!***********************************************!*\
  !*** ./next-auth/server/lib/create-secret.js ***!
  \***********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ createSecret; }\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/**\n * Secret used salt cookies and tokens (e.g. for CSRF protection).\n * If no secret option is specified then it creates one on the fly\n * based on options passed here. A options contains unique data, such as\n * OAuth provider secrets and database credentials it should be sufficent.\n */\n\nfunction createSecret({\n  userOptions,\n  basePath,\n  baseUrl\n}) {\n  return userOptions.secret || (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(JSON.stringify(_objectSpread({\n    baseUrl,\n    basePath\n  }, userOptions))).digest('hex');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvY3JlYXRlLXNlY3JldC5qcz9iN2I2Il0sIm5hbWVzIjpbImNyZWF0ZVNlY3JldCIsInVzZXJPcHRpb25zIiwiYmFzZVBhdGgiLCJiYXNlVXJsIiwic2VjcmV0IiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkaWdlc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLFNBQVNBLFlBQVQsQ0FBdUI7QUFBRUMsYUFBRjtBQUFlQyxVQUFmO0FBQXlCQztBQUF6QixDQUF2QixFQUEyRDtBQUN4RSxTQUFPRixXQUFXLENBQUNHLE1BQVosSUFBc0JDLGtEQUFVLENBQUMsUUFBRCxDQUFWLENBQXFCQyxNQUFyQixDQUE0QkMsSUFBSSxDQUFDQyxTQUFMO0FBQ3ZETCxXQUR1RDtBQUM5Q0Q7QUFEOEMsS0FDakNELFdBRGlDLEVBQTVCLEVBRXpCUSxNQUZ5QixDQUVsQixLQUZrQixDQUE3QjtBQUdEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9saWIvY3JlYXRlLXNlY3JldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUhhc2ggfSBmcm9tICdjcnlwdG8nXG5cbi8qKlxuICogU2VjcmV0IHVzZWQgc2FsdCBjb29raWVzIGFuZCB0b2tlbnMgKGUuZy4gZm9yIENTUkYgcHJvdGVjdGlvbikuXG4gKiBJZiBubyBzZWNyZXQgb3B0aW9uIGlzIHNwZWNpZmllZCB0aGVuIGl0IGNyZWF0ZXMgb25lIG9uIHRoZSBmbHlcbiAqIGJhc2VkIG9uIG9wdGlvbnMgcGFzc2VkIGhlcmUuIEEgb3B0aW9ucyBjb250YWlucyB1bmlxdWUgZGF0YSwgc3VjaCBhc1xuICogT0F1dGggcHJvdmlkZXIgc2VjcmV0cyBhbmQgZGF0YWJhc2UgY3JlZGVudGlhbHMgaXQgc2hvdWxkIGJlIHN1ZmZpY2VudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlU2VjcmV0ICh7IHVzZXJPcHRpb25zLCBiYXNlUGF0aCwgYmFzZVVybCB9KSB7XG4gIHJldHVybiB1c2VyT3B0aW9ucy5zZWNyZXQgfHwgY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKEpTT04uc3RyaW5naWZ5KHtcbiAgICBiYXNlVXJsLCBiYXNlUGF0aCwgLi4udXNlck9wdGlvbnNcbiAgfSkpLmRpZ2VzdCgnaGV4Jylcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/create-secret.js\n");

/***/ }),

/***/ "./next-auth/server/lib/csrf-token-handler.js":
/*!****************************************************!*\
  !*** ./next-auth/server/lib/csrf-token-handler.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ csrfTokenHandler; }\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./cookie */ \"./next-auth/server/lib/cookie.js\");\n\n\n/**\n * Ensure CSRF Token cookie is set for any subsequent requests.\n * Used as part of the strategy for mitigation for CSRF tokens.\n *\n * Creates a cookie like 'next-auth.csrf-token' with the value 'token|hash',\n * where 'token' is the CSRF token and 'hash' is a hash made of the token and\n * the secret, and the two values are joined by a pipe '|'. By storing the\n * value and the hash of the value (with the secret used as a salt) we can\n * verify the cookie was set by the server and not by a malicous attacker.\n *\n * For more details, see the following OWASP links:\n * https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html#double-submit-cookie\n * https://owasp.org/www-chapter-london/assets/slides/David_Johansson-Double_Defeat_of_Double-Submit_Cookie.pdf\n * @param {import(\"..\").NextAuthRequest} req\n * @param {import(\"..\").NextAuthResponse} res\n */\n\nfunction csrfTokenHandler(req, res) {\n  const {\n    cookies,\n    secret\n  } = req.options;\n\n  if (cookies.csrfToken.name in req.cookies) {\n    const [csrfToken, csrfTokenHash] = req.cookies[cookies.csrfToken.name].split('|');\n    const expectedCsrfTokenHash = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(`${csrfToken}${secret}`).digest('hex');\n\n    if (csrfTokenHash === expectedCsrfTokenHash) {\n      // If hash matches then we trust the CSRF token value\n      // If this is a POST request and the CSRF Token in the POST request matches\n      // the cookie we have already verified is the one we have set, then the token is verified!\n      const csrfTokenVerified = req.method === 'POST' && csrfToken === req.body.csrfToken;\n      req.options.csrfToken = csrfToken;\n      req.options.csrfTokenVerified = csrfTokenVerified;\n      return;\n    }\n  } // If no csrfToken from cookie - because it's not been set yet,\n  // or because the hash doesn't match (e.g. because it's been modifed or because the secret has changed)\n  // create a new token.\n\n\n  const csrfToken = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32).toString('hex');\n  const csrfTokenHash = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(`${csrfToken}${secret}`).digest('hex');\n  const csrfTokenCookie = `${csrfToken}|${csrfTokenHash}`;\n  _cookie__WEBPACK_IMPORTED_MODULE_1__.set(res, cookies.csrfToken.name, csrfTokenCookie, cookies.csrfToken.options);\n  req.options.csrfToken = csrfToken;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvY3NyZi10b2tlbi1oYW5kbGVyLmpzPzg0NGEiXSwibmFtZXMiOlsiY3NyZlRva2VuSGFuZGxlciIsInJlcSIsInJlcyIsImNvb2tpZXMiLCJzZWNyZXQiLCJvcHRpb25zIiwiY3NyZlRva2VuIiwibmFtZSIsImNzcmZUb2tlbkhhc2giLCJzcGxpdCIsImV4cGVjdGVkQ3NyZlRva2VuSGFzaCIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJkaWdlc3QiLCJjc3JmVG9rZW5WZXJpZmllZCIsIm1ldGhvZCIsImJvZHkiLCJyYW5kb21CeXRlcyIsInRvU3RyaW5nIiwiY3NyZlRva2VuQ29va2llIiwiY29va2llIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLFNBQVNBLGdCQUFULENBQTJCQyxHQUEzQixFQUFnQ0MsR0FBaEMsRUFBcUM7QUFDbEQsUUFBTTtBQUFFQyxXQUFGO0FBQVdDO0FBQVgsTUFBc0JILEdBQUcsQ0FBQ0ksT0FBaEM7O0FBQ0EsTUFBSUYsT0FBTyxDQUFDRyxTQUFSLENBQWtCQyxJQUFsQixJQUEwQk4sR0FBRyxDQUFDRSxPQUFsQyxFQUEyQztBQUN6QyxVQUFNLENBQUNHLFNBQUQsRUFBWUUsYUFBWixJQUE2QlAsR0FBRyxDQUFDRSxPQUFKLENBQVlBLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkMsSUFBOUIsRUFBb0NFLEtBQXBDLENBQTBDLEdBQTFDLENBQW5DO0FBQ0EsVUFBTUMscUJBQXFCLEdBQUdDLGtEQUFVLENBQUMsUUFBRCxDQUFWLENBQXFCQyxNQUFyQixDQUE2QixHQUFFTixTQUFVLEdBQUVGLE1BQU8sRUFBbEQsRUFBcURTLE1BQXJELENBQTRELEtBQTVELENBQTlCOztBQUNBLFFBQUlMLGFBQWEsS0FBS0UscUJBQXRCLEVBQTZDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFlBQU1JLGlCQUFpQixHQUFHYixHQUFHLENBQUNjLE1BQUosS0FBZSxNQUFmLElBQXlCVCxTQUFTLEtBQUtMLEdBQUcsQ0FBQ2UsSUFBSixDQUFTVixTQUExRTtBQUNBTCxTQUFHLENBQUNJLE9BQUosQ0FBWUMsU0FBWixHQUF3QkEsU0FBeEI7QUFDQUwsU0FBRyxDQUFDSSxPQUFKLENBQVlTLGlCQUFaLEdBQWdDQSxpQkFBaEM7QUFDQTtBQUNEO0FBQ0YsR0FkaUQsQ0FlbEQ7QUFDQTtBQUNBOzs7QUFDQSxRQUFNUixTQUFTLEdBQUdXLG1EQUFXLENBQUMsRUFBRCxDQUFYLENBQWdCQyxRQUFoQixDQUF5QixLQUF6QixDQUFsQjtBQUNBLFFBQU1WLGFBQWEsR0FBR0csa0RBQVUsQ0FBQyxRQUFELENBQVYsQ0FBcUJDLE1BQXJCLENBQTZCLEdBQUVOLFNBQVUsR0FBRUYsTUFBTyxFQUFsRCxFQUFxRFMsTUFBckQsQ0FBNEQsS0FBNUQsQ0FBdEI7QUFDQSxRQUFNTSxlQUFlLEdBQUksR0FBRWIsU0FBVSxJQUFHRSxhQUFjLEVBQXREO0FBQ0FZLDBDQUFBLENBQVdsQixHQUFYLEVBQWdCQyxPQUFPLENBQUNHLFNBQVIsQ0FBa0JDLElBQWxDLEVBQXdDWSxlQUF4QyxFQUF5RGhCLE9BQU8sQ0FBQ0csU0FBUixDQUFrQkQsT0FBM0U7QUFDQUosS0FBRyxDQUFDSSxPQUFKLENBQVlDLFNBQVosR0FBd0JBLFNBQXhCO0FBQ0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9jc3JmLXRva2VuLWhhbmRsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVIYXNoLCByYW5kb21CeXRlcyB9IGZyb20gJ2NyeXB0bydcbmltcG9ydCAqIGFzIGNvb2tpZSBmcm9tICcuL2Nvb2tpZSdcblxuLyoqXG4gKiBFbnN1cmUgQ1NSRiBUb2tlbiBjb29raWUgaXMgc2V0IGZvciBhbnkgc3Vic2VxdWVudCByZXF1ZXN0cy5cbiAqIFVzZWQgYXMgcGFydCBvZiB0aGUgc3RyYXRlZ3kgZm9yIG1pdGlnYXRpb24gZm9yIENTUkYgdG9rZW5zLlxuICpcbiAqIENyZWF0ZXMgYSBjb29raWUgbGlrZSAnbmV4dC1hdXRoLmNzcmYtdG9rZW4nIHdpdGggdGhlIHZhbHVlICd0b2tlbnxoYXNoJyxcbiAqIHdoZXJlICd0b2tlbicgaXMgdGhlIENTUkYgdG9rZW4gYW5kICdoYXNoJyBpcyBhIGhhc2ggbWFkZSBvZiB0aGUgdG9rZW4gYW5kXG4gKiB0aGUgc2VjcmV0LCBhbmQgdGhlIHR3byB2YWx1ZXMgYXJlIGpvaW5lZCBieSBhIHBpcGUgJ3wnLiBCeSBzdG9yaW5nIHRoZVxuICogdmFsdWUgYW5kIHRoZSBoYXNoIG9mIHRoZSB2YWx1ZSAod2l0aCB0aGUgc2VjcmV0IHVzZWQgYXMgYSBzYWx0KSB3ZSBjYW5cbiAqIHZlcmlmeSB0aGUgY29va2llIHdhcyBzZXQgYnkgdGhlIHNlcnZlciBhbmQgbm90IGJ5IGEgbWFsaWNvdXMgYXR0YWNrZXIuXG4gKlxuICogRm9yIG1vcmUgZGV0YWlscywgc2VlIHRoZSBmb2xsb3dpbmcgT1dBU1AgbGlua3M6XG4gKiBodHRwczovL2NoZWF0c2hlZXRzZXJpZXMub3dhc3Aub3JnL2NoZWF0c2hlZXRzL0Nyb3NzLVNpdGVfUmVxdWVzdF9Gb3JnZXJ5X1ByZXZlbnRpb25fQ2hlYXRfU2hlZXQuaHRtbCNkb3VibGUtc3VibWl0LWNvb2tpZVxuICogaHR0cHM6Ly9vd2FzcC5vcmcvd3d3LWNoYXB0ZXItbG9uZG9uL2Fzc2V0cy9zbGlkZXMvRGF2aWRfSm9oYW5zc29uLURvdWJsZV9EZWZlYXRfb2ZfRG91YmxlLVN1Ym1pdF9Db29raWUucGRmXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uXCIpLk5leHRBdXRoUmVxdWVzdH0gcmVxXG4gKiBAcGFyYW0ge2ltcG9ydChcIi4uXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjc3JmVG9rZW5IYW5kbGVyIChyZXEsIHJlcykge1xuICBjb25zdCB7IGNvb2tpZXMsIHNlY3JldCB9ID0gcmVxLm9wdGlvbnNcbiAgaWYgKGNvb2tpZXMuY3NyZlRva2VuLm5hbWUgaW4gcmVxLmNvb2tpZXMpIHtcbiAgICBjb25zdCBbY3NyZlRva2VuLCBjc3JmVG9rZW5IYXNoXSA9IHJlcS5jb29raWVzW2Nvb2tpZXMuY3NyZlRva2VuLm5hbWVdLnNwbGl0KCd8JylcbiAgICBjb25zdCBleHBlY3RlZENzcmZUb2tlbkhhc2ggPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoYCR7Y3NyZlRva2VufSR7c2VjcmV0fWApLmRpZ2VzdCgnaGV4JylcbiAgICBpZiAoY3NyZlRva2VuSGFzaCA9PT0gZXhwZWN0ZWRDc3JmVG9rZW5IYXNoKSB7XG4gICAgICAvLyBJZiBoYXNoIG1hdGNoZXMgdGhlbiB3ZSB0cnVzdCB0aGUgQ1NSRiB0b2tlbiB2YWx1ZVxuICAgICAgLy8gSWYgdGhpcyBpcyBhIFBPU1QgcmVxdWVzdCBhbmQgdGhlIENTUkYgVG9rZW4gaW4gdGhlIFBPU1QgcmVxdWVzdCBtYXRjaGVzXG4gICAgICAvLyB0aGUgY29va2llIHdlIGhhdmUgYWxyZWFkeSB2ZXJpZmllZCBpcyB0aGUgb25lIHdlIGhhdmUgc2V0LCB0aGVuIHRoZSB0b2tlbiBpcyB2ZXJpZmllZCFcbiAgICAgIGNvbnN0IGNzcmZUb2tlblZlcmlmaWVkID0gcmVxLm1ldGhvZCA9PT0gJ1BPU1QnICYmIGNzcmZUb2tlbiA9PT0gcmVxLmJvZHkuY3NyZlRva2VuXG4gICAgICByZXEub3B0aW9ucy5jc3JmVG9rZW4gPSBjc3JmVG9rZW5cbiAgICAgIHJlcS5vcHRpb25zLmNzcmZUb2tlblZlcmlmaWVkID0gY3NyZlRva2VuVmVyaWZpZWRcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfVxuICAvLyBJZiBubyBjc3JmVG9rZW4gZnJvbSBjb29raWUgLSBiZWNhdXNlIGl0J3Mgbm90IGJlZW4gc2V0IHlldCxcbiAgLy8gb3IgYmVjYXVzZSB0aGUgaGFzaCBkb2Vzbid0IG1hdGNoIChlLmcuIGJlY2F1c2UgaXQncyBiZWVuIG1vZGlmZWQgb3IgYmVjYXVzZSB0aGUgc2VjcmV0IGhhcyBjaGFuZ2VkKVxuICAvLyBjcmVhdGUgYSBuZXcgdG9rZW4uXG4gIGNvbnN0IGNzcmZUb2tlbiA9IHJhbmRvbUJ5dGVzKDMyKS50b1N0cmluZygnaGV4JylcbiAgY29uc3QgY3NyZlRva2VuSGFzaCA9IGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShgJHtjc3JmVG9rZW59JHtzZWNyZXR9YCkuZGlnZXN0KCdoZXgnKVxuICBjb25zdCBjc3JmVG9rZW5Db29raWUgPSBgJHtjc3JmVG9rZW59fCR7Y3NyZlRva2VuSGFzaH1gXG4gIGNvb2tpZS5zZXQocmVzLCBjb29raWVzLmNzcmZUb2tlbi5uYW1lLCBjc3JmVG9rZW5Db29raWUsIGNvb2tpZXMuY3NyZlRva2VuLm9wdGlvbnMpXG4gIHJlcS5vcHRpb25zLmNzcmZUb2tlbiA9IGNzcmZUb2tlblxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/lib/csrf-token-handler.js\n");

/***/ }),

/***/ "./next-auth/server/lib/default-callbacks.js":
/*!***************************************************!*\
  !*** ./next-auth/server/lib/default-callbacks.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"signIn\": function() { return /* binding */ signIn; },\n/* harmony export */   \"redirect\": function() { return /* binding */ redirect; },\n/* harmony export */   \"session\": function() { return /* binding */ session; },\n/* harmony export */   \"jwt\": function() { return /* binding */ jwt; }\n/* harmony export */ });\n/**\n * Use the signIn callback to control if a user is allowed to sign in or not.\n *\n * This is triggered before sign in flow completes, so the user profile may be\n * a user object (with an ID) or it may be just their name and email address,\n * depending on the sign in flow and if they have an account already.\n *\n * When using email sign in, this method is triggered both when the user\n * requests to sign in and again when they activate the link in the sign in\n * email.\n *\n * @param  {object} profile          User profile (e.g. user id, name, email)\n * @param  {object} account          Account used to sign in (e.g. OAuth account)\n * @param  {object} metadata         Provider specific metadata (e.g. OAuth Profile)\n * @return {Promise<boolean|never>}  Return `true` (or a modified JWT) to allow sign in\n *                                   Return `false` to deny access\n */\nasync function signIn() {\n  return true;\n}\n/**\n * Redirect is called anytime the user is redirected on signin or signout.\n * By default, for security, only Callback URLs on the same URL as the site\n * are allowed, you can use this callback to customise that behaviour.\n *\n * @param  {string} url      URL provided as callback URL by the client\n * @param  {string} baseUrl  Default base URL of site (can be used as fallback)\n * @return {Promise<string>} URL the client will be redirect to\n */\n\nasync function redirect(url, baseUrl) {\n  if (url.startsWith(baseUrl)) {\n    return url;\n  }\n\n  return baseUrl;\n}\n/**\n * The session callback is called whenever a session is checked.\n * e.g. `getSession()`, `useSession()`, `/api/auth/session` (etc)\n *\n * @param  {object} session  Session object\n * @param  {object} token    JSON Web Token (if enabled)\n * @return {Promise<object>} Session that will be returned to the client\n */\n\nasync function session(session) {\n  return session;\n}\n/**\n * This callback is called whenever a JSON Web Token is created / updated.\n * e.g. On sign in, `getSession()`, `useSession()`, `/api/auth/session` (etc)\n *\n * On initial sign in, the raw OAuthProfile is passed if the user is signing in\n * with an OAuth provider. It is not avalible on subsequent calls. You can\n * take advantage of this to persist additional data you need to in the JWT.\n *\n * @param  {object} token         Decrypted JSON Web Token\n * @param  {object} oAuthProfile  OAuth profile - only available on sign in\n * @return {Promise<object>}      JSON Web Token that will be saved\n */\n\nasync function jwt(token) {\n  return token;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvZGVmYXVsdC1jYWxsYmFja3MuanM/YmIwMCJdLCJuYW1lcyI6WyJzaWduSW4iLCJyZWRpcmVjdCIsInVybCIsImJhc2VVcmwiLCJzdGFydHNXaXRoIiwic2Vzc2lvbiIsImp3dCIsInRva2VuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLGVBQWVBLE1BQWYsR0FBeUI7QUFDOUIsU0FBTyxJQUFQO0FBQ0Q7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sZUFBZUMsUUFBZixDQUF5QkMsR0FBekIsRUFBOEJDLE9BQTlCLEVBQXVDO0FBQzVDLE1BQUlELEdBQUcsQ0FBQ0UsVUFBSixDQUFlRCxPQUFmLENBQUosRUFBNkI7QUFDM0IsV0FBT0QsR0FBUDtBQUNEOztBQUNELFNBQU9DLE9BQVA7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sZUFBZUUsT0FBZixDQUF3QkEsT0FBeEIsRUFBaUM7QUFDdEMsU0FBT0EsT0FBUDtBQUNEO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLGVBQWVDLEdBQWYsQ0FBb0JDLEtBQXBCLEVBQTJCO0FBQ2hDLFNBQU9BLEtBQVA7QUFDRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvbGliL2RlZmF1bHQtY2FsbGJhY2tzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVc2UgdGhlIHNpZ25JbiBjYWxsYmFjayB0byBjb250cm9sIGlmIGEgdXNlciBpcyBhbGxvd2VkIHRvIHNpZ24gaW4gb3Igbm90LlxuICpcbiAqIFRoaXMgaXMgdHJpZ2dlcmVkIGJlZm9yZSBzaWduIGluIGZsb3cgY29tcGxldGVzLCBzbyB0aGUgdXNlciBwcm9maWxlIG1heSBiZVxuICogYSB1c2VyIG9iamVjdCAod2l0aCBhbiBJRCkgb3IgaXQgbWF5IGJlIGp1c3QgdGhlaXIgbmFtZSBhbmQgZW1haWwgYWRkcmVzcyxcbiAqIGRlcGVuZGluZyBvbiB0aGUgc2lnbiBpbiBmbG93IGFuZCBpZiB0aGV5IGhhdmUgYW4gYWNjb3VudCBhbHJlYWR5LlxuICpcbiAqIFdoZW4gdXNpbmcgZW1haWwgc2lnbiBpbiwgdGhpcyBtZXRob2QgaXMgdHJpZ2dlcmVkIGJvdGggd2hlbiB0aGUgdXNlclxuICogcmVxdWVzdHMgdG8gc2lnbiBpbiBhbmQgYWdhaW4gd2hlbiB0aGV5IGFjdGl2YXRlIHRoZSBsaW5rIGluIHRoZSBzaWduIGluXG4gKiBlbWFpbC5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IHByb2ZpbGUgICAgICAgICAgVXNlciBwcm9maWxlIChlLmcuIHVzZXIgaWQsIG5hbWUsIGVtYWlsKVxuICogQHBhcmFtICB7b2JqZWN0fSBhY2NvdW50ICAgICAgICAgIEFjY291bnQgdXNlZCB0byBzaWduIGluIChlLmcuIE9BdXRoIGFjY291bnQpXG4gKiBAcGFyYW0gIHtvYmplY3R9IG1ldGFkYXRhICAgICAgICAgUHJvdmlkZXIgc3BlY2lmaWMgbWV0YWRhdGEgKGUuZy4gT0F1dGggUHJvZmlsZSlcbiAqIEByZXR1cm4ge1Byb21pc2U8Ym9vbGVhbnxuZXZlcj59ICBSZXR1cm4gYHRydWVgIChvciBhIG1vZGlmaWVkIEpXVCkgdG8gYWxsb3cgc2lnbiBpblxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJldHVybiBgZmFsc2VgIHRvIGRlbnkgYWNjZXNzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW4gKCkge1xuICByZXR1cm4gdHJ1ZVxufVxuXG4vKipcbiAqIFJlZGlyZWN0IGlzIGNhbGxlZCBhbnl0aW1lIHRoZSB1c2VyIGlzIHJlZGlyZWN0ZWQgb24gc2lnbmluIG9yIHNpZ25vdXQuXG4gKiBCeSBkZWZhdWx0LCBmb3Igc2VjdXJpdHksIG9ubHkgQ2FsbGJhY2sgVVJMcyBvbiB0aGUgc2FtZSBVUkwgYXMgdGhlIHNpdGVcbiAqIGFyZSBhbGxvd2VkLCB5b3UgY2FuIHVzZSB0aGlzIGNhbGxiYWNrIHRvIGN1c3RvbWlzZSB0aGF0IGJlaGF2aW91ci5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHVybCAgICAgIFVSTCBwcm92aWRlZCBhcyBjYWxsYmFjayBVUkwgYnkgdGhlIGNsaWVudFxuICogQHBhcmFtICB7c3RyaW5nfSBiYXNlVXJsICBEZWZhdWx0IGJhc2UgVVJMIG9mIHNpdGUgKGNhbiBiZSB1c2VkIGFzIGZhbGxiYWNrKVxuICogQHJldHVybiB7UHJvbWlzZTxzdHJpbmc+fSBVUkwgdGhlIGNsaWVudCB3aWxsIGJlIHJlZGlyZWN0IHRvXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWRpcmVjdCAodXJsLCBiYXNlVXJsKSB7XG4gIGlmICh1cmwuc3RhcnRzV2l0aChiYXNlVXJsKSkge1xuICAgIHJldHVybiB1cmxcbiAgfVxuICByZXR1cm4gYmFzZVVybFxufVxuXG4vKipcbiAqIFRoZSBzZXNzaW9uIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuZXZlciBhIHNlc3Npb24gaXMgY2hlY2tlZC5cbiAqIGUuZy4gYGdldFNlc3Npb24oKWAsIGB1c2VTZXNzaW9uKClgLCBgL2FwaS9hdXRoL3Nlc3Npb25gIChldGMpXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBzZXNzaW9uICBTZXNzaW9uIG9iamVjdFxuICogQHBhcmFtICB7b2JqZWN0fSB0b2tlbiAgICBKU09OIFdlYiBUb2tlbiAoaWYgZW5hYmxlZClcbiAqIEByZXR1cm4ge1Byb21pc2U8b2JqZWN0Pn0gU2Vzc2lvbiB0aGF0IHdpbGwgYmUgcmV0dXJuZWQgdG8gdGhlIGNsaWVudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2Vzc2lvbiAoc2Vzc2lvbikge1xuICByZXR1cm4gc2Vzc2lvblxufVxuXG4vKipcbiAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW5ldmVyIGEgSlNPTiBXZWIgVG9rZW4gaXMgY3JlYXRlZCAvIHVwZGF0ZWQuXG4gKiBlLmcuIE9uIHNpZ24gaW4sIGBnZXRTZXNzaW9uKClgLCBgdXNlU2Vzc2lvbigpYCwgYC9hcGkvYXV0aC9zZXNzaW9uYCAoZXRjKVxuICpcbiAqIE9uIGluaXRpYWwgc2lnbiBpbiwgdGhlIHJhdyBPQXV0aFByb2ZpbGUgaXMgcGFzc2VkIGlmIHRoZSB1c2VyIGlzIHNpZ25pbmcgaW5cbiAqIHdpdGggYW4gT0F1dGggcHJvdmlkZXIuIEl0IGlzIG5vdCBhdmFsaWJsZSBvbiBzdWJzZXF1ZW50IGNhbGxzLiBZb3UgY2FuXG4gKiB0YWtlIGFkdmFudGFnZSBvZiB0aGlzIHRvIHBlcnNpc3QgYWRkaXRpb25hbCBkYXRhIHlvdSBuZWVkIHRvIGluIHRoZSBKV1QuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSB0b2tlbiAgICAgICAgIERlY3J5cHRlZCBKU09OIFdlYiBUb2tlblxuICogQHBhcmFtICB7b2JqZWN0fSBvQXV0aFByb2ZpbGUgIE9BdXRoIHByb2ZpbGUgLSBvbmx5IGF2YWlsYWJsZSBvbiBzaWduIGluXG4gKiBAcmV0dXJuIHtQcm9taXNlPG9iamVjdD59ICAgICAgSlNPTiBXZWIgVG9rZW4gdGhhdCB3aWxsIGJlIHNhdmVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBqd3QgKHRva2VuKSB7XG4gIHJldHVybiB0b2tlblxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/lib/default-callbacks.js\n");

/***/ }),

/***/ "./next-auth/server/lib/default-events.js":
/*!************************************************!*\
  !*** ./next-auth/server/lib/default-events.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"signIn\": function() { return /* binding */ signIn; },\n/* harmony export */   \"signOut\": function() { return /* binding */ signOut; },\n/* harmony export */   \"createUser\": function() { return /* binding */ createUser; },\n/* harmony export */   \"updateUser\": function() { return /* binding */ updateUser; },\n/* harmony export */   \"linkAccount\": function() { return /* binding */ linkAccount; },\n/* harmony export */   \"session\": function() { return /* binding */ session; },\n/* harmony export */   \"error\": function() { return /* binding */ error; }\n/* harmony export */ });\n/** Event triggered on successful sign in */\nasync function signIn(message) {}\n/** Event triggered on sign out */\n\nasync function signOut(message) {}\n/** Event triggered on user creation */\n\nasync function createUser(message) {}\n/** Event triggered when a user object is updated */\n\nasync function updateUser(message) {}\n/** Event triggered when an account is linked to a user */\n\nasync function linkAccount(message) {}\n/** Event triggered when a session is active */\n\nasync function session(message) {}\n/**\n * @TODO Event triggered when something goes wrong in an authentication flow\n * This event may be fired multiple times when an error occurs\n */\n\nasync function error(message) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvZGVmYXVsdC1ldmVudHMuanM/ZTQ5NyJdLCJuYW1lcyI6WyJzaWduSW4iLCJtZXNzYWdlIiwic2lnbk91dCIsImNyZWF0ZVVzZXIiLCJ1cGRhdGVVc2VyIiwibGlua0FjY291bnQiLCJzZXNzaW9uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNPLGVBQWVBLE1BQWYsQ0FBdUJDLE9BQXZCLEVBQWdDLENBQUU7QUFFekM7O0FBQ08sZUFBZUMsT0FBZixDQUF3QkQsT0FBeEIsRUFBaUMsQ0FBRTtBQUUxQzs7QUFDTyxlQUFlRSxVQUFmLENBQTJCRixPQUEzQixFQUFvQyxDQUFFO0FBRTdDOztBQUNPLGVBQWVHLFVBQWYsQ0FBMkJILE9BQTNCLEVBQW9DLENBQUU7QUFFN0M7O0FBQ08sZUFBZUksV0FBZixDQUE0QkosT0FBNUIsRUFBcUMsQ0FBRTtBQUU5Qzs7QUFDTyxlQUFlSyxPQUFmLENBQXdCTCxPQUF4QixFQUFpQyxDQUFFO0FBRTFDO0FBQ0E7QUFDQTtBQUNBOztBQUNPLGVBQWVNLEtBQWYsQ0FBc0JOLE9BQXRCLEVBQStCLENBQUUiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9kZWZhdWx0LWV2ZW50cy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBFdmVudCB0cmlnZ2VyZWQgb24gc3VjY2Vzc2Z1bCBzaWduIGluICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbkluIChtZXNzYWdlKSB7fVxuXG4vKiogRXZlbnQgdHJpZ2dlcmVkIG9uIHNpZ24gb3V0ICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2lnbk91dCAobWVzc2FnZSkge31cblxuLyoqIEV2ZW50IHRyaWdnZXJlZCBvbiB1c2VyIGNyZWF0aW9uICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlciAobWVzc2FnZSkge31cblxuLyoqIEV2ZW50IHRyaWdnZXJlZCB3aGVuIGEgdXNlciBvYmplY3QgaXMgdXBkYXRlZCAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXIgKG1lc3NhZ2UpIHt9XG5cbi8qKiBFdmVudCB0cmlnZ2VyZWQgd2hlbiBhbiBhY2NvdW50IGlzIGxpbmtlZCB0byBhIHVzZXIgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaW5rQWNjb3VudCAobWVzc2FnZSkge31cblxuLyoqIEV2ZW50IHRyaWdnZXJlZCB3aGVuIGEgc2Vzc2lvbiBpcyBhY3RpdmUgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXNzaW9uIChtZXNzYWdlKSB7fVxuXG4vKipcbiAqIEBUT0RPIEV2ZW50IHRyaWdnZXJlZCB3aGVuIHNvbWV0aGluZyBnb2VzIHdyb25nIGluIGFuIGF1dGhlbnRpY2F0aW9uIGZsb3dcbiAqIFRoaXMgZXZlbnQgbWF5IGJlIGZpcmVkIG11bHRpcGxlIHRpbWVzIHdoZW4gYW4gZXJyb3Igb2NjdXJzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlcnJvciAobWVzc2FnZSkge31cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/default-events.js\n");

/***/ }),

/***/ "./next-auth/server/lib/dispatch-event.js":
/*!************************************************!*\
  !*** ./next-auth/server/lib/dispatch-event.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ dispatchEvent; }\n/* harmony export */ });\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/logger */ \"./next-auth/lib/logger.js\");\n\nasync function dispatchEvent(event, message) {\n  try {\n    await event(message);\n  } catch (e) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_0__.default.error('EVENT_ERROR', e);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvZGlzcGF0Y2gtZXZlbnQuanM/MjZmOCJdLCJuYW1lcyI6WyJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJtZXNzYWdlIiwiZSIsImxvZ2dlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVlLGVBQWVBLGFBQWYsQ0FBOEJDLEtBQTlCLEVBQXFDQyxPQUFyQyxFQUE4QztBQUMzRCxNQUFJO0FBQ0YsVUFBTUQsS0FBSyxDQUFDQyxPQUFELENBQVg7QUFDRCxHQUZELENBRUUsT0FBT0MsQ0FBUCxFQUFVO0FBQ1ZDLDBEQUFBLENBQWEsYUFBYixFQUE0QkQsQ0FBNUI7QUFDRDtBQUNGIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9saWIvZGlzcGF0Y2gtZXZlbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nZ2VyIGZyb20gJy4uLy4uL2xpYi9sb2dnZXInXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQgKGV2ZW50LCBtZXNzYWdlKSB7XG4gIHRyeSB7XG4gICAgYXdhaXQgZXZlbnQobWVzc2FnZSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5lcnJvcignRVZFTlRfRVJST1InLCBlKVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/lib/dispatch-event.js\n");

/***/ }),

/***/ "./next-auth/server/lib/extend-res.js":
/*!********************************************!*\
  !*** ./next-auth/server/lib/extend-res.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ extendRes; }\n/* harmony export */ });\n/**\n * Extends res.{end,json,send} with `done()`,\n * and redirect to support sending url as json.\n *\n * When a response is complete, it will call the `done` method,\n * so that the serverless function knows when it is\n * safe to return and that no more data will be sent.\n */\nfunction extendRes(req, res, done) {\n  const originalResEnd = res.end.bind(res);\n\n  res.end = (...args) => {\n    done();\n    return originalResEnd(...args);\n  };\n\n  const originalResJson = res.json.bind(res);\n\n  res.json = (...args) => {\n    done();\n    return originalResJson(...args);\n  };\n\n  const originalResSend = res.send.bind(res);\n\n  res.send = (...args) => {\n    done();\n    return originalResSend(...args);\n  };\n\n  res.redirect = url => {\n    var _req$body;\n\n    if (((_req$body = req.body) === null || _req$body === void 0 ? void 0 : _req$body.json) === 'true') {\n      return res.json({\n        url\n      });\n    }\n\n    res.status(302).setHeader('Location', url);\n    return res.end();\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvZXh0ZW5kLXJlcy5qcz81MTcyIl0sIm5hbWVzIjpbImV4dGVuZFJlcyIsInJlcSIsInJlcyIsImRvbmUiLCJvcmlnaW5hbFJlc0VuZCIsImVuZCIsImJpbmQiLCJhcmdzIiwib3JpZ2luYWxSZXNKc29uIiwianNvbiIsIm9yaWdpbmFsUmVzU2VuZCIsInNlbmQiLCJyZWRpcmVjdCIsInVybCIsImJvZHkiLCJzdGF0dXMiLCJzZXRIZWFkZXIiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2UsU0FBU0EsU0FBVCxDQUFvQkMsR0FBcEIsRUFBeUJDLEdBQXpCLEVBQThCQyxJQUE5QixFQUFvQztBQUNqRCxRQUFNQyxjQUFjLEdBQUdGLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyxJQUFSLENBQWFKLEdBQWIsQ0FBdkI7O0FBQ0FBLEtBQUcsQ0FBQ0csR0FBSixHQUFVLENBQUMsR0FBR0UsSUFBSixLQUFhO0FBQ3JCSixRQUFJO0FBQ0osV0FBT0MsY0FBYyxDQUFDLEdBQUdHLElBQUosQ0FBckI7QUFDRCxHQUhEOztBQUtBLFFBQU1DLGVBQWUsR0FBR04sR0FBRyxDQUFDTyxJQUFKLENBQVNILElBQVQsQ0FBY0osR0FBZCxDQUF4Qjs7QUFDQUEsS0FBRyxDQUFDTyxJQUFKLEdBQVcsQ0FBQyxHQUFHRixJQUFKLEtBQWE7QUFDdEJKLFFBQUk7QUFDSixXQUFPSyxlQUFlLENBQUMsR0FBR0QsSUFBSixDQUF0QjtBQUNELEdBSEQ7O0FBS0EsUUFBTUcsZUFBZSxHQUFHUixHQUFHLENBQUNTLElBQUosQ0FBU0wsSUFBVCxDQUFjSixHQUFkLENBQXhCOztBQUNBQSxLQUFHLENBQUNTLElBQUosR0FBVyxDQUFDLEdBQUdKLElBQUosS0FBYTtBQUN0QkosUUFBSTtBQUNKLFdBQU9PLGVBQWUsQ0FBQyxHQUFHSCxJQUFKLENBQXRCO0FBQ0QsR0FIRDs7QUFLQUwsS0FBRyxDQUFDVSxRQUFKLEdBQWdCQyxHQUFELElBQVM7QUFBQTs7QUFDdEIsUUFBSSxjQUFBWixHQUFHLENBQUNhLElBQUosd0RBQVVMLElBQVYsTUFBbUIsTUFBdkIsRUFBK0I7QUFDN0IsYUFBT1AsR0FBRyxDQUFDTyxJQUFKLENBQVM7QUFBRUk7QUFBRixPQUFULENBQVA7QUFDRDs7QUFDRFgsT0FBRyxDQUFDYSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsU0FBaEIsQ0FBMEIsVUFBMUIsRUFBc0NILEdBQXRDO0FBQ0EsV0FBT1gsR0FBRyxDQUFDRyxHQUFKLEVBQVA7QUFDRCxHQU5EO0FBT0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9leHRlbmQtcmVzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHRlbmRzIHJlcy57ZW5kLGpzb24sc2VuZH0gd2l0aCBgZG9uZSgpYCxcbiAqIGFuZCByZWRpcmVjdCB0byBzdXBwb3J0IHNlbmRpbmcgdXJsIGFzIGpzb24uXG4gKlxuICogV2hlbiBhIHJlc3BvbnNlIGlzIGNvbXBsZXRlLCBpdCB3aWxsIGNhbGwgdGhlIGBkb25lYCBtZXRob2QsXG4gKiBzbyB0aGF0IHRoZSBzZXJ2ZXJsZXNzIGZ1bmN0aW9uIGtub3dzIHdoZW4gaXQgaXNcbiAqIHNhZmUgdG8gcmV0dXJuIGFuZCB0aGF0IG5vIG1vcmUgZGF0YSB3aWxsIGJlIHNlbnQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGV4dGVuZFJlcyAocmVxLCByZXMsIGRvbmUpIHtcbiAgY29uc3Qgb3JpZ2luYWxSZXNFbmQgPSByZXMuZW5kLmJpbmQocmVzKVxuICByZXMuZW5kID0gKC4uLmFyZ3MpID0+IHtcbiAgICBkb25lKClcbiAgICByZXR1cm4gb3JpZ2luYWxSZXNFbmQoLi4uYXJncylcbiAgfVxuXG4gIGNvbnN0IG9yaWdpbmFsUmVzSnNvbiA9IHJlcy5qc29uLmJpbmQocmVzKVxuICByZXMuanNvbiA9ICguLi5hcmdzKSA9PiB7XG4gICAgZG9uZSgpXG4gICAgcmV0dXJuIG9yaWdpbmFsUmVzSnNvbiguLi5hcmdzKVxuICB9XG5cbiAgY29uc3Qgb3JpZ2luYWxSZXNTZW5kID0gcmVzLnNlbmQuYmluZChyZXMpXG4gIHJlcy5zZW5kID0gKC4uLmFyZ3MpID0+IHtcbiAgICBkb25lKClcbiAgICByZXR1cm4gb3JpZ2luYWxSZXNTZW5kKC4uLmFyZ3MpXG4gIH1cblxuICByZXMucmVkaXJlY3QgPSAodXJsKSA9PiB7XG4gICAgaWYgKHJlcS5ib2R5Py5qc29uID09PSAndHJ1ZScpIHtcbiAgICAgIHJldHVybiByZXMuanNvbih7IHVybCB9KVxuICAgIH1cbiAgICByZXMuc3RhdHVzKDMwMikuc2V0SGVhZGVyKCdMb2NhdGlvbicsIHVybClcbiAgICByZXR1cm4gcmVzLmVuZCgpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/extend-res.js\n");

/***/ }),

/***/ "./next-auth/server/lib/oauth/callback.js":
/*!************************************************!*\
  !*** ./next-auth/server/lib/oauth/callback.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ oAuthCallback; }\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client */ \"./next-auth/server/lib/oauth/client.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/logger */ \"./next-auth/lib/logger.js\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/errors */ \"./next-auth/lib/errors.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n/** @param {import(\"types/internals\").NextAuthRequest} req */\n\nasync function oAuthCallback(req) {\n  var _provider$version;\n\n  const {\n    provider,\n    pkce\n  } = req.options;\n  const client = (0,_client__WEBPACK_IMPORTED_MODULE_1__.default)(provider);\n\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith(\"2.\")) {\n    // The \"user\" object is specific to the Apple provider and is provided on first sign in\n    // e.g. {\"name\":{\"firstName\":\"Johnny\",\"lastName\":\"Appleseed\"},\"email\":\"johnny.appleseed@nextauth.com\"}\n    let {\n      code,\n      user\n    } = req.query; // eslint-disable-line camelcase\n\n    if (req.method === \"POST\") {\n      try {\n        const body = JSON.parse(JSON.stringify(req.body));\n\n        if (body.error) {\n          throw new Error(body.error);\n        }\n\n        code = body.code;\n        user = body.user != null ? JSON.parse(body.user) : null;\n      } catch (error) {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", error, req.body, provider.id, code);\n        throw error;\n      }\n    } // REVIEW: Is this used by any of the providers?\n    // Pass authToken in header by default (unless 'useAuthTokenHeader: false' is set)\n\n\n    if (Object.prototype.hasOwnProperty.call(provider, \"useAuthTokenHeader\")) {\n      client.useAuthorizationHeaderforGET(provider.useAuthTokenHeader);\n    } else {\n      client.useAuthorizationHeaderforGET(true);\n    }\n\n    try {\n      const tokens = await client.getOAuthAccessToken(code, provider, pkce.code_verifier);\n      let profileData;\n\n      if (provider.idToken) {\n        if (!(tokens !== null && tokens !== void 0 && tokens.id_token)) {\n          throw new _lib_errors__WEBPACK_IMPORTED_MODULE_3__.OAuthCallbackError(\"Missing JWT ID Token\");\n        } // Support services that use OpenID ID Tokens to encode profile data\n\n\n        profileData = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.decode)(tokens.id_token, {\n          json: true\n        });\n      } else {\n        profileData = await client.get(provider, tokens.accessToken, tokens);\n      }\n\n      return getProfile({\n        profileData,\n        provider,\n        tokens,\n        user\n      });\n    } catch (error) {\n      _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.error(\"OAUTH_GET_ACCESS_TOKEN_ERROR\", error, provider.id, code);\n      throw error;\n    }\n  }\n\n  try {\n    // Handle OAuth v1.x\n    // eslint-disable-next-line camelcase\n    const {\n      oauth_token,\n      oauth_verifier\n    } = req.query; // eslint-disable-next-line camelcase\n\n    const {\n      token_secret\n    } = await client.getOAuthRequestToken(provider.params);\n    const tokens = await client.getOAuthAccessToken(oauth_token, token_secret, oauth_verifier);\n    const profileData = await client.get(provider.profileUrl, tokens.oauth_token, tokens.oauth_token_secret);\n    return getProfile({\n      profileData,\n      tokens,\n      provider\n    });\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.error(\"OAUTH_V1_GET_ACCESS_TOKEN_ERROR\", error);\n    throw error;\n  }\n}\n/**\n * //6/30/2020 @geraldnolan added userData parameter to attach additional data to the profileData object\n * Returns profile, raw profile and auth provider details\n * @param {{\n *   profileData: object | string\n *   tokens: {\n *     accessToken: string\n *     idToken?: string\n *     refreshToken?: string\n *     access_token: string\n *     expires_in?: string | Date | null\n *     refresh_token?: string\n *     id_token?: string\n *     token?: string\n *     token_secret?: string\n *     tokenSecret?: string\n *     params?: any\n *   }\n *   provider: import(\"../..\").Provider\n *   user?: object\n * }} profileParams\n */\n\nasync function getProfile({\n  profileData,\n  tokens,\n  provider,\n  user\n}) {\n  try {\n    var _profile$email$toLowe, _profile$email;\n\n    // Convert profileData into an object if it's a string\n    if (typeof profileData === \"string\" || profileData instanceof String) {\n      profileData = JSON.parse(profileData);\n    } // If a user object is supplied (e.g. Apple provider) add it to the profile object\n\n\n    if (user != null) {\n      profileData.user = user;\n    }\n\n    _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.debug(\"PROFILE_DATA\", profileData);\n    const profile = await provider.profile(profileData, tokens); // Return profile, raw profile and auth provider details\n\n    return {\n      profile: _objectSpread(_objectSpread({}, profile), {}, {\n        email: (_profile$email$toLowe = (_profile$email = profile.email) === null || _profile$email === void 0 ? void 0 : _profile$email.toLowerCase()) !== null && _profile$email$toLowe !== void 0 ? _profile$email$toLowe : null\n      }),\n      account: _objectSpread({\n        provider: provider.id,\n        type: provider.type,\n        id: profile.id\n      }, tokens),\n      OAuthProfile: profileData\n    };\n  } catch (exception) {\n    // If we didn't get a response either there was a problem with the provider\n    // response *or* the user cancelled the action with the provider.\n    //\n    // Unfortuately, we can't tell which - at least not in a way that works for\n    // all providers, so we return an empty object; the user should then be\n    // redirected back to the sign up page. We log the error to help developers\n    // who might be trying to debug this when configuring a new provider.\n    _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.error(\"OAUTH_PARSE_PROFILE_ERROR\", exception, profileData);\n    return {\n      profile: null,\n      account: null,\n      OAuthProfile: profileData\n    };\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvY2FsbGJhY2suanM/ZmY0MiJdLCJuYW1lcyI6WyJvQXV0aENhbGxiYWNrIiwicmVxIiwicHJvdmlkZXIiLCJwa2NlIiwib3B0aW9ucyIsImNsaWVudCIsIm9BdXRoQ2xpZW50IiwidmVyc2lvbiIsInN0YXJ0c1dpdGgiLCJjb2RlIiwidXNlciIsInF1ZXJ5IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImVycm9yIiwiRXJyb3IiLCJsb2dnZXIiLCJpZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInVzZUF1dGhvcml6YXRpb25IZWFkZXJmb3JHRVQiLCJ1c2VBdXRoVG9rZW5IZWFkZXIiLCJ0b2tlbnMiLCJnZXRPQXV0aEFjY2Vzc1Rva2VuIiwiY29kZV92ZXJpZmllciIsInByb2ZpbGVEYXRhIiwiaWRUb2tlbiIsImlkX3Rva2VuIiwiT0F1dGhDYWxsYmFja0Vycm9yIiwiand0RGVjb2RlIiwianNvbiIsImdldCIsImFjY2Vzc1Rva2VuIiwiZ2V0UHJvZmlsZSIsIm9hdXRoX3Rva2VuIiwib2F1dGhfdmVyaWZpZXIiLCJ0b2tlbl9zZWNyZXQiLCJnZXRPQXV0aFJlcXVlc3RUb2tlbiIsInBhcmFtcyIsInByb2ZpbGVVcmwiLCJvYXV0aF90b2tlbl9zZWNyZXQiLCJTdHJpbmciLCJwcm9maWxlIiwiZW1haWwiLCJ0b0xvd2VyQ2FzZSIsImFjY291bnQiLCJ0eXBlIiwiT0F1dGhQcm9maWxlIiwiZXhjZXB0aW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNlLGVBQWVBLGFBQWYsQ0FBNkJDLEdBQTdCLEVBQWtDO0FBQUE7O0FBQy9DLFFBQU07QUFBRUMsWUFBRjtBQUFZQztBQUFaLE1BQXFCRixHQUFHLENBQUNHLE9BQS9CO0FB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QUFNN0MsUUFBUSxDQUFDNkMsT0FBVCxDQUFpQmpCLFdBQWpCLEVBQThCSCxNQUE5QixDQUF0QixDQWJFLENBY0Y7O0FBQ0EsV0FBTztBQUNMb0IsYUFBTyxrQ0FDRkEsT0FERTtBQUVMQyxhQUFLLDZDQUFFRCxPQUFPLENBQUNDLEtBQVYsbURBQUUsZUFBZUMsV0FBZixFQUFGLHlFQUFrQztBQUZsQyxRQURGO0FBS0xDLGFBQU87QUFDTGhELGdCQUFRLEVBQUVBLFFBQVEsQ0FBQ2tCLEVBRGQ7QUFFTCtCLFlBQUksRUFBRWpELFFBQVEsQ0FBQ2lELElBRlY7QUFHTC9CLFVBQUUsRUFBRTJCLE9BQU8sQ0FBQzNCO0FBSFAsU0FJRk8sTUFKRSxDQUxGO0FBV0x5QixrQkFBWSxFQUFFdEI7QUFYVCxLQUFQO0FBYUQsR0E1QkQsQ0E0QkUsT0FBT3VCLFNBQVAsRUFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWxDLDBEQUFBLENBQWEsMkJBQWIsRUFBMENrQyxTQUExQyxFQUFxRHZCLFdBQXJEO0FBQ0EsV0FBTztBQUNMaUIsYUFBTyxFQUFFLElBREo7QUFFTEcsYUFBTyxFQUFFLElBRko7QUFHTEUsa0JBQVksRUFBRXRCO0FBSFQsS0FBUDtBQUtEO0FBQ0YiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9vYXV0aC9jYWxsYmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlY29kZSBhcyBqd3REZWNvZGUgfSBmcm9tIFwianNvbndlYnRva2VuXCJcbmltcG9ydCBvQXV0aENsaWVudCBmcm9tIFwiLi9jbGllbnRcIlxuaW1wb3J0IGxvZ2dlciBmcm9tIFwiLi4vLi4vLi4vbGliL2xvZ2dlclwiXG5pbXBvcnQgeyBPQXV0aENhbGxiYWNrRXJyb3IgfSBmcm9tIFwiLi4vLi4vLi4vbGliL2Vycm9yc1wiXG5cbi8qKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5OZXh0QXV0aFJlcXVlc3R9IHJlcSAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gb0F1dGhDYWxsYmFjayhyZXEpIHtcbiAgY29uc3QgeyBwcm92aWRlciwgcGtjZSB9ID0gcmVxLm9wdGlvbnNcbiAgY29uc3QgY2xpZW50ID0gb0F1dGhDbGllbnQocHJvdmlkZXIpXG5cbiAgaWYgKHByb3ZpZGVyLnZlcnNpb24/LnN0YXJ0c1dpdGgoXCIyLlwiKSkge1xuICAgIC8vIFRoZSBcInVzZXJcIiBvYmplY3QgaXMgc3BlY2lmaWMgdG8gdGhlIEFwcGxlIHByb3ZpZGVyIGFuZCBpcyBwcm92aWRlZCBvbiBmaXJzdCBzaWduIGluXG4gICAgLy8gZS5nLiB7XCJuYW1lXCI6e1wiZmlyc3ROYW1lXCI6XCJKb2hubnlcIixcImxhc3ROYW1lXCI6XCJBcHBsZXNlZWRcIn0sXCJlbWFpbFwiOlwiam9obm55LmFwcGxlc2VlZEBuZXh0YXV0aC5jb21cIn1cbiAgICBsZXQgeyBjb2RlLCB1c2VyIH0gPSByZXEucXVlcnkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjYW1lbGNhc2VcblxuICAgIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVxLmJvZHkpKVxuICAgICAgICBpZiAoYm9keS5lcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihib2R5LmVycm9yKVxuICAgICAgICB9XG5cbiAgICAgICAgY29kZSA9IGJvZHkuY29kZVxuICAgICAgICB1c2VyID0gYm9keS51c2VyICE9IG51bGwgPyBKU09OLnBhcnNlKGJvZHkudXNlcikgOiBudWxsXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXG4gICAgICAgICAgXCJPQVVUSF9DQUxMQkFDS19IQU5ETEVSX0VSUk9SXCIsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgcmVxLmJvZHksXG4gICAgICAgICAgcHJvdmlkZXIuaWQsXG4gICAgICAgICAgY29kZVxuICAgICAgICApXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkVWSUVXOiBJcyB0aGlzIHVzZWQgYnkgYW55IG9mIHRoZSBwcm92aWRlcnM/XG4gICAgLy8gUGFzcyBhdXRoVG9rZW4gaW4gaGVhZGVyIGJ5IGRlZmF1bHQgKHVubGVzcyAndXNlQXV0aFRva2VuSGVhZGVyOiBmYWxzZScgaXMgc2V0KVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdmlkZXIsIFwidXNlQXV0aFRva2VuSGVhZGVyXCIpKSB7XG4gICAgICBjbGllbnQudXNlQXV0aG9yaXphdGlvbkhlYWRlcmZvckdFVChwcm92aWRlci51c2VBdXRoVG9rZW5IZWFkZXIpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNsaWVudC51c2VBdXRob3JpemF0aW9uSGVhZGVyZm9yR0VUKHRydWUpXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGNsaWVudC5nZXRPQXV0aEFjY2Vzc1Rva2VuKFxuICAgICAgICBjb2RlLFxuICAgICAgICBwcm92aWRlcixcbiAgICAgICAgcGtjZS5jb2RlX3ZlcmlmaWVyXG4gICAgICApXG4gICAgICBsZXQgcHJvZmlsZURhdGFcbiAgICAgIGlmIChwcm92aWRlci5pZFRva2VuKSB7XG4gICAgICAgIGlmICghdG9rZW5zPy5pZF90b2tlbikge1xuICAgICAgICAgIHRocm93IG5ldyBPQXV0aENhbGxiYWNrRXJyb3IoXCJNaXNzaW5nIEpXVCBJRCBUb2tlblwiKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3VwcG9ydCBzZXJ2aWNlcyB0aGF0IHVzZSBPcGVuSUQgSUQgVG9rZW5zIHRvIGVuY29kZSBwcm9maWxlIGRhdGFcbiAgICAgICAgcHJvZmlsZURhdGEgPSBqd3REZWNvZGUodG9rZW5zLmlkX3Rva2VuLCB7IGpzb246IHRydWUgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2ZpbGVEYXRhID0gYXdhaXQgY2xpZW50LmdldChwcm92aWRlciwgdG9rZW5zLmFjY2Vzc1Rva2VuLCB0b2tlbnMpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQcm9maWxlKHsgcHJvZmlsZURhdGEsIHByb3ZpZGVyLCB0b2tlbnMsIHVzZXIgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiT0FVVEhfR0VUX0FDQ0VTU19UT0tFTl9FUlJPUlwiLCBlcnJvciwgcHJvdmlkZXIuaWQsIGNvZGUpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gSGFuZGxlIE9BdXRoIHYxLnhcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY29uc3QgeyBvYXV0aF90b2tlbiwgb2F1dGhfdmVyaWZpZXIgfSA9IHJlcS5xdWVyeVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGNvbnN0IHsgdG9rZW5fc2VjcmV0IH0gPSBhd2FpdCBjbGllbnQuZ2V0T0F1dGhSZXF1ZXN0VG9rZW4ocHJvdmlkZXIucGFyYW1zKVxuICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGNsaWVudC5nZXRPQXV0aEFjY2Vzc1Rva2VuKG9hdXRoX3Rva2VuLCB0b2tlbl9zZWNyZXQsIG9hdXRoX3ZlcmlmaWVyKVxuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gYXdhaXQgY2xpZW50LmdldChcbiAgICAgIHByb3ZpZGVyLnByb2ZpbGVVcmwsXG4gICAgICB0b2tlbnMub2F1dGhfdG9rZW4sXG4gICAgICB0b2tlbnMub2F1dGhfdG9rZW5fc2VjcmV0XG4gICAgKVxuXG4gICAgcmV0dXJuIGdldFByb2ZpbGUoeyBwcm9maWxlRGF0YSwgdG9rZW5zLCBwcm92aWRlciB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci5lcnJvcihcIk9BVVRIX1YxX0dFVF9BQ0NFU1NfVE9LRU5fRVJST1JcIiwgZXJyb3IpXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG4vKipcbiAqIC8vNi8zMC8yMDIwIEBnZXJhbGRub2xhbiBhZGRlZCB1c2VyRGF0YSBwYXJhbWV0ZXIgdG8gYXR0YWNoIGFkZGl0aW9uYWwgZGF0YSB0byB0aGUgcHJvZmlsZURhdGEgb2JqZWN0XG4gKiBSZXR1cm5zIHByb2ZpbGUsIHJhdyBwcm9maWxlIGFuZCBhdXRoIHByb3ZpZGVyIGRldGFpbHNcbiAqIEBwYXJhbSB7e1xuICogICBwcm9maWxlRGF0YTogb2JqZWN0IHwgc3RyaW5nXG4gKiAgIHRva2Vuczoge1xuICogICAgIGFjY2Vzc1Rva2VuOiBzdHJpbmdcbiAqICAgICBpZFRva2VuPzogc3RyaW5nXG4gKiAgICAgcmVmcmVzaFRva2VuPzogc3RyaW5nXG4gKiAgICAgYWNjZXNzX3Rva2VuOiBzdHJpbmdcbiAqICAgICBleHBpcmVzX2luPzogc3RyaW5nIHwgRGF0ZSB8IG51bGxcbiAqICAgICByZWZyZXNoX3Rva2VuPzogc3RyaW5nXG4gKiAgICAgaWRfdG9rZW4/OiBzdHJpbmdcbiAqICAgICB0b2tlbj86IHN0cmluZ1xuICogICAgIHRva2VuX3NlY3JldD86IHN0cmluZ1xuICogICAgIHRva2VuU2VjcmV0Pzogc3RyaW5nXG4gKiAgICAgcGFyYW1zPzogYW55XG4gKiAgIH1cbiAqICAgcHJvdmlkZXI6IGltcG9ydChcIi4uLy4uXCIpLlByb3ZpZGVyXG4gKiAgIHVzZXI/OiBvYmplY3RcbiAqIH19IHByb2ZpbGVQYXJhbXNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZmlsZSh7IHByb2ZpbGVEYXRhLCB0b2tlbnMsIHByb3ZpZGVyLCB1c2VyIH0pIHtcbiAgdHJ5IHtcbiAgICAvLyBDb252ZXJ0IHByb2ZpbGVEYXRhIGludG8gYW4gb2JqZWN0IGlmIGl0J3MgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIHByb2ZpbGVEYXRhID09PSBcInN0cmluZ1wiIHx8IHByb2ZpbGVEYXRhIGluc3RhbmNlb2YgU3RyaW5nKSB7XG4gICAgICBwcm9maWxlRGF0YSA9IEpTT04ucGFyc2UocHJvZmlsZURhdGEpXG4gICAgfVxuXG4gICAgLy8gSWYgYSB1c2VyIG9iamVjdCBpcyBzdXBwbGllZCAoZS5nLiBBcHBsZSBwcm92aWRlcikgYWRkIGl0IHRvIHRoZSBwcm9maWxlIG9iamVjdFxuICAgIGlmICh1c2VyICE9IG51bGwpIHtcbiAgICAgIHByb2ZpbGVEYXRhLnVzZXIgPSB1c2VyXG4gICAgfVxuXG4gICAgbG9nZ2VyLmRlYnVnKFwiUFJPRklMRV9EQVRBXCIsIHByb2ZpbGVEYXRhKVxuXG4gICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IHByb3ZpZGVyLnByb2ZpbGUocHJvZmlsZURhdGEsIHRva2VucylcbiAgICAvLyBSZXR1cm4gcHJvZmlsZSwgcmF3IHByb2ZpbGUgYW5kIGF1dGggcHJvdmlkZXIgZGV0YWlsc1xuICAgIHJldHVybiB7XG4gICAgICBwcm9maWxlOiB7XG4gICAgICAgIC4uLnByb2ZpbGUsXG4gICAgICAgIGVtYWlsOiBwcm9maWxlLmVtYWlsPy50b0xvd2VyQ2FzZSgpID8/IG51bGwsXG4gICAgICB9LFxuICAgICAgYWNjb3VudDoge1xuICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIuaWQsXG4gICAgICAgIHR5cGU6IHByb3ZpZGVyLnR5cGUsXG4gICAgICAgIGlkOiBwcm9maWxlLmlkLFxuICAgICAgICAuLi50b2tlbnMsXG4gICAgICB9LFxuICAgICAgT0F1dGhQcm9maWxlOiBwcm9maWxlRGF0YSxcbiAgICB9XG4gIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgIC8vIElmIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSBlaXRoZXIgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBwcm92aWRlclxuICAgIC8vIHJlc3BvbnNlICpvciogdGhlIHVzZXIgY2FuY2VsbGVkIHRoZSBhY3Rpb24gd2l0aCB0aGUgcHJvdmlkZXIuXG4gICAgLy9cbiAgICAvLyBVbmZvcnR1YXRlbHksIHdlIGNhbid0IHRlbGwgd2hpY2ggLSBhdCBsZWFzdCBub3QgaW4gYSB3YXkgdGhhdCB3b3JrcyBmb3JcbiAgICAvLyBhbGwgcHJvdmlkZXJzLCBzbyB3ZSByZXR1cm4gYW4gZW1wdHkgb2JqZWN0OyB0aGUgdXNlciBzaG91bGQgdGhlbiBiZVxuICAgIC8vIHJlZGlyZWN0ZWQgYmFjayB0byB0aGUgc2lnbiB1cCBwYWdlLiBXZSBsb2cgdGhlIGVycm9yIHRvIGhlbHAgZGV2ZWxvcGVyc1xuICAgIC8vIHdobyBtaWdodCBiZSB0cnlpbmcgdG8gZGVidWcgdGhpcyB3aGVuIGNvbmZpZ3VyaW5nIGEgbmV3IHByb3ZpZGVyLlxuICAgIGxvZ2dlci5lcnJvcihcIk9BVVRIX1BBUlNFX1BST0ZJTEVfRVJST1JcIiwgZXhjZXB0aW9uLCBwcm9maWxlRGF0YSlcbiAgICByZXR1cm4ge1xuICAgICAgcHJvZmlsZTogbnVsbCxcbiAgICAgIGFjY291bnQ6IG51bGwsXG4gICAgICBPQXV0aFByb2ZpbGU6IHByb2ZpbGVEYXRhLFxuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/lib/oauth/callback.js\n");

/***/ }),

/***/ "./next-auth/server/lib/oauth/client.js":
/*!**********************************************!*\
  !*** ./next-auth/server/lib/oauth/client.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ oAuthClient; }\n/* harmony export */ });\n/* harmony import */ var oauth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! oauth */ \"oauth\");\n/* harmony import */ var oauth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(oauth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! querystring */ \"querystring\");\n/* harmony import */ var querystring__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(querystring__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/logger */ \"./next-auth/lib/logger.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n/**\n * @TODO Refactor to remove dependancy on 'oauth' package\n * It is already quite monkey patched, we don't use all the features and and it\n * would be easier to maintain if all the code was native to next-auth.\n * @param {import(\"types/providers\").OAuthConfig} provider\n */\n\nfunction oAuthClient(provider) {\n  var _provider$version;\n\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith('2.')) {\n    // Handle OAuth v2.x\n    const authorizationUrl = new URL(provider.authorizationUrl);\n    const basePath = authorizationUrl.origin;\n    const authorizePath = authorizationUrl.pathname;\n    const accessTokenPath = new URL(provider.accessTokenUrl).pathname;\n    const oauth2Client = new oauth__WEBPACK_IMPORTED_MODULE_0__.OAuth2(provider.clientId, provider.clientSecret, basePath, authorizePath, accessTokenPath, provider.headers);\n    oauth2Client.getOAuthAccessToken = getOAuth2AccessToken;\n    oauth2Client.get = getOAuth2;\n    return oauth2Client;\n  } // Handle OAuth v1.x\n\n\n  const oauth1Client = new oauth__WEBPACK_IMPORTED_MODULE_0__.OAuth(provider.requestTokenUrl, provider.accessTokenUrl, provider.clientId, provider.clientSecret, provider.version || '1.0', provider.callbackUrl, provider.encoding || 'HMAC-SHA1'); // Promisify get() and getOAuth2AccessToken() for OAuth1\n\n  const originalGet = oauth1Client.get.bind(oauth1Client);\n\n  oauth1Client.get = (...args) => {\n    return new Promise((resolve, reject) => {\n      originalGet(...args, (error, result) => {\n        if (error) {\n          return reject(error);\n        }\n\n        resolve(result);\n      });\n    });\n  };\n\n  const originalGetOAuth1AccessToken = oauth1Client.getOAuthAccessToken.bind(oauth1Client);\n\n  oauth1Client.getOAuthAccessToken = (...args) => {\n    return new Promise((resolve, reject) => {\n      // eslint-disable-next-line camelcase\n      originalGetOAuth1AccessToken(...args, (error, oauth_token, oauth_token_secret, params) => {\n        if (error) {\n          return reject(error);\n        }\n\n        resolve({\n          // TODO: Remove, this is only kept for backward compativility\n          // These are not in the OAuth 1.x spec\n          accessToken: oauth_token,\n          refreshToken: oauth_token_secret,\n          results: params,\n          oauth_token,\n          oauth_token_secret,\n          params\n        });\n      });\n    });\n  };\n\n  const originalGetOAuthRequestToken = oauth1Client.getOAuthRequestToken.bind(oauth1Client);\n\n  oauth1Client.getOAuthRequestToken = (params = {}) => {\n    return new Promise((resolve, reject) => {\n      // eslint-disable-next-line camelcase\n      originalGetOAuthRequestToken(params, (error, oauth_token, oauth_token_secret, params) => {\n        if (error) {\n          return reject(error);\n        }\n\n        resolve({\n          oauth_token,\n          oauth_token_secret,\n          params\n        });\n      });\n    });\n  };\n\n  return oauth1Client;\n}\n/**\n * @TODO Refactor monkey patching in OAuth2.getOAuthAccessToken() and OAuth2.get()\n * These methods have been forked from `node-oauth` to fix bugs; it may make\n * sense to migrate all the methods we need from node-oauth to nexth-auth (with\n * appropriate credit) to make it easier to maintain and address issues as they\n * come up, as the node-oauth package does not seem to be actively maintained.\n */\n\n/**\n * Ported from https://github.com/ciaranj/node-oauth/blob/a7f8a1e21c362eb4ed2039431fb9ac2ae749f26a/lib/oauth2.js\n * @param {string} code\n * @param {import(\"types/providers\").OAuthConfig} provider\n * @param {string | undefined} codeVerifier\n */\n\nasync function getOAuth2AccessToken(code, provider, codeVerifier) {\n  const url = provider.accessTokenUrl;\n\n  const params = _objectSpread({}, provider.params);\n\n  const headers = _objectSpread({}, provider.headers);\n\n  const codeParam = params.grant_type === 'refresh_token' ? 'refresh_token' : 'code';\n\n  if (!params[codeParam]) {\n    params[codeParam] = code;\n  }\n\n  if (!params.client_id) {\n    params.client_id = provider.clientId;\n  } // For Apple the client secret must be generated on-the-fly.\n  // Using the properties in clientSecret to create a JWT.\n\n\n  if (provider.id === 'apple' && typeof provider.clientSecret === 'object') {\n    const {\n      keyId,\n      teamId,\n      privateKey\n    } = provider.clientSecret;\n    const clientSecret = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__.sign)({\n      iss: teamId,\n      iat: Math.floor(Date.now() / 1000),\n      exp: Math.floor(Date.now() / 1000) + 86400 * 180,\n      // 6 months\n      aud: 'https://appleid.apple.com',\n      sub: provider.clientId\n    }, // Automatically convert \\\\n into \\n if found in private key. If the key\n    // is passed in an environment variable \\n can get escaped as \\\\n\n    privateKey.replace(/\\\\n/g, '\\n'), {\n      algorithm: 'ES256',\n      keyid: keyId\n    });\n    params.client_secret = clientSecret;\n  } else {\n    params.client_secret = provider.clientSecret;\n  }\n\n  if (!params.redirect_uri) {\n    params.redirect_uri = provider.callbackUrl;\n  }\n\n  if (!headers['Content-Type']) {\n    headers['Content-Type'] = 'application/x-www-form-urlencoded';\n  } // Added as a fix to accomodate change in Twitch OAuth API\n\n\n  if (!headers['Client-ID']) {\n    headers['Client-ID'] = provider.clientId;\n  } // Added as a fix for Reddit Authentication\n\n\n  if (provider.id === 'reddit') {\n    headers.Authorization = 'Basic ' + Buffer.from(provider.clientId + ':' + provider.clientSecret).toString('base64');\n  }\n\n  if (provider.id === 'identity-server4' && !headers.Authorization) {\n    headers.Authorization = `Bearer ${code}`;\n  }\n\n  if (provider.protection.includes('pkce')) {\n    params.code_verifier = codeVerifier;\n  }\n\n  const postData = querystring__WEBPACK_IMPORTED_MODULE_1___default().stringify(params);\n  return new Promise((resolve, reject) => {\n    this._request('POST', url, headers, postData, null, (error, data, response) => {\n      if (error) {\n        _lib_logger__WEBPACK_IMPORTED_MODULE_2__.default.error('OAUTH_GET_ACCESS_TOKEN_ERROR', error, data, response);\n        return reject(error);\n      }\n\n      let raw;\n\n      try {\n        // As of http://tools.ietf.org/html/draft-ietf-oauth-v2-07\n        // responses should be in JSON\n        raw = JSON.parse(data);\n      } catch {\n        // However both Facebook + Github currently use rev05 of the spec  and neither\n        // seem to specify a content-type correctly in their response headers. :(\n        // Clients of these services suffer a minor performance cost.\n        raw = querystring__WEBPACK_IMPORTED_MODULE_1___default().parse(data);\n      }\n\n      let accessToken;\n\n      if (provider.id === 'slack') {\n        const {\n          ok,\n          error\n        } = raw;\n\n        if (!ok) {\n          return reject(error);\n        }\n\n        accessToken = raw.authed_user.access_token;\n      } else {\n        accessToken = raw.access_token;\n      }\n\n      resolve(_objectSpread({\n        accessToken,\n        accessTokenExpires: null,\n        refreshToken: raw.refresh_token,\n        idToken: raw.id_token\n      }, raw));\n    });\n  });\n}\n/**\n * Ported from https://github.com/ciaranj/node-oauth/blob/a7f8a1e21c362eb4ed2039431fb9ac2ae749f26a/lib/oauth2.js\n *\n * 18/08/2020 @robertcraigie added results parameter to pass data to an optional request preparer.\n * e.g. see providers/bungie\n * @param {import(\"types/providers\").OAuthConfig} provider\n * @param {string} accessToken\n * @param {any} results\n */\n\n\nasync function getOAuth2(provider, accessToken, results) {\n  let url = provider.profileUrl;\n  let httpMethod = 'GET';\n\n  const headers = _objectSpread({}, provider.headers);\n\n  if (this._useAuthorizationHeaderForGET) {\n    headers.Authorization = this.buildAuthHeader(accessToken); // Mail.ru & vk.com require 'access_token' as URL request parameter\n\n    if (['mailru', 'vk'].includes(provider.id)) {\n      const safeAccessTokenURL = new URL(url);\n      safeAccessTokenURL.searchParams.append('access_token', accessToken);\n      url = safeAccessTokenURL.href;\n    } // This line is required for Twitch\n\n\n    if (provider.id === 'twitch') {\n      headers['Client-ID'] = provider.clientId;\n    }\n\n    accessToken = null;\n  }\n\n  if (provider.id === 'bungie') {\n    url = prepareProfileUrl({\n      provider,\n      url,\n      results\n    });\n  }\n  /** Dropbox requires POST instead of GET\n   * Read more: https://www.dropbox.com/developers/reference/auth-types#user\n   */\n\n\n  if (provider.id === 'dropbox') {\n    httpMethod = 'POST';\n  }\n\n  return new Promise((resolve, reject) => {\n    this._request(httpMethod, url, headers, null, accessToken, (error, profileData) => {\n      if (error) {\n        return reject(error);\n      }\n\n      resolve(profileData);\n    });\n  });\n}\n/** Bungie needs special handling */\n\n\nfunction prepareProfileUrl({\n  provider,\n  url,\n  results\n}) {\n  var _provider$headers;\n\n  if (!results.membership_id) {\n    // internal error\n    // @TODO: handle better\n    throw new Error('Expected membership_id to be passed.');\n  }\n\n  if (!((_provider$headers = provider.headers) !== null && _provider$headers !== void 0 && _provider$headers['X-API-Key'])) {\n    throw new Error('The Bungie provider requires the X-API-Key option to be present in \"headers\".');\n  }\n\n  return url.replace('{membershipId}', results.membership_id);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvY2xpZW50LmpzP2Q0NzIiXSwibmFtZXMiOlsib0F1dGhDbGllbnQiLCJwcm92aWRlciIsInZlcnNpb24iLCJzdGFydHNXaXRoIiwiYXV0aG9yaXphdGlvblVybCIsIlVSTCIsImJhc2VQYXRoIiwib3JpZ2luIiwiYXV0aG9yaXplUGF0aCIsInBhdGhuYW1lIiwiYWNjZXNzVG9rZW5QYXRoIiwiYWNjZXNzVG9rZW5VcmwiLCJvYXV0aDJDbGllbnQiLCJPQXV0aDIiLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsImhlYWRlcnMiLCJnZXRPQXV0aEFjY2Vzc1Rva2VuIiwiZ2V0T0F1dGgyQWNjZXNzVG9rZW4iLCJnZXQiLCJnZXRPQXV0aDIiLCJvYXV0aDFDbGllbnQiLCJPQXV0aCIsInJlcXVlc3RUb2tlblVybCIsImNhbGxiYWNrVXJsIiwiZW5jb2RpbmciLCJvcmlnaW5hbEdldCIsImJpbmQiLCJhcmdzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvciIsInJlc3VsdCIsIm9yaWdpbmFsR2V0T0F1dGgxQWNjZXNzVG9rZW4iLCJvYXV0aF90b2tlbiIsIm9hdXRoX3Rva2VuX3NlY3JldCIsInBhcmFtcyIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwicmVzdWx0cyIsIm9yaWdpbmFsR2V0T0F1dGhSZXF1ZXN0VG9rZW4iLCJnZXRPQXV0aFJlcXVlc3RUb2tlbiIsImNvZGUiLCJjb2RlVmVyaWZpZXIiLCJ1cmwiLCJjb2RlUGFyYW0iLCJncmFudF90eXBlIiwiY2xpZW50X2lkIiwiaWQiLCJrZXlJZCIsInRlYW1JZCIsInByaXZhdGVLZXkiLCJqd3RTaWduIiwiaXNzIiwiaWF0IiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsImF1ZCIsInN1YiIsInJlcGxhY2UiLCJhbGdvcml0aG0iLCJrZXlpZCIsImNsaWVudF9zZWNyZXQiLCJyZWRpcmVjdF91cmkiLCJBdXRob3JpemF0aW9uIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwicHJvdGVjdGlvbiIsImluY2x1ZGVzIiwiY29kZV92ZXJpZmllciIsInBvc3REYXRhIiwicXVlcnlzdHJpbmciLCJfcmVxdWVzdCIsImRhdGEiLCJyZXNwb25zZSIsImxvZ2dlciIsInJhdyIsIkpTT04iLCJwYXJzZSIsIm9rIiwiYXV0aGVkX3VzZXIiLCJhY2Nlc3NfdG9rZW4iLCJhY2Nlc3NUb2tlbkV4cGlyZXMiLCJyZWZyZXNoX3Rva2VuIiwiaWRUb2tlbiIsImlkX3Rva2VuIiwicHJvZmlsZVVybCIsImh0dHBNZXRob2QiLCJfdXNlQXV0aG9yaXphdGlvbkhlYWRlckZvckdFVCIsImJ1aWxkQXV0aEhlYWRlciIsInNhZmVBY2Nlc3NUb2tlblVSTCIsInNlYXJjaFBhcmFtcyIsImFwcGVuZCIsImhyZWYiLCJwcmVwYXJlUHJvZmlsZVVybCIsInByb2ZpbGVEYXRhIiwibWVtYmVyc2hpcF9pZCIsIkVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLFNBQVNBLFdBQVQsQ0FBc0JDLFFBQXRCLEVBQWdDO0FBQUE7O0FBQzdDLDJCQUFJQSxRQUFRLENBQUNDLE9BQWIsOENBQUksa0JBQWtCQyxVQUFsQixDQUE2QixJQUE3QixDQUFKLEVBQXdDO0FBQ3RDO0FBQ0EsVUFBTUMsZ0JBQWdCLEdBQUcsSUFBSUMsR0FBSixDQUFRSixRQUFRLENBQUNHLGdCQUFqQixDQUF6QjtBQUNBLFVBQU1FLFFBQVEsR0FBR0YsZ0JBQWdCLENBQUNHLE1BQWxDO0FBQ0EsVUFBTUMsYUFBYSxHQUFHSixnQkFBZ0IsQ0FBQ0ssUUFBdkM7QUFDQSxVQUFNQyxlQUFlLEdBQUcsSUFBSUwsR0FBSixDQUFRSixRQUFRLENBQUNVLGNBQWpCLEVBQWlDRixRQUF6RDtBQUNBLFVBQU1HLFlBQVksR0FBRyxJ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QUFVLCtFQUFWLENBQU47QUFDRDs7QUFFRCxTQUFPekQsR0FBRyxDQUFDa0IsT0FBSixDQUFZLGdCQUFaLEVBQThCdkIsT0FBTyxDQUFDNkQsYUFBdEMsQ0FBUDtBQUNEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvY2xpZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT0F1dGgsIE9BdXRoMiB9IGZyb20gJ29hdXRoJ1xuaW1wb3J0IHF1ZXJ5c3RyaW5nIGZyb20gJ3F1ZXJ5c3RyaW5nJ1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi8uLi8uLi9saWIvbG9nZ2VyJ1xuaW1wb3J0IHsgc2lnbiBhcyBqd3RTaWduIH0gZnJvbSAnanNvbndlYnRva2VuJ1xuXG4vKipcbiAqIEBUT0RPIFJlZmFjdG9yIHRvIHJlbW92ZSBkZXBlbmRhbmN5IG9uICdvYXV0aCcgcGFja2FnZVxuICogSXQgaXMgYWxyZWFkeSBxdWl0ZSBtb25rZXkgcGF0Y2hlZCwgd2UgZG9uJ3QgdXNlIGFsbCB0aGUgZmVhdHVyZXMgYW5kIGFuZCBpdFxuICogd291bGQgYmUgZWFzaWVyIHRvIG1haW50YWluIGlmIGFsbCB0aGUgY29kZSB3YXMgbmF0aXZlIHRvIG5leHQtYXV0aC5cbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvcHJvdmlkZXJzXCIpLk9BdXRoQ29uZmlnfSBwcm92aWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvQXV0aENsaWVudCAocHJvdmlkZXIpIHtcbiAgaWYgKHByb3ZpZGVyLnZlcnNpb24/LnN0YXJ0c1dpdGgoJzIuJykpIHtcbiAgICAvLyBIYW5kbGUgT0F1dGggdjIueFxuICAgIGNvbnN0IGF1dGhvcml6YXRpb25VcmwgPSBuZXcgVVJMKHByb3ZpZGVyLmF1dGhvcml6YXRpb25VcmwpXG4gICAgY29uc3QgYmFzZVBhdGggPSBhdXRob3JpemF0aW9uVXJsLm9yaWdpblxuICAgIGNvbnN0IGF1dGhvcml6ZVBhdGggPSBhdXRob3JpemF0aW9uVXJsLnBhdGhuYW1lXG4gICAgY29uc3QgYWNjZXNzVG9rZW5QYXRoID0gbmV3IFVSTChwcm92aWRlci5hY2Nlc3NUb2tlblVybCkucGF0aG5hbWVcbiAgICBjb25zdCBvYXV0aDJDbGllbnQgPSBuZXcgT0F1dGgyKFxuICAgICAgcHJvdmlkZXIuY2xpZW50SWQsXG4gICAgICBwcm92aWRlci5jbGllbnRTZWNyZXQsXG4gICAgICBiYXNlUGF0aCxcbiAgICAgIGF1dGhvcml6ZVBhdGgsXG4gICAgICBhY2Nlc3NUb2tlblBhdGgsXG4gICAgICBwcm92aWRlci5oZWFkZXJzXG4gICAgKVxuICAgIG9hdXRoMkNsaWVudC5nZXRPQXV0aEFjY2Vzc1Rva2VuID0gZ2V0T0F1dGgyQWNjZXNzVG9rZW5cbiAgICBvYXV0aDJDbGllbnQuZ2V0ID0gZ2V0T0F1dGgyXG4gICAgcmV0dXJuIG9hdXRoMkNsaWVudFxuICB9XG4gIC8vIEhhbmRsZSBPQXV0aCB2MS54XG4gIGNvbnN0IG9hdXRoMUNsaWVudCA9IG5ldyBPQXV0aChcbiAgICBwcm92aWRlci5yZXF1ZXN0VG9rZW5VcmwsXG4gICAgcHJvdmlkZXIuYWNjZXNzVG9rZW5VcmwsXG4gICAgcHJvdmlkZXIuY2xpZW50SWQsXG4gICAgcHJvdmlkZXIuY2xpZW50U2VjcmV0LFxuICAgIHByb3ZpZGVyLnZlcnNpb24gfHwgJzEuMCcsXG4gICAgcHJvdmlkZXIuY2FsbGJhY2tVcmwsXG4gICAgcHJvdmlkZXIuZW5jb2RpbmcgfHwgJ0hNQUMtU0hBMSdcbiAgKVxuXG4gIC8vIFByb21pc2lmeSBnZXQoKSBhbmQgZ2V0T0F1dGgyQWNjZXNzVG9rZW4oKSBmb3IgT0F1dGgxXG4gIGNvbnN0IG9yaWdpbmFsR2V0ID0gb2F1dGgxQ2xpZW50LmdldC5iaW5kKG9hdXRoMUNsaWVudClcbiAgb2F1dGgxQ2xpZW50LmdldCA9ICguLi5hcmdzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIG9yaWdpbmFsR2V0KC4uLmFyZ3MsIChlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbiAgY29uc3Qgb3JpZ2luYWxHZXRPQXV0aDFBY2Nlc3NUb2tlbiA9IG9hdXRoMUNsaWVudC5nZXRPQXV0aEFjY2Vzc1Rva2VuLmJpbmQob2F1dGgxQ2xpZW50KVxuICBvYXV0aDFDbGllbnQuZ2V0T0F1dGhBY2Nlc3NUb2tlbiA9ICguLi5hcmdzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIG9yaWdpbmFsR2V0T0F1dGgxQWNjZXNzVG9rZW4oLi4uYXJncywgKGVycm9yLCBvYXV0aF90b2tlbiwgb2F1dGhfdG9rZW5fc2VjcmV0LCBwYXJhbXMpID0+IHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSwgdGhpcyBpcyBvbmx5IGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGl2aWxpdHlcbiAgICAgICAgICAvLyBUaGVzZSBhcmUgbm90IGluIHRoZSBPQXV0aCAxLnggc3BlY1xuICAgICAgICAgIGFjY2Vzc1Rva2VuOiBvYXV0aF90b2tlbixcbiAgICAgICAgICByZWZyZXNoVG9rZW46IG9hdXRoX3Rva2VuX3NlY3JldCxcbiAgICAgICAgICByZXN1bHRzOiBwYXJhbXMsXG5cbiAgICAgICAgICBvYXV0aF90b2tlbixcbiAgICAgICAgICBvYXV0aF90b2tlbl9zZWNyZXQsXG4gICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBvcmlnaW5hbEdldE9BdXRoUmVxdWVzdFRva2VuID0gb2F1dGgxQ2xpZW50LmdldE9BdXRoUmVxdWVzdFRva2VuLmJpbmQob2F1dGgxQ2xpZW50KVxuICBvYXV0aDFDbGllbnQuZ2V0T0F1dGhSZXF1ZXN0VG9rZW4gPSAocGFyYW1zID0ge30pID0+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgb3JpZ2luYWxHZXRPQXV0aFJlcXVlc3RUb2tlbihwYXJhbXMsIChlcnJvciwgb2F1dGhfdG9rZW4sIG9hdXRoX3Rva2VuX3NlY3JldCwgcGFyYW1zKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh7IG9hdXRoX3Rva2VuLCBvYXV0aF90b2tlbl9zZWNyZXQsIHBhcmFtcyB9KVxuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIHJldHVybiBvYXV0aDFDbGllbnRcbn1cblxuLyoqXG4gKiBAVE9ETyBSZWZhY3RvciBtb25rZXkgcGF0Y2hpbmcgaW4gT0F1dGgyLmdldE9BdXRoQWNjZXNzVG9rZW4oKSBhbmQgT0F1dGgyLmdldCgpXG4gKiBUaGVzZSBtZXRob2RzIGhhdmUgYmVlbiBmb3JrZWQgZnJvbSBgbm9kZS1vYXV0aGAgdG8gZml4IGJ1Z3M7IGl0IG1heSBtYWtlXG4gKiBzZW5zZSB0byBtaWdyYXRlIGFsbCB0aGUgbWV0aG9kcyB3ZSBuZWVkIGZyb20gbm9kZS1vYXV0aCB0byBuZXh0aC1hdXRoICh3aXRoXG4gKiBhcHByb3ByaWF0ZSBjcmVkaXQpIHRvIG1ha2UgaXQgZWFzaWVyIHRvIG1haW50YWluIGFuZCBhZGRyZXNzIGlzc3VlcyBhcyB0aGV5XG4gKiBjb21lIHVwLCBhcyB0aGUgbm9kZS1vYXV0aCBwYWNrYWdlIGRvZXMgbm90IHNlZW0gdG8gYmUgYWN0aXZlbHkgbWFpbnRhaW5lZC5cbiAqL1xuXG4vKipcbiAqIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jaWFyYW5qL25vZGUtb2F1dGgvYmxvYi9hN2Y4YTFlMjFjMzYyZWI0ZWQyMDM5NDMxZmI5YWMyYWU3NDlmMjZhL2xpYi9vYXV0aDIuanNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb2RlXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL3Byb3ZpZGVyc1wiKS5PQXV0aENvbmZpZ30gcHJvdmlkZXJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBjb2RlVmVyaWZpZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0T0F1dGgyQWNjZXNzVG9rZW4gKGNvZGUsIHByb3ZpZGVyLCBjb2RlVmVyaWZpZXIpIHtcbiAgY29uc3QgdXJsID0gcHJvdmlkZXIuYWNjZXNzVG9rZW5VcmxcbiAgY29uc3QgcGFyYW1zID0geyAuLi5wcm92aWRlci5wYXJhbXMgfVxuICBjb25zdCBoZWFkZXJzID0geyAuLi5wcm92aWRlci5oZWFkZXJzIH1cbiAgY29uc3QgY29kZVBhcmFtID0gKHBhcmFtcy5ncmFudF90eXBlID09PSAncmVmcmVzaF90b2tlbicpID8gJ3JlZnJlc2hfdG9rZW4nIDogJ2NvZGUnXG5cbiAgaWYgKCFwYXJhbXNbY29kZVBhcmFtXSkgeyBwYXJhbXNbY29kZVBhcmFtXSA9IGNvZGUgfVxuXG4gIGlmICghcGFyYW1zLmNsaWVudF9pZCkgeyBwYXJhbXMuY2xpZW50X2lkID0gcHJvdmlkZXIuY2xpZW50SWQgfVxuXG4gIC8vIEZvciBBcHBsZSB0aGUgY2xpZW50IHNlY3JldCBtdXN0IGJlIGdlbmVyYXRlZCBvbi10aGUtZmx5LlxuICAvLyBVc2luZyB0aGUgcHJvcGVydGllcyBpbiBjbGllbnRTZWNyZXQgdG8gY3JlYXRlIGEgSldULlxuICBpZiAocHJvdmlkZXIuaWQgPT09ICdhcHBsZScgJiYgdHlwZW9mIHByb3ZpZGVyLmNsaWVudFNlY3JldCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB7IGtleUlkLCB0ZWFtSWQsIHByaXZhdGVLZXkgfSA9IHByb3ZpZGVyLmNsaWVudFNlY3JldFxuICAgIGNvbnN0IGNsaWVudFNlY3JldCA9IGp3dFNpZ24oe1xuICAgICAgaXNzOiB0ZWFtSWQsXG4gICAgICBpYXQ6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApLFxuICAgICAgZXhwOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKSArICg4NjQwMCAqIDE4MCksIC8vIDYgbW9udGhzXG4gICAgICBhdWQ6ICdodHRwczovL2FwcGxlaWQuYXBwbGUuY29tJyxcbiAgICAgIHN1YjogcHJvdmlkZXIuY2xpZW50SWRcbiAgICB9LFxuICAgIC8vIEF1dG9tYXRpY2FsbHkgY29udmVydCBcXFxcbiBpbnRvIFxcbiBpZiBmb3VuZCBpbiBwcml2YXRlIGtleS4gSWYgdGhlIGtleVxuICAgIC8vIGlzIHBhc3NlZCBpbiBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZSBcXG4gY2FuIGdldCBlc2NhcGVkIGFzIFxcXFxuXG4gICAgcHJpdmF0ZUtleS5yZXBsYWNlKC9cXFxcbi9nLCAnXFxuJyksXG4gICAgeyBhbGdvcml0aG06ICdFUzI1NicsIGtleWlkOiBrZXlJZCB9XG4gICAgKVxuICAgIHBhcmFtcy5jbGllbnRfc2VjcmV0ID0gY2xpZW50U2VjcmV0XG4gIH0gZWxzZSB7XG4gICAgcGFyYW1zLmNsaWVudF9zZWNyZXQgPSBwcm92aWRlci5jbGllbnRTZWNyZXRcbiAgfVxuXG4gIGlmICghcGFyYW1zLnJlZGlyZWN0X3VyaSkgeyBwYXJhbXMucmVkaXJlY3RfdXJpID0gcHJvdmlkZXIuY2FsbGJhY2tVcmwgfVxuXG4gIGlmICghaGVhZGVyc1snQ29udGVudC1UeXBlJ10pIHsgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9XG4gIC8vIEFkZGVkIGFzIGEgZml4IHRvIGFjY29tb2RhdGUgY2hhbmdlIGluIFR3aXRjaCBPQXV0aCBBUElcbiAgaWYgKCFoZWFkZXJzWydDbGllbnQtSUQnXSkgeyBoZWFkZXJzWydDbGllbnQtSUQnXSA9IHByb3ZpZGVyLmNsaWVudElkIH1cbiAgLy8gQWRkZWQgYXMgYSBmaXggZm9yIFJlZGRpdCBBdXRoZW50aWNhdGlvblxuICBpZiAocHJvdmlkZXIuaWQgPT09ICdyZWRkaXQnKSB7XG4gICAgaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBCdWZmZXIuZnJvbSgocHJvdmlkZXIuY2xpZW50SWQgKyAnOicgKyBwcm92aWRlci5jbGllbnRTZWNyZXQpKS50b1N0cmluZygnYmFzZTY0JylcbiAgfVxuXG4gIGlmIChwcm92aWRlci5pZCA9PT0gJ2lkZW50aXR5LXNlcnZlcjQnICYmICFoZWFkZXJzLkF1dGhvcml6YXRpb24pIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7Y29kZX1gXG4gIH1cblxuICBpZiAocHJvdmlkZXIucHJvdGVjdGlvbi5pbmNsdWRlcygncGtjZScpKSB7XG4gICAgcGFyYW1zLmNvZGVfdmVyaWZpZXIgPSBjb2RlVmVyaWZpZXJcbiAgfVxuXG4gIGNvbnN0IHBvc3REYXRhID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHBhcmFtcylcblxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHRoaXMuX3JlcXVlc3QoXG4gICAgICAnUE9TVCcsXG4gICAgICB1cmwsXG4gICAgICBoZWFkZXJzLFxuICAgICAgcG9zdERhdGEsXG4gICAgICBudWxsLFxuICAgICAgKGVycm9yLCBkYXRhLCByZXNwb25zZSkgPT4ge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBsb2dnZXIuZXJyb3IoJ09BVVRIX0dFVF9BQ0NFU1NfVE9LRU5fRVJST1InLCBlcnJvciwgZGF0YSwgcmVzcG9uc2UpXG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByYXdcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBBcyBvZiBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLW9hdXRoLXYyLTA3XG4gICAgICAgICAgLy8gcmVzcG9uc2VzIHNob3VsZCBiZSBpbiBKU09OXG4gICAgICAgICAgcmF3ID0gSlNPTi5wYXJzZShkYXRhKVxuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAvLyBIb3dldmVyIGJvdGggRmFjZWJvb2sgKyBHaXRodWIgY3VycmVudGx5IHVzZSByZXYwNSBvZiB0aGUgc3BlYyAgYW5kIG5laXRoZXJcbiAgICAgICAgICAvLyBzZWVtIHRvIHNwZWNpZnkgYSBjb250ZW50LXR5cGUgY29ycmVjdGx5IGluIHRoZWlyIHJlc3BvbnNlIGhlYWRlcnMuIDooXG4gICAgICAgICAgLy8gQ2xpZW50cyBvZiB0aGVzZSBzZXJ2aWNlcyBzdWZmZXIgYSBtaW5vciBwZXJmb3JtYW5jZSBjb3N0LlxuICAgICAgICAgIHJhdyA9IHF1ZXJ5c3RyaW5nLnBhcnNlKGRhdGEpXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYWNjZXNzVG9rZW5cbiAgICAgICAgaWYgKHByb3ZpZGVyLmlkID09PSAnc2xhY2snKSB7XG4gICAgICAgICAgY29uc3QgeyBvaywgZXJyb3IgfSA9IHJhd1xuICAgICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyb3IpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYWNjZXNzVG9rZW4gPSByYXcuYXV0aGVkX3VzZXIuYWNjZXNzX3Rva2VuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWNjZXNzVG9rZW4gPSByYXcuYWNjZXNzX3Rva2VuXG4gICAgICAgIH1cblxuICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICBhY2Nlc3NUb2tlbixcbiAgICAgICAgICBhY2Nlc3NUb2tlbkV4cGlyZXM6IG51bGwsXG4gICAgICAgICAgcmVmcmVzaFRva2VuOiByYXcucmVmcmVzaF90b2tlbixcbiAgICAgICAgICBpZFRva2VuOiByYXcuaWRfdG9rZW4sXG4gICAgICAgICAgLi4ucmF3XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKVxuICB9KVxufVxuXG4vKipcbiAqIFBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jaWFyYW5qL25vZGUtb2F1dGgvYmxvYi9hN2Y4YTFlMjFjMzYyZWI0ZWQyMDM5NDMxZmI5YWMyYWU3NDlmMjZhL2xpYi9vYXV0aDIuanNcbiAqXG4gKiAxOC8wOC8yMDIwIEByb2JlcnRjcmFpZ2llIGFkZGVkIHJlc3VsdHMgcGFyYW1ldGVyIHRvIHBhc3MgZGF0YSB0byBhbiBvcHRpb25hbCByZXF1ZXN0IHByZXBhcmVyLlxuICogZS5nLiBzZWUgcHJvdmlkZXJzL2J1bmdpZVxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9wcm92aWRlcnNcIikuT0F1dGhDb25maWd9IHByb3ZpZGVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW5cbiAqIEBwYXJhbSB7YW55fSByZXN1bHRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldE9BdXRoMiAocHJvdmlkZXIsIGFjY2Vzc1Rva2VuLCByZXN1bHRzKSB7XG4gIGxldCB1cmwgPSBwcm92aWRlci5wcm9maWxlVXJsXG4gIGxldCBodHRwTWV0aG9kID0gJ0dFVCdcbiAgY29uc3QgaGVhZGVycyA9IHsgLi4ucHJvdmlkZXIuaGVhZGVycyB9XG5cbiAgaWYgKHRoaXMuX3VzZUF1dGhvcml6YXRpb25IZWFkZXJGb3JHRVQpIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSB0aGlzLmJ1aWxkQXV0aEhlYWRlcihhY2Nlc3NUb2tlbilcblxuICAgIC8vIE1haWwucnUgJiB2ay5jb20gcmVxdWlyZSAnYWNjZXNzX3Rva2VuJyBhcyBVUkwgcmVxdWVzdCBwYXJhbWV0ZXJcbiAgICBpZiAoWydtYWlscnUnLCAndmsnXS5pbmNsdWRlcyhwcm92aWRlci5pZCkpIHtcbiAgICAgIGNvbnN0IHNhZmVBY2Nlc3NUb2tlblVSTCA9IG5ldyBVUkwodXJsKVxuICAgICAgc2FmZUFjY2Vzc1Rva2VuVVJMLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2FjY2Vzc190b2tlbicsIGFjY2Vzc1Rva2VuKVxuICAgICAgdXJsID0gc2FmZUFjY2Vzc1Rva2VuVVJMLmhyZWZcbiAgICB9XG5cbiAgICAvLyBUaGlzIGxpbmUgaXMgcmVxdWlyZWQgZm9yIFR3aXRjaFxuICAgIGlmIChwcm92aWRlci5pZCA9PT0gJ3R3aXRjaCcpIHtcbiAgICAgIGhlYWRlcnNbJ0NsaWVudC1JRCddID0gcHJvdmlkZXIuY2xpZW50SWRcbiAgICB9XG4gICAgYWNjZXNzVG9rZW4gPSBudWxsXG4gIH1cblxuICBpZiAocHJvdmlkZXIuaWQgPT09ICdidW5naWUnKSB7XG4gICAgdXJsID0gcHJlcGFyZVByb2ZpbGVVcmwoeyBwcm92aWRlciwgdXJsLCByZXN1bHRzIH0pXG4gIH1cblxuICAvKiogRHJvcGJveCByZXF1aXJlcyBQT1NUIGluc3RlYWQgb2YgR0VUXG4gICAqIFJlYWQgbW9yZTogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vZGV2ZWxvcGVycy9yZWZlcmVuY2UvYXV0aC10eXBlcyN1c2VyXG4gICAqL1xuICBpZiAocHJvdmlkZXIuaWQgPT09ICdkcm9wYm94Jykge1xuICAgIGh0dHBNZXRob2QgPSAnUE9TVCdcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdGhpcy5fcmVxdWVzdChodHRwTWV0aG9kLCB1cmwsIGhlYWRlcnMsIG51bGwsIGFjY2Vzc1Rva2VuLCAoZXJyb3IsIHByb2ZpbGVEYXRhKSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcilcbiAgICAgIH1cbiAgICAgIHJlc29sdmUocHJvZmlsZURhdGEpXG4gICAgfSlcbiAgfSlcbn1cblxuLyoqIEJ1bmdpZSBuZWVkcyBzcGVjaWFsIGhhbmRsaW5nICovXG5mdW5jdGlvbiBwcmVwYXJlUHJvZmlsZVVybCAoeyBwcm92aWRlciwgdXJsLCByZXN1bHRzIH0pIHtcbiAgaWYgKCFyZXN1bHRzLm1lbWJlcnNoaXBfaWQpIHtcbiAgICAvLyBpbnRlcm5hbCBlcnJvclxuICAgIC8vIEBUT0RPOiBoYW5kbGUgYmV0dGVyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBtZW1iZXJzaGlwX2lkIHRvIGJlIHBhc3NlZC4nKVxuICB9XG5cbiAgaWYgKCFwcm92aWRlci5oZWFkZXJzPy5bJ1gtQVBJLUtleSddKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgQnVuZ2llIHByb3ZpZGVyIHJlcXVpcmVzIHRoZSBYLUFQSS1LZXkgb3B0aW9uIHRvIGJlIHByZXNlbnQgaW4gXCJoZWFkZXJzXCIuJylcbiAgfVxuXG4gIHJldHVybiB1cmwucmVwbGFjZSgne21lbWJlcnNoaXBJZH0nLCByZXN1bHRzLm1lbWJlcnNoaXBfaWQpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/lib/oauth/client.js\n");

/***/ }),

/***/ "./next-auth/server/lib/oauth/pkce-handler.js":
/*!****************************************************!*\
  !*** ./next-auth/server/lib/oauth/pkce-handler.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"handleCallback\": function() { return /* binding */ handleCallback; },\n/* harmony export */   \"handleSignin\": function() { return /* binding */ handleSignin; }\n/* harmony export */ });\n/* harmony import */ var pkce_challenge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pkce-challenge */ \"pkce-challenge\");\n/* harmony import */ var pkce_challenge__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pkce_challenge__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookie */ \"./next-auth/server/lib/cookie.js\");\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/jwt */ \"./next-auth/lib/jwt.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/logger */ \"./next-auth/lib/logger.js\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lib/errors */ \"./next-auth/lib/errors.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\nconst PKCE_LENGTH = 64;\nconst PKCE_CODE_CHALLENGE_METHOD = 'S256'; // can be 'plain', not recommended https://tools.ietf.org/html/rfc7636#section-4.2\n\nconst PKCE_MAX_AGE = 60 * 15; // 15 minutes in seconds\n\n/**\n * Adds `code_verifier` to `req.options.pkce`, and removes the corresponding cookie\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function handleCallback(req, res) {\n  const {\n    cookies,\n    provider,\n    baseUrl,\n    basePath\n  } = req.options;\n\n  try {\n    var _provider$protection;\n\n    // Provider does not support PKCE, nothing to do.\n    if (!((_provider$protection = provider.protection) !== null && _provider$protection !== void 0 && _provider$protection.includes('pkce'))) {\n      return;\n    }\n\n    if (!(cookies.pkceCodeVerifier.name in req.cookies)) {\n      throw new _lib_errors__WEBPACK_IMPORTED_MODULE_4__.OAuthCallbackError('The code_verifier cookie was not found.');\n    }\n\n    const pkce = await _lib_jwt__WEBPACK_IMPORTED_MODULE_2__.default.decode(_objectSpread(_objectSpread({}, req.options.jwt), {}, {\n      token: req.cookies[cookies.pkceCodeVerifier.name],\n      maxAge: PKCE_MAX_AGE,\n      encryption: true\n    }));\n    req.options.pkce = pkce;\n    _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.debug('OAUTH_CALLBACK_PROTECTION', 'Read PKCE verifier from cookie', {\n      code_verifier: pkce.code_verifier,\n      pkceLength: PKCE_LENGTH,\n      method: PKCE_CODE_CHALLENGE_METHOD\n    }); // remove PKCE after it has been used\n\n    _cookie__WEBPACK_IMPORTED_MODULE_1__.set(res, cookies.pkceCodeVerifier.name, \"\", _objectSpread(_objectSpread({}, cookies.pkceCodeVerifier.options), {}, {\n      maxAge: 0\n    }));\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.error('CALLBACK_OAUTH_ERROR', error);\n    return res.redirect(`${baseUrl}${basePath}/error?error=OAuthCallback`);\n  }\n}\n/**\n * Adds `code_challenge` and `code_challenge_method` to `req.options.pkce`.\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function handleSignin(req, res) {\n  const {\n    cookies,\n    provider,\n    baseUrl,\n    basePath\n  } = req.options;\n\n  try {\n    var _provider$protection2;\n\n    if (!((_provider$protection2 = provider.protection) !== null && _provider$protection2 !== void 0 && _provider$protection2.includes('pkce'))) {\n      // Provider does not support PKCE, nothing to do.\n      return;\n    } // Started login flow, add generated pkce to req.options and (encrypted) code_verifier to a cookie\n\n\n    const pkce = pkce_challenge__WEBPACK_IMPORTED_MODULE_0___default()(PKCE_LENGTH);\n    _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.debug('OAUTH_SIGNIN_PROTECTION', 'Created PKCE challenge/verifier', _objectSpread(_objectSpread({}, pkce), {}, {\n      pkceLength: PKCE_LENGTH,\n      method: PKCE_CODE_CHALLENGE_METHOD\n    }));\n    provider.authorizationParams = _objectSpread(_objectSpread({}, provider.authorizationParams), {}, {\n      code_challenge: pkce.code_challenge,\n      code_challenge_method: PKCE_CODE_CHALLENGE_METHOD\n    });\n    const encryptedCodeVerifier = await _lib_jwt__WEBPACK_IMPORTED_MODULE_2__.default.encode(_objectSpread(_objectSpread({}, req.options.jwt), {}, {\n      maxAge: PKCE_MAX_AGE,\n      token: {\n        code_verifier: pkce.code_verifier\n      },\n      encryption: true\n    }));\n    const cookieExpires = new Date();\n    cookieExpires.setTime(cookieExpires.getTime() + PKCE_MAX_AGE * 1000);\n    _cookie__WEBPACK_IMPORTED_MODULE_1__.set(res, cookies.pkceCodeVerifier.name, encryptedCodeVerifier, _objectSpread({\n      expires: cookieExpires.toISOString()\n    }, cookies.pkceCodeVerifier.options));\n    _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.debug('OAUTH_SIGNIN_PROTECTION', 'Created PKCE code_verifier saved in cookie');\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_3__.default.error('SIGNIN_OAUTH_ERROR', error);\n    return res.redirect(`${baseUrl}${basePath}/error?error=OAuthSignin`);\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  handleSignin,\n  handleCallback\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvcGtjZS1oYW5kbGVyLmpzP2RlNDQiXSwibmFtZXMiOlsiUEtDRV9MRU5HVEgiLCJQS0NFX0NPREVfQ0hBTExFTkdFX01FVEhPRCIsIlBLQ0VfTUFYX0FHRSIsImhhbmRsZUNhbGxiYWNrIiwicmVxIiwicmVzIiwiY29va2llcyIsInByb3ZpZGVyIiwiYmFzZVVybCIsImJhc2VQYXRoIiwib3B0aW9ucyIsInByb3RlY3Rpb24iLCJpbmNsdWRlcyIsInBrY2VDb2RlVmVyaWZpZXIiLCJuYW1lIiwiT0F1dGhDYWxsYmFja0Vycm9yIiwicGtjZSIsImp3dCIsInRva2VuIiwibWF4QWdlIiwiZW5jcnlwdGlvbiIsImxvZ2dlciIsImNvZGVfdmVyaWZpZXIiLCJwa2NlTGVuZ3RoIiwibWV0aG9kIiwiY29va2llIiwiZXJyb3IiLCJyZWRpcmVjdCIsImhhbmRsZVNpZ25pbiIsInBrY2VDaGFsbGVuZ2UiLCJhdXRob3JpemF0aW9uUGFyYW1zIiwiY29kZV9jaGFsbGVuZ2UiLCJjb2RlX2NoYWxsZW5nZV9tZXRob2QiLCJlbmNyeXB0ZWRDb2RlVmVyaWZpZXIiLCJjb29raWVFeHBpcmVzIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwiZXhwaXJlcyIsInRvSVNPU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxXQUFXLEdBQUcsRUFBcEI7QUFDQSxNQUFNQywwQkFBMEIsR0FBRyxNQUFuQyxDLENBQTBDOztBQUMxQyxNQUFNQyxZQUFZLEdBQUcsS0FBSyxFQUExQixDLENBQTZCOztBQUU3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNPLGVBQWVDLGNBQWYsQ0FBK0JDLEdBQS9CLEVBQW9DQyxHQUFwQyxFQUF5QztBQUM5QyxRQUFNO0FBQUVDLFdBQUY7QUFBV0MsWUFBWDtBQUFxQkMs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Q0FBQSxDQUFXcEIsR0FBWCxFQUFnQkMsT0FBTyxDQUFDTyxnQkFBUixDQUF5QkMsSUFBekMsRUFBK0NtQixxQkFBL0M7QUFDRUssYUFBTyxFQUFFSixhQUFhLENBQUNLLFdBQWQ7QUFEWCxPQUVLakMsT0FBTyxDQUFDTyxnQkFBUixDQUF5QkgsT0FGOUI7QUFJQVcsMERBQUEsQ0FBYSx5QkFBYixFQUF3Qyw0Q0FBeEM7QUFDRCxHQWhDRCxDQWdDRSxPQUFPSyxLQUFQLEVBQWM7QUFDZEwsMERBQUEsQ0FBYSxvQkFBYixFQUFtQ0ssS0FBbkM7QUFDQSxXQUFPckIsR0FBRyxDQUFDc0IsUUFBSixDQUFjLEdBQUVuQixPQUFRLEdBQUVDLFFBQVMsMEJBQW5DLENBQVA7QUFDRDtBQUNGO0FBRUQsK0RBQWU7QUFBRW1CLGNBQUY7QUFBZ0J6QjtBQUFoQixDQUFmIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvcGtjZS1oYW5kbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBrY2VDaGFsbGVuZ2UgZnJvbSAncGtjZS1jaGFsbGVuZ2UnXG5pbXBvcnQgKiBhcyBjb29raWUgZnJvbSAnLi4vY29va2llJ1xuaW1wb3J0IGp3dCBmcm9tICcuLi8uLi8uLi9saWIvand0J1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi8uLi8uLi9saWIvbG9nZ2VyJ1xuaW1wb3J0IHsgT0F1dGhDYWxsYmFja0Vycm9yIH0gZnJvbSAnLi4vLi4vLi4vbGliL2Vycm9ycydcblxuY29uc3QgUEtDRV9MRU5HVEggPSA2NFxuY29uc3QgUEtDRV9DT0RFX0NIQUxMRU5HRV9NRVRIT0QgPSAnUzI1NicgLy8gY2FuIGJlICdwbGFpbicsIG5vdCByZWNvbW1lbmRlZCBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzYzNiNzZWN0aW9uLTQuMlxuY29uc3QgUEtDRV9NQVhfQUdFID0gNjAgKiAxNSAvLyAxNSBtaW51dGVzIGluIHNlY29uZHNcblxuLyoqXG4gKiBBZGRzIGBjb2RlX3ZlcmlmaWVyYCB0byBgcmVxLm9wdGlvbnMucGtjZWAsIGFuZCByZW1vdmVzIHRoZSBjb3JyZXNwb25kaW5nIGNvb2tpZVxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sgKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgY29va2llcywgcHJvdmlkZXIsIGJhc2VVcmwsIGJhc2VQYXRoIH0gPSByZXEub3B0aW9uc1xuICB0cnkge1xuICAgIC8vIFByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgUEtDRSwgbm90aGluZyB0byBkby5cbiAgICBpZiAoIXByb3ZpZGVyLnByb3RlY3Rpb24/LmluY2x1ZGVzKCdwa2NlJykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghKGNvb2tpZXMucGtjZUNvZGVWZXJpZmllci5uYW1lIGluIHJlcS5jb29raWVzKSkge1xuICAgICAgdGhyb3cgbmV3IE9BdXRoQ2FsbGJhY2tFcnJvcignVGhlIGNvZGVfdmVyaWZpZXIgY29va2llIHdhcyBub3QgZm91bmQuJylcbiAgICB9XG4gICAgY29uc3QgcGtjZSA9IGF3YWl0IGp3dC5kZWNvZGUoe1xuICAgICAgLi4ucmVxLm9wdGlvbnMuand0LFxuICAgICAgdG9rZW46IHJlcS5jb29raWVzW2Nvb2tpZXMucGtjZUNvZGVWZXJpZmllci5uYW1lXSxcbiAgICAgIG1heEFnZTogUEtDRV9NQVhfQUdFLFxuICAgICAgZW5jcnlwdGlvbjogdHJ1ZVxuICAgIH0pXG4gICAgcmVxLm9wdGlvbnMucGtjZSA9IHBrY2VcbiAgICBsb2dnZXIuZGVidWcoJ09BVVRIX0NBTExCQUNLX1BST1RFQ1RJT04nLCAnUmVhZCBQS0NFIHZlcmlmaWVyIGZyb20gY29va2llJywge1xuICAgICAgY29kZV92ZXJpZmllcjogcGtjZS5jb2RlX3ZlcmlmaWVyLFxuICAgICAgcGtjZUxlbmd0aDogUEtDRV9MRU5HVEgsXG4gICAgICBtZXRob2Q6IFBLQ0VfQ09ERV9DSEFMTEVOR0VfTUVUSE9EXG4gICAgfSlcbiAgICAvLyByZW1vdmUgUEtDRSBhZnRlciBpdCBoYXMgYmVlbiB1c2VkXG4gICAgY29va2llLnNldChyZXMsIGNvb2tpZXMucGtjZUNvZGVWZXJpZmllci5uYW1lLCBcIlwiLCB7IFxuICAgICAgLi4uY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm9wdGlvbnMsXG4gICAgICBtYXhBZ2U6IDAgXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ0NBTExCQUNLX09BVVRIX0VSUk9SJywgZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPU9BdXRoQ2FsbGJhY2tgKVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBgY29kZV9jaGFsbGVuZ2VgIGFuZCBgY29kZV9jaGFsbGVuZ2VfbWV0aG9kYCB0byBgcmVxLm9wdGlvbnMucGtjZWAuXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5OZXh0QXV0aFJlcXVlc3R9IHJlcVxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXNwb25zZX0gcmVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVTaWduaW4gKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgY29va2llcywgcHJvdmlkZXIsIGJhc2VVcmwsIGJhc2VQYXRoIH0gPSByZXEub3B0aW9uc1xuICB0cnkge1xuICAgIGlmICghcHJvdmlkZXIucHJvdGVjdGlvbj8uaW5jbHVkZXMoJ3BrY2UnKSkgeyAvLyBQcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IFBLQ0UsIG5vdGhpbmcgdG8gZG8uXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gU3RhcnRlZCBsb2dpbiBmbG93LCBhZGQgZ2VuZXJhdGVkIHBrY2UgdG8gcmVxLm9wdGlvbnMgYW5kIChlbmNyeXB0ZWQpIGNvZGVfdmVyaWZpZXIgdG8gYSBjb29raWVcbiAgICBjb25zdCBwa2NlID0gcGtjZUNoYWxsZW5nZShQS0NFX0xFTkdUSClcbiAgICBsb2dnZXIuZGVidWcoJ09BVVRIX1NJR05JTl9QUk9URUNUSU9OJywgJ0NyZWF0ZWQgUEtDRSBjaGFsbGVuZ2UvdmVyaWZpZXInLCB7XG4gICAgICAuLi5wa2NlLFxuICAgICAgcGtjZUxlbmd0aDogUEtDRV9MRU5HVEgsXG4gICAgICBtZXRob2Q6IFBLQ0VfQ09ERV9DSEFMTEVOR0VfTUVUSE9EXG4gICAgfSlcblxuICAgIHByb3ZpZGVyLmF1dGhvcml6YXRpb25QYXJhbXMgPSB7XG4gICAgICAuLi5wcm92aWRlci5hdXRob3JpemF0aW9uUGFyYW1zLFxuICAgICAgY29kZV9jaGFsbGVuZ2U6IHBrY2UuY29kZV9jaGFsbGVuZ2UsXG4gICAgICBjb2RlX2NoYWxsZW5nZV9tZXRob2Q6IFBLQ0VfQ09ERV9DSEFMTEVOR0VfTUVUSE9EXG4gICAgfVxuXG4gICAgY29uc3QgZW5jcnlwdGVkQ29kZVZlcmlmaWVyID0gYXdhaXQgand0LmVuY29kZSh7XG4gICAgICAuLi5yZXEub3B0aW9ucy5qd3QsXG4gICAgICBtYXhBZ2U6IFBLQ0VfTUFYX0FHRSxcbiAgICAgIHRva2VuOiB7IGNvZGVfdmVyaWZpZXI6IHBrY2UuY29kZV92ZXJpZmllciB9LFxuICAgICAgZW5jcnlwdGlvbjogdHJ1ZVxuICAgIH0pXG5cbiAgICBjb25zdCBjb29raWVFeHBpcmVzID0gbmV3IERhdGUoKVxuICAgIGNvb2tpZUV4cGlyZXMuc2V0VGltZShjb29raWVFeHBpcmVzLmdldFRpbWUoKSArIChQS0NFX01BWF9BR0UgKiAxMDAwKSlcbiAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm5hbWUsIGVuY3J5cHRlZENvZGVWZXJpZmllciwge1xuICAgICAgZXhwaXJlczogY29va2llRXhwaXJlcy50b0lTT1N0cmluZygpLFxuICAgICAgLi4uY29va2llcy5wa2NlQ29kZVZlcmlmaWVyLm9wdGlvbnNcbiAgICB9KVxuICAgIGxvZ2dlci5kZWJ1ZygnT0FVVEhfU0lHTklOX1BST1RFQ1RJT04nLCAnQ3JlYXRlZCBQS0NFIGNvZGVfdmVyaWZpZXIgc2F2ZWQgaW4gY29va2llJylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1NJR05JTl9PQVVUSF9FUlJPUicsIGVycm9yKVxuICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1PQXV0aFNpZ25pbmApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBoYW5kbGVTaWduaW4sIGhhbmRsZUNhbGxiYWNrIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/oauth/pkce-handler.js\n");

/***/ }),

/***/ "./next-auth/server/lib/oauth/state-handler.js":
/*!*****************************************************!*\
  !*** ./next-auth/server/lib/oauth/state-handler.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"handleCallback\": function() { return /* binding */ handleCallback; },\n/* harmony export */   \"handleSignin\": function() { return /* binding */ handleSignin; }\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/logger */ \"./next-auth/lib/logger.js\");\n/* harmony import */ var _lib_errors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/errors */ \"./next-auth/lib/errors.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * For OAuth 2.0 flows, if the provider supports state,\n * check if state matches the one sent on signin\n * (a hash of the NextAuth.js CSRF token).\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function handleCallback(req, res) {\n  const {\n    csrfToken,\n    provider,\n    baseUrl,\n    basePath\n  } = req.options;\n\n  try {\n    var _provider$protection;\n\n    // Provider does not support state, nothing to do.\n    if (!((_provider$protection = provider.protection) !== null && _provider$protection !== void 0 && _provider$protection.includes('state'))) {\n      return;\n    }\n\n    const state = req.query.state || req.body.state;\n    const expectedState = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(csrfToken).digest('hex');\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.debug('OAUTH_CALLBACK_PROTECTION', 'Comparing received and expected state', {\n      state,\n      expectedState\n    });\n\n    if (state !== expectedState) {\n      throw new _lib_errors__WEBPACK_IMPORTED_MODULE_2__.OAuthCallbackError('Invalid state returned from OAuth provider');\n    }\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.error('STATE_ERROR', error);\n    return res.redirect(`${baseUrl}${basePath}/error?error=OAuthCallback`);\n  }\n}\n/**\n * Adds CSRF token to the authorizationParams.\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function handleSignin(req, res) {\n  const {\n    provider,\n    baseUrl,\n    basePath,\n    csrfToken\n  } = req.options;\n\n  try {\n    var _provider$protection2;\n\n    if (!((_provider$protection2 = provider.protection) !== null && _provider$protection2 !== void 0 && _provider$protection2.includes('state'))) {\n      // Provider does not support state, nothing to do.\n      return;\n    }\n\n    if ('state' in provider) {\n      _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.warn('STATE_OPTION_DEPRECATION', 'The `state` provider option is being replaced with `protection`. See the docs.');\n    } // A hash of the NextAuth.js CSRF token is used as the state\n\n\n    const state = (0,crypto__WEBPACK_IMPORTED_MODULE_0__.createHash)('sha256').update(csrfToken).digest('hex');\n    provider.authorizationParams = _objectSpread(_objectSpread({}, provider.authorizationParams), {}, {\n      state\n    });\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.debug('OAUTH_CALLBACK_PROTECTION', 'Added state to authorization params', {\n      state\n    });\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.error('SIGNIN_OAUTH_ERROR', error);\n    return res.redirect(`${baseUrl}${basePath}/error?error=OAuthSignin`);\n  }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  handleSignin,\n  handleCallback\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvb2F1dGgvc3RhdGUtaGFuZGxlci5qcz9jZDM3Il0sIm5hbWVzIjpbImhhbmRsZUNhbGxiYWNrIiwicmVxIiwicmVzIiwiY3NyZlRva2VuIiwicHJvdmlkZXIiLCJiYXNlVXJsIiwiYmFzZVBhdGgiLCJvcHRpb25zIiwicHJvdGVjdGlvbiIsImluY2x1ZGVzIiwic3RhdGUiLCJxdWVyeSIsImJvZHkiLCJleHBlY3RlZFN0YXRlIiwiY3JlYXRlSGFzaCIsInVwZGF0ZSIsImRpZ2VzdCIsImxvZ2dlciIsIk9BdXRoQ2FsbGJhY2tFcnJvciIsImVycm9yIiwicmVkaXJlY3QiLCJoYW5kbGVTaWduaW4iLCJhdXRob3JpemF0aW9uUGFyYW1zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDTyxlQUFlQSxjQUFmLENBQStCQyxHQUEvQixFQUFvQ0MsR0FBcEMsRUFBeUM7QUFDOUMsUUFBTTtBQUFFQyxhQUFGO0FBQWFDLFlBQWI7QUFBdUJDLFdBQXZCO0FBQWdDQztBQUFoQyxNQUE2Q0wsR0FBRyxDQUFDTSxPQUF2RDs7QUFDQSxNQUFJO0FBQUE7O0FBQ0Y7QUFDQSxRQUFJLDBCQUFDSCxRQUFRLENBQUNJLFVBQVYsaURBQUMscUJBQXFCQyxRQUFyQixDQUE4QixPQUE5QixDQUFELENBQUosRUFBNkM7QUFDM0M7QUFDRDs7QUFFRCxVQUFNQyxLQUFLLEdBQUdULEdBQUcsQ0FBQ1UsS0FBSixDQUFVRCxLQUFWLElBQW1CVCxHQUFHLENBQUNXLElBQUosQ0FBU0YsS0FBMUM7QUFDQSxVQUFNRyxhQUFhLEdBQUdDLGtEQUFVLENBQUMsUUFBRCxDQUFWLENBQXFCQyxNQUFyQixDQUE0QlosU0FBNUIsRUFBdUNhLE1BQXZDLENBQThDLEtBQTlDLENBQXRCO0FBRUFDLDBEQUFBLENBQ0UsMkJBREYsRUFFRSx1Q0FGRixFQUdFO0FBQUVQLFdBQUY7QUFBU0c7QUFBVCxLQUhGOztBQUtBLFFBQUlILEtBQUssS0FBS0csYUFBZCxFQUE2QjtBQUMzQixZQUFNLElBQUlLLDJEQUFKLENBQXVCLDRDQUF2QixDQUFOO0FBQ0Q7QUFDRixHQWpCRCxDQWlCRSxPQUFPQyxLQUFQLEVBQWM7QUFDZEYsMERBQUEsQ0FBYSxhQUFiLEVBQTRCRSxLQUE1QjtBQUNBLFdBQU9qQixHQUFHLENBQUNrQixRQUFKLENBQWMsR0FBRWYsT0FBUSxHQUFFQyxRQUFTLDRCQUFuQyxDQUFQO0FBQ0Q7QUFDRjtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sZUFBZWUsWUFBZixDQUE2QnBCLEdBQTdCLEVBQWtDQyxHQUFsQyxFQUF1QztBQUM1QyxRQUFNO0FBQUVFLFlBQUY7QUFBWUMsV0FBWjtBQUFxQkMsWUFBckI7QUFBK0JIO0FBQS9CLE1BQTZDRixHQUFHLENBQUNNLE9BQXZEOztBQUNBLE1BQUk7QUFBQTs7QUFDRixRQUFJLDJCQUFDSCxRQUFRLENBQUNJLFVBQVYsa0RBQUMsc0JBQXFCQyxRQUFyQixDQUE4QixPQUE5QixDQUFELENBQUosRUFBNkM7QUFBRTtBQUM3QztBQUNEOztBQUVELFFBQUksV0FBV0wsUUFBZixFQUF5QjtBQUN2QmEsMkRBQUEsQ0FDRSwwQkFERixFQUVFLGdGQUZGO0FBSUQsS0FWQyxDQVlGOzs7QUFDQSxVQUFNUCxLQUFLLEdBQUdJLGtEQUFVLENBQUMsUUFBRCxDQUFWLENBQXFCQyxNQUFyQixDQUE0QlosU0FBNUIsRUFBdUNhLE1BQXZDLENBQThDLEtBQTlDLENBQWQ7QUFFQVosWUFBUSxDQUFDa0IsbUJBQVQsbUNBQW9DbEIsUUFBUSxDQUFDa0IsbUJBQTdDO0FBQWtFWjtBQUFsRTtBQUNBTywwREFBQSxDQUNFLDJCQURGLEVBRUUscUNBRkYsRUFHRTtBQUFFUDtBQUFGLEtBSEY7QUFLRCxHQXJCRCxDQXFCRSxPQUFPUyxLQUFQLEVBQWM7QUFDZEYsMERBQUEsQ0FBYSxvQkFBYixFQUFtQ0UsS0FBbkM7QUFDQSxXQUFPakIsR0FBRyxDQUFDa0IsUUFBSixDQUFjLEdBQUVmLE9BQVEsR0FBRUMsUUFBUywwQkFBbkMsQ0FBUDtBQUNEO0FBQ0Y7QUFFRCwrREFBZTtBQUFFZSxjQUFGO0FBQWdCckI7QUFBaEIsQ0FBZiIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvbGliL29hdXRoL3N0YXRlLWhhbmRsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVIYXNoIH0gZnJvbSAnY3J5cHRvJ1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi8uLi8uLi9saWIvbG9nZ2VyJ1xuaW1wb3J0IHsgT0F1dGhDYWxsYmFja0Vycm9yIH0gZnJvbSAnLi4vLi4vLi4vbGliL2Vycm9ycydcblxuLyoqXG4gKiBGb3IgT0F1dGggMi4wIGZsb3dzLCBpZiB0aGUgcHJvdmlkZXIgc3VwcG9ydHMgc3RhdGUsXG4gKiBjaGVjayBpZiBzdGF0ZSBtYXRjaGVzIHRoZSBvbmUgc2VudCBvbiBzaWduaW5cbiAqIChhIGhhc2ggb2YgdGhlIE5leHRBdXRoLmpzIENTUkYgdG9rZW4pLlxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2sgKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgY3NyZlRva2VuLCBwcm92aWRlciwgYmFzZVVybCwgYmFzZVBhdGggfSA9IHJlcS5vcHRpb25zXG4gIHRyeSB7XG4gICAgLy8gUHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBzdGF0ZSwgbm90aGluZyB0byBkby5cbiAgICBpZiAoIXByb3ZpZGVyLnByb3RlY3Rpb24/LmluY2x1ZGVzKCdzdGF0ZScpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHJlcS5xdWVyeS5zdGF0ZSB8fCByZXEuYm9keS5zdGF0ZVxuICAgIGNvbnN0IGV4cGVjdGVkU3RhdGUgPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoY3NyZlRva2VuKS5kaWdlc3QoJ2hleCcpXG5cbiAgICBsb2dnZXIuZGVidWcoXG4gICAgICAnT0FVVEhfQ0FMTEJBQ0tfUFJPVEVDVElPTicsXG4gICAgICAnQ29tcGFyaW5nIHJlY2VpdmVkIGFuZCBleHBlY3RlZCBzdGF0ZScsXG4gICAgICB7IHN0YXRlLCBleHBlY3RlZFN0YXRlIH1cbiAgICApXG4gICAgaWYgKHN0YXRlICE9PSBleHBlY3RlZFN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgT0F1dGhDYWxsYmFja0Vycm9yKCdJbnZhbGlkIHN0YXRlIHJldHVybmVkIGZyb20gT0F1dGggcHJvdmlkZXInKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1NUQVRFX0VSUk9SJywgZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPU9BdXRoQ2FsbGJhY2tgKVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBDU1JGIHRva2VuIHRvIHRoZSBhdXRob3JpemF0aW9uUGFyYW1zLlxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2lnbmluIChyZXEsIHJlcykge1xuICBjb25zdCB7IHByb3ZpZGVyLCBiYXNlVXJsLCBiYXNlUGF0aCwgY3NyZlRva2VuIH0gPSByZXEub3B0aW9uc1xuICB0cnkge1xuICAgIGlmICghcHJvdmlkZXIucHJvdGVjdGlvbj8uaW5jbHVkZXMoJ3N0YXRlJykpIHsgLy8gUHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBzdGF0ZSwgbm90aGluZyB0byBkby5cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICgnc3RhdGUnIGluIHByb3ZpZGVyKSB7XG4gICAgICBsb2dnZXIud2FybihcbiAgICAgICAgJ1NUQVRFX09QVElPTl9ERVBSRUNBVElPTicsXG4gICAgICAgICdUaGUgYHN0YXRlYCBwcm92aWRlciBvcHRpb24gaXMgYmVpbmcgcmVwbGFjZWQgd2l0aCBgcHJvdGVjdGlvbmAuIFNlZSB0aGUgZG9jcy4nXG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQSBoYXNoIG9mIHRoZSBOZXh0QXV0aC5qcyBDU1JGIHRva2VuIGlzIHVzZWQgYXMgdGhlIHN0YXRlXG4gICAgY29uc3Qgc3RhdGUgPSBjcmVhdGVIYXNoKCdzaGEyNTYnKS51cGRhdGUoY3NyZlRva2VuKS5kaWdlc3QoJ2hleCcpXG5cbiAgICBwcm92aWRlci5hdXRob3JpemF0aW9uUGFyYW1zID0geyAuLi5wcm92aWRlci5hdXRob3JpemF0aW9uUGFyYW1zLCBzdGF0ZSB9XG4gICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgJ09BVVRIX0NBTExCQUNLX1BST1RFQ1RJT04nLFxuICAgICAgJ0FkZGVkIHN0YXRlIHRvIGF1dGhvcml6YXRpb24gcGFyYW1zJyxcbiAgICAgIHsgc3RhdGUgfVxuICAgIClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2dnZXIuZXJyb3IoJ1NJR05JTl9PQVVUSF9FUlJPUicsIGVycm9yKVxuICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1PQXV0aFNpZ25pbmApXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBoYW5kbGVTaWduaW4sIGhhbmRsZUNhbGxiYWNrIH1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/oauth/state-handler.js\n");

/***/ }),

/***/ "./next-auth/server/lib/providers.js":
/*!*******************************************!*\
  !*** ./next-auth/server/lib/providers.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ parseProviders; }\n/* harmony export */ });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/** Adds `signinUrl` and `callbackUrl` to each provider. */\nfunction parseProviders({\n  providers = [],\n  baseUrl,\n  basePath\n}) {\n  return providers.map(provider => _objectSpread(_objectSpread({}, provider), {}, {\n    signinUrl: `${baseUrl}${basePath}/signin/${provider.id}`,\n    callbackUrl: `${baseUrl}${basePath}/callback/${provider.id}`\n  }));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvcHJvdmlkZXJzLmpzPzE2MjEiXSwibmFtZXMiOlsicGFyc2VQcm92aWRlcnMiLCJwcm92aWRlcnMiLCJiYXNlVXJsIiwiYmFzZVBhdGgiLCJtYXAiLCJwcm92aWRlciIsInNpZ25pblVybCIsImlkIiwiY2FsbGJhY2tVcmwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNlLFNBQVNBLGNBQVQsQ0FBeUI7QUFBRUMsV0FBUyxHQUFHLEVBQWQ7QUFBa0JDLFNBQWxCO0FBQTJCQztBQUEzQixDQUF6QixFQUFnRTtBQUM3RSxTQUFPRixTQUFTLENBQUNHLEdBQVYsQ0FBZUMsUUFBRCxvQ0FDaEJBLFFBRGdCO0FBRW5CQyxhQUFTLEVBQUcsR0FBRUosT0FBUSxHQUFFQyxRQUFTLFdBQVVFLFFBQVEsQ0FBQ0UsRUFBRyxFQUZwQztBQUduQkMsZUFBVyxFQUFHLEdBQUVOLE9BQVEsR0FBRUMsUUFBUyxhQUFZRSxRQUFRLENBQUNFLEVBQUc7QUFIeEMsSUFBZCxDQUFQO0FBS0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9wcm92aWRlcnMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQWRkcyBgc2lnbmluVXJsYCBhbmQgYGNhbGxiYWNrVXJsYCB0byBlYWNoIHByb3ZpZGVyLiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VQcm92aWRlcnMgKHsgcHJvdmlkZXJzID0gW10sIGJhc2VVcmwsIGJhc2VQYXRoIH0pIHtcbiAgcmV0dXJuIHByb3ZpZGVycy5tYXAoKHByb3ZpZGVyKSA9PiAoe1xuICAgIC4uLnByb3ZpZGVyLFxuICAgIHNpZ25pblVybDogYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9zaWduaW4vJHtwcm92aWRlci5pZH1gLFxuICAgIGNhbGxiYWNrVXJsOiBgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2NhbGxiYWNrLyR7cHJvdmlkZXIuaWR9YFxuICB9KSlcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/providers.js\n");

/***/ }),

/***/ "./next-auth/server/lib/signin/email.js":
/*!**********************************************!*\
  !*** ./next-auth/server/lib/signin/email.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ email; }\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\n\n\n/**\n *\n * @param {string} email\n * @param {import(\"types/providers\").EmailConfig} provider\n * @param {import(\"types/internals\").AppOptions} options\n * @returns\n */\n\nasync function email(email, provider, options) {\n  try {\n    var _await$provider$gener, _provider$generateVer;\n\n    const {\n      baseUrl,\n      basePath,\n      adapter,\n      logger\n    } = options;\n    const {\n      createVerificationRequest\n    } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_1__.default)(await adapter.getAdapter(options), logger); // Prefer provider specific secret, but use default secret if none specified\n\n    const secret = provider.secret || options.secret; // Generate token\n\n    const token = (_await$provider$gener = await ((_provider$generateVer = provider.generateVerificationToken) === null || _provider$generateVer === void 0 ? void 0 : _provider$generateVer.call(provider))) !== null && _await$provider$gener !== void 0 ? _await$provider$gener : (0,crypto__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(32).toString(\"hex\"); // Send email with link containing token (the unhashed version)\n\n    const url = `${baseUrl}${basePath}/callback/${encodeURIComponent(provider.id)}?email=${encodeURIComponent(email)}&token=${encodeURIComponent(token)}`; // @TODO Create invite (send secret so can be hashed)\n\n    await createVerificationRequest(email, url, token, secret, provider, options); // Return promise\n\n    return Promise.resolve();\n  } catch (error) {\n    return Promise.reject(error);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvc2lnbmluL2VtYWlsLmpzP2E5YmUiXSwibmFtZXMiOlsiZW1haWwiLCJwcm92aWRlciIsIm9wdGlvbnMiLCJiYXNlVXJsIiwiYmFzZVBhdGgiLCJhZGFwdGVyIiwibG9nZ2VyIiwiY3JlYXRlVmVyaWZpY2F0aW9uUmVxdWVzdCIsImFkYXB0ZXJFcnJvckhhbmRsZXIiLCJnZXRBZGFwdGVyIiwic2VjcmV0IiwidG9rZW4iLCJnZW5lcmF0ZVZlcmlmaWNhdGlvblRva2VuIiwicmFuZG9tQnl0ZXMiLCJ0b1N0cmluZyIsInVybCIsImVuY29kZVVSSUNvbXBvbmVudCIsImlkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJlcnJvciIsInJlamVjdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDZSxlQUFlQSxLQUFmLENBQXFCQSxLQUFyQixFQUE0QkMsUUFBNUIsRUFBc0NDLE9BQXRDLEVBQStDO0FBQzVELE1BQUk7QUFBQTs7QUFDRixVQUFNO0FBQUVDLGFBQUY7QUFBV0MsY0FBWDtBQUFxQkMsYUFBckI7QUFBOEJDO0FBQTlCLFFBQXlDSixPQUEvQztBQUVBLFVBQU07QUFBRUs7QUFBRixRQUFnQ0MsZ0VBQW1CLENBQ3ZELE1BQU1ILE9BQU8sQ0FBQ0ksVUFBUixDQUFtQlAsT0FBbkIsQ0FEaUQsRUFFdkRJLE1BRnVELENBQXpELENBSEUsQ0FRRjs7QUFDQSxVQUFNSSxNQUFNLEdBQUdULFFBQVEsQ0FBQ1MsTUFBVCxJQUFtQlIsT0FBTyxDQUFDUSxNQUExQyxDQVRFLENBV0Y7O0FBQ0EsVUFBTUMsS0FBSyw0QkFDUixnQ0FBTVYsUUFBUSxDQUFDVyx5QkFBZiwwREFBTSwyQkFBQVgsUUFBUSxDQUFkLENBRFEseUVBRVRZLG1EQUFXLENBQUMsRUFBRCxDQUFYLENBQWdCQyxRQUFoQixDQUF5QixLQUF6QixDQUZGLENBWkUsQ0FnQkY7O0FBQ0EsVUFBTUMsR0FBRyxHQUFJLEdBQUVaLE9BQVEsR0FBRUMsUUFBUyxhQUFZWSxrQkFBa0IsQ0FDOURmLFFBQVEsQ0FBQ2dCLEVBRHFELENBRTlELFVBQVNELGtCQUFrQixDQUFDaEIsS0FBRCxDQUFRLFVBQVNnQixrQkFBa0IsQ0FBQ0wsS0FBRCxDQUFRLEVBRnhFLENBakJFLENBcUJGOztBQUNBLFVBQU1KLHlCQUF5QixDQUM3QlAsS0FENkIsRUFFN0JlLEdBRjZCLEVBRzdCSixLQUg2QixFQUk3QkQsTUFKNkIsRUFLN0JULFFBTDZCLEVBTTdCQyxPQU42QixDQUEvQixDQXRCRSxDQStCRjs7QUFDQSxXQUFPZ0IsT0FBTyxDQUFDQyxPQUFSLEVBQVA7QUFDRCxHQWpDRCxDQWlDRSxPQUFPQyxLQUFQLEVBQWM7QUFDZCxXQUFPRixPQUFPLENBQUNHLE1BQVIsQ0FBZUQsS0FBZixDQUFQO0FBQ0Q7QUFDRiIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvbGliL3NpZ25pbi9lbWFpbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJhbmRvbUJ5dGVzIH0gZnJvbSBcImNyeXB0b1wiXG5pbXBvcnQgYWRhcHRlckVycm9ySGFuZGxlciBmcm9tIFwiLi4vLi4vLi4vYWRhcHRlcnMvZXJyb3ItaGFuZGxlclwiXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9wcm92aWRlcnNcIikuRW1haWxDb25maWd9IHByb3ZpZGVyXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5BcHBPcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBlbWFpbChlbWFpbCwgcHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGJhc2VVcmwsIGJhc2VQYXRoLCBhZGFwdGVyLCBsb2dnZXIgfSA9IG9wdGlvbnNcblxuICAgIGNvbnN0IHsgY3JlYXRlVmVyaWZpY2F0aW9uUmVxdWVzdCB9ID0gYWRhcHRlckVycm9ySGFuZGxlcihcbiAgICAgIGF3YWl0IGFkYXB0ZXIuZ2V0QWRhcHRlcihvcHRpb25zKSxcbiAgICAgIGxvZ2dlclxuICAgIClcblxuICAgIC8vIFByZWZlciBwcm92aWRlciBzcGVjaWZpYyBzZWNyZXQsIGJ1dCB1c2UgZGVmYXVsdCBzZWNyZXQgaWYgbm9uZSBzcGVjaWZpZWRcbiAgICBjb25zdCBzZWNyZXQgPSBwcm92aWRlci5zZWNyZXQgfHwgb3B0aW9ucy5zZWNyZXRcblxuICAgIC8vIEdlbmVyYXRlIHRva2VuXG4gICAgY29uc3QgdG9rZW4gPVxuICAgICAgKGF3YWl0IHByb3ZpZGVyLmdlbmVyYXRlVmVyaWZpY2F0aW9uVG9rZW4/LigpKSA/P1xuICAgICAgcmFuZG9tQnl0ZXMoMzIpLnRvU3RyaW5nKFwiaGV4XCIpXG5cbiAgICAvLyBTZW5kIGVtYWlsIHdpdGggbGluayBjb250YWluaW5nIHRva2VuICh0aGUgdW5oYXNoZWQgdmVyc2lvbilcbiAgICBjb25zdCB1cmwgPSBgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2NhbGxiYWNrLyR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgcHJvdmlkZXIuaWRcbiAgICApfT9lbWFpbD0ke2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCl9JnRva2VuPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuKX1gXG5cbiAgICAvLyBAVE9ETyBDcmVhdGUgaW52aXRlIChzZW5kIHNlY3JldCBzbyBjYW4gYmUgaGFzaGVkKVxuICAgIGF3YWl0IGNyZWF0ZVZlcmlmaWNhdGlvblJlcXVlc3QoXG4gICAgICBlbWFpbCxcbiAgICAgIHVybCxcbiAgICAgIHRva2VuLFxuICAgICAgc2VjcmV0LFxuICAgICAgcHJvdmlkZXIsXG4gICAgICBvcHRpb25zXG4gICAgKVxuXG4gICAgLy8gUmV0dXJuIHByb21pc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/lib/signin/email.js\n");

/***/ }),

/***/ "./next-auth/server/lib/signin/oauth.js":
/*!**********************************************!*\
  !*** ./next-auth/server/lib/signin/oauth.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ getAuthorizationUrl; }\n/* harmony export */ });\n/* harmony import */ var _oauth_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../oauth/client */ \"./next-auth/server/lib/oauth/client.js\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/logger */ \"./next-auth/lib/logger.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/** @param {import(\"types/internals\").NextAuthRequest} req */\n\nasync function getAuthorizationUrl(req) {\n  var _req$query, _provider$version;\n\n  const {\n    provider\n  } = req.options;\n  (_req$query = req.query) === null || _req$query === void 0 ? true : delete _req$query.nextauth;\n\n  const params = _objectSpread(_objectSpread({}, provider.authorizationParams), req.query);\n\n  const client = (0,_oauth_client__WEBPACK_IMPORTED_MODULE_0__.default)(provider);\n\n  if ((_provider$version = provider.version) !== null && _provider$version !== void 0 && _provider$version.startsWith('2.')) {\n    // Handle OAuth v2.x\n    let url = client.getAuthorizeUrl(_objectSpread(_objectSpread({\n      scope: provider.scope\n    }, params), {}, {\n      redirect_uri: provider.callbackUrl\n    })); // If the authorizationUrl specified in the config has query parameters on it\n    // make sure they are included in the URL we return.\n    //\n    // This is a fix for an open issue with the OAuthClient library we are using\n    // which inadvertantly strips them.\n    //\n    // https://github.com/ciaranj/node-oauth/pull/193\n\n    if (provider.authorizationUrl.includes('?')) {\n      const parseUrl = new URL(provider.authorizationUrl);\n      const baseUrl = `${parseUrl.origin}${parseUrl.pathname}?`;\n      url = url.replace(baseUrl, provider.authorizationUrl + '&');\n    }\n\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.debug('GET_AUTHORIZATION_URL', url);\n    return url;\n  }\n\n  try {\n    const tokens = await client.getOAuthRequestToken(params);\n    const url = `${provider.authorizationUrl}?${new URLSearchParams(_objectSpread({\n      oauth_token: tokens.oauth_token,\n      oauth_token_secret: tokens.oauth_token_secret\n    }, tokens.params))}`;\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.debug('GET_AUTHORIZATION_URL', url);\n    return url;\n  } catch (error) {\n    _lib_logger__WEBPACK_IMPORTED_MODULE_1__.default.error('GET_AUTHORIZATION_URL_ERROR', error);\n    throw error;\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9saWIvc2lnbmluL29hdXRoLmpzPzc2YTkiXSwibmFtZXMiOlsiZ2V0QXV0aG9yaXphdGlvblVybCIsInJlcSIsInByb3ZpZGVyIiwib3B0aW9ucyIsInF1ZXJ5IiwibmV4dGF1dGgiLCJwYXJhbXMiLCJhdXRob3JpemF0aW9uUGFyYW1zIiwiY2xpZW50Iiwib0F1dGhDbGllbnQiLCJ2ZXJzaW9uIiwic3RhcnRzV2l0aCIsInVybCIsImdldEF1dGhvcml6ZVVybCIsInNjb3BlIiwicmVkaXJlY3RfdXJpIiwiY2FsbGJhY2tVcmwiLCJhdXRob3JpemF0aW9uVXJsIiwiaW5jbHVkZXMiLCJwYXJzZVVybCIsIlVSTCIsImJhc2VVcmwiLCJvcmlnaW4iLCJwYXRobmFtZSIsInJlcGxhY2UiLCJsb2dnZXIiLCJ0b2tlbnMiLCJnZXRPQXV0aFJlcXVlc3RUb2tlbiIsIlVSTFNlYXJjaFBhcmFtcyIsIm9hdXRoX3Rva2VuIiwib2F1dGhfdG9rZW5fc2VjcmV0IiwiZXJyb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTs7QUFDZSxlQUFlQSxtQkFBZixDQUFvQ0MsR0FBcEMsRUFBeUM7QUFBQTs7QUFDdEQsUUFBTTtBQUFFQztBQUFGLE1BQWVELEdBQUcsQ0FBQ0UsT0FBekI7QUFFQSxnQkFBT0YsR0FBRyxDQUFDRyxLQUFYLG9EQUFPLFdBQVdDLFFBQWxCOztBQUNBLFFBQU1DLE1BQU0sbUNBQ1BKLFFBQVEsQ0FBQ0ssbUJBREYsR0FFUE4sR0FBRyxDQUFDRyxLQUZHLENBQVo7O0FBS0EsUUFBTUksTUFBTSxHQUFHQyxzREFBVyxDQUFDUCxRQUFELENBQTFCOztBQUNBLDJCQUFJQSxRQUFRLENBQUNRLE9BQWIsOENBQUksa0JBQWtCQyxVQUFsQixDQUE2QixJQUE3QixDQUFKLEVBQXdDO0FBQ3RDO0FBQ0EsUUFBSUMsR0FBRyxHQUFHSixNQUFNLENBQUNLLGVBQVA7QUFDUkMsV0FBSyxFQUFFWixRQUFRLENBQUNZO0FBRFIsT0FFTFIsTUFGSztBQUdSUyxrQkFBWSxFQUFFYixRQUFRLENBQUNjO0FBSGYsT0FBVixDQUZzQyxDQVF0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxRQUFJZCxRQUFRLENBQUNlLGdCQUFULENBQTBCQyxRQUExQixDQUFtQyxHQUFuQyxDQUFKLEVBQTZDO0FBQzNDLFlBQU1DLFFBQVEsR0FBRyxJQUFJQyxHQUFKLENBQVFsQixRQUFRLENBQUNlLGdCQUFqQixDQUFqQjtBQUNBLFlBQU1JLE9BQU8sR0FBSSxHQUFFRixRQUFRLENBQUNHLE1BQU8sR0FBRUgsUUFBUSxDQUFDSSxRQUFTLEdBQXZEO0FBQ0FYLFNBQUcsR0FBR0EsR0FBRyxDQUFDWSxPQUFKLENBQVlILE9BQVosRUFBcUJuQixRQUFRLENBQUNlLGdCQUFULEdBQTRCLEdBQWpELENBQU47QUFDRDs7QUFFRFEsMERBQUEsQ0FBYSx1QkFBYixFQUFzQ2IsR0FBdEM7QUFDQSxXQUFPQSxHQUFQO0FBQ0Q7O0FBRUQsTUFBSTtBQUNGLFVBQU1jLE1BQU0sR0FBRyxNQUFNbEIsTUFBTSxDQUFDbUIsb0JBQVAsQ0FBNEJyQixNQUE1QixDQUFyQjtBQUNBLFVBQU1NLEdBQUcsR0FBSSxHQUFFVixRQUFRLENBQUNlLGdCQUFpQixJQUFHLElBQUlXLGVBQUo7QUFDMUNDLGlCQUFXLEVBQUVILE1BQU0sQ0FBQ0csV0FEc0I7QUFFMUNDLHdCQUFrQixFQUFFSixNQUFNLENBQUNJO0FBRmUsT0FHdkNKLE1BQU0sQ0FBQ3BCLE1BSGdDLEVBSXpDLEVBSkg7QUFLQW1CLDBEQUFBLENBQWEsdUJBQWIsRUFBc0NiLEdBQXRDO0FBQ0EsV0FBT0EsR0FBUDtBQUNELEdBVEQsQ0FTRSxPQUFPbUIsS0FBUCxFQUFjO0FBQ2ROLDBEQUFBLENBQWEsNkJBQWIsRUFBNENNLEtBQTVDO0FBQ0EsVUFBTUEsS0FBTjtBQUNEO0FBQ0YiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL2xpYi9zaWduaW4vb2F1dGguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgb0F1dGhDbGllbnQgZnJvbSAnLi4vb2F1dGgvY2xpZW50J1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuLi8uLi8uLi9saWIvbG9nZ2VyJ1xuXG4vKiogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXEgKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25VcmwgKHJlcSkge1xuICBjb25zdCB7IHByb3ZpZGVyIH0gPSByZXEub3B0aW9uc1xuXG4gIGRlbGV0ZSByZXEucXVlcnk/Lm5leHRhdXRoXG4gIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAuLi5wcm92aWRlci5hdXRob3JpemF0aW9uUGFyYW1zLFxuICAgIC4uLnJlcS5xdWVyeVxuICB9XG5cbiAgY29uc3QgY2xpZW50ID0gb0F1dGhDbGllbnQocHJvdmlkZXIpXG4gIGlmIChwcm92aWRlci52ZXJzaW9uPy5zdGFydHNXaXRoKCcyLicpKSB7XG4gICAgLy8gSGFuZGxlIE9BdXRoIHYyLnhcbiAgICBsZXQgdXJsID0gY2xpZW50LmdldEF1dGhvcml6ZVVybCh7XG4gICAgICBzY29wZTogcHJvdmlkZXIuc2NvcGUsXG4gICAgICAuLi5wYXJhbXMsXG4gICAgICByZWRpcmVjdF91cmk6IHByb3ZpZGVyLmNhbGxiYWNrVXJsXG4gICAgfSlcblxuICAgIC8vIElmIHRoZSBhdXRob3JpemF0aW9uVXJsIHNwZWNpZmllZCBpbiB0aGUgY29uZmlnIGhhcyBxdWVyeSBwYXJhbWV0ZXJzIG9uIGl0XG4gICAgLy8gbWFrZSBzdXJlIHRoZXkgYXJlIGluY2x1ZGVkIGluIHRoZSBVUkwgd2UgcmV0dXJuLlxuICAgIC8vXG4gICAgLy8gVGhpcyBpcyBhIGZpeCBmb3IgYW4gb3BlbiBpc3N1ZSB3aXRoIHRoZSBPQXV0aENsaWVudCBsaWJyYXJ5IHdlIGFyZSB1c2luZ1xuICAgIC8vIHdoaWNoIGluYWR2ZXJ0YW50bHkgc3RyaXBzIHRoZW0uXG4gICAgLy9cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2lhcmFuai9ub2RlLW9hdXRoL3B1bGwvMTkzXG4gICAgaWYgKHByb3ZpZGVyLmF1dGhvcml6YXRpb25VcmwuaW5jbHVkZXMoJz8nKSkge1xuICAgICAgY29uc3QgcGFyc2VVcmwgPSBuZXcgVVJMKHByb3ZpZGVyLmF1dGhvcml6YXRpb25VcmwpXG4gICAgICBjb25zdCBiYXNlVXJsID0gYCR7cGFyc2VVcmwub3JpZ2lufSR7cGFyc2VVcmwucGF0aG5hbWV9P2BcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKGJhc2VVcmwsIHByb3ZpZGVyLmF1dGhvcml6YXRpb25VcmwgKyAnJicpXG4gICAgfVxuXG4gICAgbG9nZ2VyLmRlYnVnKCdHRVRfQVVUSE9SSVpBVElPTl9VUkwnLCB1cmwpXG4gICAgcmV0dXJuIHVybFxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBjbGllbnQuZ2V0T0F1dGhSZXF1ZXN0VG9rZW4ocGFyYW1zKVxuICAgIGNvbnN0IHVybCA9IGAke3Byb3ZpZGVyLmF1dGhvcml6YXRpb25Vcmx9PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICBvYXV0aF90b2tlbjogdG9rZW5zLm9hdXRoX3Rva2VuLFxuICAgICAgb2F1dGhfdG9rZW5fc2VjcmV0OiB0b2tlbnMub2F1dGhfdG9rZW5fc2VjcmV0LFxuICAgICAgLi4udG9rZW5zLnBhcmFtc1xuICAgIH0pfWBcbiAgICBsb2dnZXIuZGVidWcoJ0dFVF9BVVRIT1JJWkFUSU9OX1VSTCcsIHVybClcbiAgICByZXR1cm4gdXJsXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nZ2VyLmVycm9yKCdHRVRfQVVUSE9SSVpBVElPTl9VUkxfRVJST1InLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/lib/signin/oauth.js\n");

/***/ }),

/***/ "./next-auth/server/pages/error.js":
/*!*****************************************!*\
  !*** ./next-auth/server/pages/error.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ error; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"preact\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(preact__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _jsxFileName = \"/root/blue-auth/app/next-auth/server/pages/error.js\";\n// @ts-check\n // eslint-disable-line no-unused-vars\n\n/**\n * Renders an error page.\n * @param {{\n *   baseUrl: string\n *   basePath: string\n *   error?: string\n *   res: import(\"types/internals\").NextAuthResponse\n * }} params\n */\n\nfunction error({\n  baseUrl,\n  basePath,\n  error = 'default',\n  res\n}) {\n  var _errors$error$toLower;\n\n  const signinPageUrl = `${baseUrl}${basePath}/signin`;\n  const errors = {\n    default: {\n      statusCode: 200,\n      heading: 'Error',\n      message: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n          className: \"site\",\n          href: baseUrl,\n          children: baseUrl.replace(/^https?:\\/\\//, '')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 16\n      }, this)\n    },\n    configuration: {\n      statusCode: 500,\n      heading: 'Server error',\n      message: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: \"There is a problem with the server configuration.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: \"Check the server logs for more information.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, this)\n    },\n    accessdenied: {\n      statusCode: 403,\n      heading: 'Access Denied',\n      message: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: \"You do not have permission to sign in.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n            className: \"button\",\n            href: signinPageUrl,\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    },\n    verification: {\n      statusCode: 403,\n      heading: 'Unable to sign in',\n      message: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: \"The sign in link is no longer valid.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n          children: \"It may have been used already or it may have expired.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this),\n      signin: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n          className: \"button\",\n          href: signinPageUrl,\n          children: \"Sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }, this)\n    }\n  };\n  const {\n    statusCode,\n    heading,\n    message,\n    signin\n  } = (_errors$error$toLower = errors[error.toLowerCase()]) !== null && _errors$error$toLower !== void 0 ? _errors$error$toLower : errors.default;\n  res.status(statusCode);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    className: \"error\",\n    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n      children: heading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n      className: \"message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), signin]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy9lcnJvci5qcz80NzdhIl0sIm5hbWVzIjpbImVycm9yIiwiYmFzZVVybCIsImJhc2VQYXRoIiwicmVzIiwic2lnbmluUGFnZVVybCIsImVycm9ycyIsImRlZmF1bHQiLCJzdGF0dXNDb2RlIiwiaGVhZGluZyIsIm1lc3NhZ2UiLCJyZXBsYWNlIiwiY29uZmlndXJhdGlvbiIsImFjY2Vzc2RlbmllZCIsInZlcmlmaWNhdGlvbiIsInNpZ25pbiIsInRvTG93ZXJDYXNlIiwic3RhdHVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7Q0FDMkI7O0FBRTNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDZSxTQUFTQSxLQUFULENBQWdCO0FBQUVDLFNBQUY7QUFBV0MsVUFBWDtBQUFxQkYsT0FBSyxHQUFHLFNBQTdCO0FBQXdDRztBQUF4QyxDQUFoQixFQUErRDtBQUFBOztBQUM1RSxRQUFNQyxhQUFhLEdBQUksR0FBRUgsT0FBUSxHQUFFQyxRQUFTLFNBQTVDO0FBRUEsUUFBTUcsTUFBTSxHQUFHO0FBQ2JDLFdBQU8sRUFBRTtBQUNQQyxnQkFBVSxFQUFFLEdBREw7QUFFUEMsYUFBTyxFQUFFLE9BRkY7QUFHUEMsYUFBTyxlQUFFO0FBQUEsK0JBQUc7QUFBRyxtQkFBUyxFQUFDLE1BQWI7QUFBb0IsY0FBSSxFQUFFUixPQUExQjtBQUFBLG9CQUFvQ0EsT0FBTyxDQUFDUyxPQUFSLENBQWdCLGNBQWhCLEVBQWdDLEVBQWhDO0FBQXBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSEYsS0FESTtBQU1iQyxpQkFBYSxFQUFFO0FBQ2JKLGdCQUFVLEVBQUUsR0FEQztBQUViQyxhQUFPLEVBQUUsY0FGSTtBQUdiQyxhQUFPLGVBQ0w7QUFBQSxnQ0FDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFERixlQUVFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUZGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUpXLEtBTkY7QUFnQmJHLGdCQUFZLEVBQUU7QUFDWkwsZ0JBQVUsRUFBRSxHQURBO0FBRVpDLGFBQU8sRUFBRSxlQUZHO0FBR1pDLGFBQU8sZUFDTDtBQUFBLGdDQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQURGLGVBRUU7QUFBQSxpQ0FBRztBQUFHLHFCQUFTLEVBQUMsUUFBYjtBQUFzQixnQkFBSSxFQUFFTCxhQUE1QjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFIO0FBQUE7QUFBQTtBQUFBO0FBQUEsZ0JBRkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSlUsS0FoQkQ7QUEwQmJTLGdCQUFZLEVBQUU7QUFDWk4sZ0JBQVUsRUFBRSxHQURBO0FBRVpDLGFBQU8sRUFBRSxtQkFGRztBQUdaQyxhQUFPLGVBQ0w7QUFBQSxnQ0FDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkFERixlQUVFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQUZGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQUpVO0FBU1pLLFlBQU0sZUFBRTtBQUFBLCtCQUFHO0FBQUcsbUJBQVMsRUFBQyxRQUFiO0FBQXNCLGNBQUksRUFBRVYsYUFBNUI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBSDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVEk7QUExQkQsR0FBZjtBQXVDQSxRQUFNO0FBQUVHLGNBQUY7QUFBY0MsV0FBZDtBQUF1QkMsV0FBdkI7QUFBZ0NLO0FBQWhDLCtCQUEyQ1QsTUFBTSxDQUFDTCxLQUFLLENBQUNlLFdBQU4sRUFBRCxDQUFqRCx5RUFBMEVWLE1BQU0sQ0FBQ0MsT0FBdkY7QUFFQUgsS0FBRyxDQUFDYSxNQUFKLENBQVdULFVBQVg7QUFFQSxzQkFDRTtBQUFLLGFBQVMsRUFBQyxPQUFmO0FBQUEsNEJBQ0U7QUFBQSxnQkFBS0M7QUFBTDtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBREYsZUFFRTtBQUFLLGVBQVMsRUFBQyxTQUFmO0FBQUEsZ0JBQTBCQztBQUExQjtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBRkYsRUFHR0ssTUFISDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFERjtBQU9EIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy9lcnJvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1jaGVja1xuaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCcgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKipcbiAqIFJlbmRlcnMgYW4gZXJyb3IgcGFnZS5cbiAqIEBwYXJhbSB7e1xuICogICBiYXNlVXJsOiBzdHJpbmdcbiAqICAgYmFzZVBhdGg6IHN0cmluZ1xuICogICBlcnJvcj86IHN0cmluZ1xuICogICByZXM6IGltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5OZXh0QXV0aFJlc3BvbnNlXG4gKiB9fSBwYXJhbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXJyb3IgKHsgYmFzZVVybCwgYmFzZVBhdGgsIGVycm9yID0gJ2RlZmF1bHQnLCByZXMgfSkge1xuICBjb25zdCBzaWduaW5QYWdlVXJsID0gYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9zaWduaW5gXG5cbiAgY29uc3QgZXJyb3JzID0ge1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgIGhlYWRpbmc6ICdFcnJvcicsXG4gICAgICBtZXNzYWdlOiA8cD48YSBjbGFzc05hbWU9J3NpdGUnIGhyZWY9e2Jhc2VVcmx9PntiYXNlVXJsLnJlcGxhY2UoL15odHRwcz86XFwvXFwvLywgJycpfTwvYT48L3A+XG4gICAgfSxcbiAgICBjb25maWd1cmF0aW9uOiB7XG4gICAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgICBoZWFkaW5nOiAnU2VydmVyIGVycm9yJyxcbiAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cD5UaGVyZSBpcyBhIHByb2JsZW0gd2l0aCB0aGUgc2VydmVyIGNvbmZpZ3VyYXRpb24uPC9wPlxuICAgICAgICAgIDxwPkNoZWNrIHRoZSBzZXJ2ZXIgbG9ncyBmb3IgbW9yZSBpbmZvcm1hdGlvbi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgIH0sXG4gICAgYWNjZXNzZGVuaWVkOiB7XG4gICAgICBzdGF0dXNDb2RlOiA0MDMsXG4gICAgICBoZWFkaW5nOiAnQWNjZXNzIERlbmllZCcsXG4gICAgICBtZXNzYWdlOiAoXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPHA+WW91IGRvIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gc2lnbiBpbi48L3A+XG4gICAgICAgICAgPHA+PGEgY2xhc3NOYW1lPSdidXR0b24nIGhyZWY9e3NpZ25pblBhZ2VVcmx9PlNpZ24gaW48L2E+PC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICB9LFxuICAgIHZlcmlmaWNhdGlvbjoge1xuICAgICAgc3RhdHVzQ29kZTogNDAzLFxuICAgICAgaGVhZGluZzogJ1VuYWJsZSB0byBzaWduIGluJyxcbiAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8cD5UaGUgc2lnbiBpbiBsaW5rIGlzIG5vIGxvbmdlciB2YWxpZC48L3A+XG4gICAgICAgICAgPHA+SXQgbWF5IGhhdmUgYmVlbiB1c2VkIGFscmVhZHkgb3IgaXQgbWF5IGhhdmUgZXhwaXJlZC48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSxcbiAgICAgIHNpZ25pbjogPHA+PGEgY2xhc3NOYW1lPSdidXR0b24nIGhyZWY9e3NpZ25pblBhZ2VVcmx9PlNpZ24gaW48L2E+PC9wPlxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHsgc3RhdHVzQ29kZSwgaGVhZGluZywgbWVzc2FnZSwgc2lnbmluIH0gPSBlcnJvcnNbZXJyb3IudG9Mb3dlckNhc2UoKV0gPz8gZXJyb3JzLmRlZmF1bHRcblxuICByZXMuc3RhdHVzKHN0YXR1c0NvZGUpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nZXJyb3InPlxuICAgICAgPGgxPntoZWFkaW5nfTwvaDE+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT0nbWVzc2FnZSc+e21lc3NhZ2V9PC9kaXY+XG4gICAgICB7c2lnbmlufVxuICAgIDwvZGl2PlxuICApXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/pages/error.js\n");

/***/ }),

/***/ "./next-auth/server/pages/index.js":
/*!*****************************************!*\
  !*** ./next-auth/server/pages/index.js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ renderPage; }\n/* harmony export */ });\n/* harmony import */ var preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! preact-render-to-string */ \"preact-render-to-string\");\n/* harmony import */ var preact_render_to_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(preact_render_to_string__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _signin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signin */ \"./next-auth/server/pages/signin.js\");\n/* harmony import */ var _signout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signout */ \"./next-auth/server/pages/signout.js\");\n/* harmony import */ var _verify_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./verify-request */ \"./next-auth/server/pages/verify-request.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error */ \"./next-auth/server/pages/error.js\");\n/* harmony import */ var _css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../css */ \"./next-auth/css/index.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n\n/** Takes a request and response, and gives renderable pages */\n\nfunction renderPage(req, res) {\n  const {\n    baseUrl,\n    basePath,\n    callbackUrl,\n    csrfToken,\n    providers,\n    theme\n  } = req.options;\n  res.setHeader('Content-Type', 'text/html');\n\n  function send({\n    html,\n    title\n  }) {\n    res.send(`<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><style>${(0,_css__WEBPACK_IMPORTED_MODULE_5__.default)()}</style><title>${title}</title></head><body class=\"__next-auth-theme-${theme}\"><div class=\"page\">${preact_render_to_string__WEBPACK_IMPORTED_MODULE_0___default()(html)}</div></body></html>`);\n  }\n\n  return {\n    signin(props) {\n      send({\n        html: (0,_signin__WEBPACK_IMPORTED_MODULE_1__.default)(_objectSpread(_objectSpread({\n          csrfToken,\n          providers,\n          callbackUrl\n        }, req.query), props)),\n        title: 'Sign In'\n      });\n    },\n\n    signout(props) {\n      send({\n        html: (0,_signout__WEBPACK_IMPORTED_MODULE_2__.default)(_objectSpread({\n          csrfToken,\n          baseUrl,\n          basePath\n        }, props)),\n        title: 'Sign Out'\n      });\n    },\n\n    verifyRequest(props) {\n      send({\n        html: (0,_verify_request__WEBPACK_IMPORTED_MODULE_3__.default)(_objectSpread({\n          baseUrl\n        }, props)),\n        title: 'Verify Request'\n      });\n    },\n\n    error(props) {\n      send({\n        html: (0,_error__WEBPACK_IMPORTED_MODULE_4__.default)(_objectSpread({\n          basePath,\n          baseUrl,\n          res\n        }, props)),\n        title: 'Error'\n      });\n    }\n\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy9pbmRleC5qcz9jNTI1Il0sIm5hbWVzIjpbInJlbmRlclBhZ2UiLCJyZXEiLCJyZXMiLCJiYXNlVXJsIiwiYmFzZVBhdGgiLCJjYWxsYmFja1VybCIsImNzcmZUb2tlbiIsInByb3ZpZGVycyIsInRoZW1lIiwib3B0aW9ucyIsInNldEhlYWRlciIsInNlbmQiLCJodG1sIiwidGl0bGUiLCJjc3MiLCJyZW5kZXJUb1N0cmluZyIsInNpZ25pbiIsInByb3BzIiwicXVlcnkiLCJzaWdub3V0IiwidmVyaWZ5UmVxdWVzdCIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNlLFNBQVNBLFVBQVQsQ0FBcUJDLEdBQXJCLEVBQTBCQyxHQUExQixFQUErQjtBQUM1QyxRQUFNO0FBQUVDLFdBQUY7QUFBV0MsWUFBWDtBQUFxQkMsZUFBckI7QUFBa0NDLGFBQWxDO0FBQTZDQyxhQUE3QztBQUF3REM7QUFBeEQsTUFBa0VQLEdBQUcsQ0FBQ1EsT0FBNUU7QUFFQVAsS0FBRyxDQUFDUSxTQUFKLENBQWMsY0FBZCxFQUE4QixXQUE5Qjs7QUFDQSxXQUFTQyxJQUFULENBQWU7QUFBRUMsUUFBRjtBQUFRQztBQUFSLEdBQWYsRUFBZ0M7QUFDOUJYLE9BQUcsQ0FBQ1MsSUFBSixDQUFVLGdNQUErTEcsNkNBQUcsRUFBRyxrQkFBaUJELEtBQU0saURBQWdETCxLQUFNLHVCQUFzQk8sOERBQWMsQ0FBQ0gsSUFBRCxDQUFPLHNCQUF2VTtBQUNEOztBQUVELFNBQU87QUFDTEksVUFBTSxDQUFFQyxLQUFGLEVBQVM7QUFDYk4sVUFBSSxDQUFDO0FBQ0hDLFlBQUksRUFBRUksZ0RBQU07QUFBR1YsbUJBQUg7QUFBY0MsbUJBQWQ7QUFBeUJGO0FBQXpCLFdBQXlDSixHQUFHLENBQUNpQixLQUE3QyxHQUF1REQsS0FBdkQsRUFEVDtBQUVISixhQUFLLEVBQUU7QUFGSixPQUFELENBQUo7QUFJRCxLQU5JOztBQU9MTSxXQUFPLENBQUVGLEtBQUYsRUFBUztBQUNkTixVQUFJLENBQUM7QUFDSEMsWUFBSSxFQUFFTyxpREFBTztBQUFHYixtQkFBSDtBQUFjSCxpQkFBZDtBQUF1QkM7QUFBdkIsV0FBb0NhLEtBQXBDLEVBRFY7QUFFSEosYUFBSyxFQUFFO0FBRkosT0FBRCxDQUFKO0FBSUQsS0FaSTs7QUFhTE8saUJBQWEsQ0FBRUgsS0FBRixFQUFTO0FBQ3BCTixVQUFJLENBQUM7QUFDSEMsWUFBSSxFQUFFUSx3REFBYTtBQUFHakI7QUFBSCxXQUFlYyxLQUFmLEVBRGhCO0FBRUhKLGFBQUssRUFBRTtBQUZKLE9BQUQsQ0FBSjtBQUlELEtBbEJJOztBQW1CTFEsU0FBSyxDQUFFSixLQUFGLEVBQVM7QUFDWk4sVUFBSSxDQUFDO0FBQ0hDLFlBQUksRUFBRVMsK0NBQUs7QUFBR2pCLGtCQUFIO0FBQWFELGlCQUFiO0FBQXNCRDtBQUF0QixXQUE4QmUsS0FBOUIsRUFEUjtBQUVISixhQUFLLEVBQUU7QUFGSixPQUFELENBQUo7QUFJRDs7QUF4QkksR0FBUDtBQTBCRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvcGFnZXMvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVuZGVyVG9TdHJpbmcgZnJvbSAncHJlYWN0LXJlbmRlci10by1zdHJpbmcnXG5pbXBvcnQgc2lnbmluIGZyb20gJy4vc2lnbmluJ1xuaW1wb3J0IHNpZ25vdXQgZnJvbSAnLi9zaWdub3V0J1xuaW1wb3J0IHZlcmlmeVJlcXVlc3QgZnJvbSAnLi92ZXJpZnktcmVxdWVzdCdcbmltcG9ydCBlcnJvciBmcm9tICcuL2Vycm9yJ1xuaW1wb3J0IGNzcyBmcm9tICcuLi8uLi9jc3MnXG5cbi8qKiBUYWtlcyBhIHJlcXVlc3QgYW5kIHJlc3BvbnNlLCBhbmQgZ2l2ZXMgcmVuZGVyYWJsZSBwYWdlcyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVuZGVyUGFnZSAocmVxLCByZXMpIHtcbiAgY29uc3QgeyBiYXNlVXJsLCBiYXNlUGF0aCwgY2FsbGJhY2tVcmwsIGNzcmZUb2tlbiwgcHJvdmlkZXJzLCB0aGVtZSB9ID0gcmVxLm9wdGlvbnNcblxuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJylcbiAgZnVuY3Rpb24gc2VuZCAoeyBodG1sLCB0aXRsZSB9KSB7XG4gICAgcmVzLnNlbmQoYDwhRE9DVFlQRSBodG1sPjxodG1sIGxhbmc9XCJlblwiPjxoZWFkPjxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPjxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZVwiPjxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+PHN0eWxlPiR7Y3NzKCl9PC9zdHlsZT48dGl0bGU+JHt0aXRsZX08L3RpdGxlPjwvaGVhZD48Ym9keSBjbGFzcz1cIl9fbmV4dC1hdXRoLXRoZW1lLSR7dGhlbWV9XCI+PGRpdiBjbGFzcz1cInBhZ2VcIj4ke3JlbmRlclRvU3RyaW5nKGh0bWwpfTwvZGl2PjwvYm9keT48L2h0bWw+YClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc2lnbmluIChwcm9wcykge1xuICAgICAgc2VuZCh7XG4gICAgICAgIGh0bWw6IHNpZ25pbih7IGNzcmZUb2tlbiwgcHJvdmlkZXJzLCBjYWxsYmFja1VybCwgLi4ucmVxLnF1ZXJ5LCAuLi5wcm9wcyB9KSxcbiAgICAgICAgdGl0bGU6ICdTaWduIEluJ1xuICAgICAgfSlcbiAgICB9LFxuICAgIHNpZ25vdXQgKHByb3BzKSB7XG4gICAgICBzZW5kKHtcbiAgICAgICAgaHRtbDogc2lnbm91dCh7IGNzcmZUb2tlbiwgYmFzZVVybCwgYmFzZVBhdGgsIC4uLnByb3BzIH0pLFxuICAgICAgICB0aXRsZTogJ1NpZ24gT3V0J1xuICAgICAgfSlcbiAgICB9LFxuICAgIHZlcmlmeVJlcXVlc3QgKHByb3BzKSB7XG4gICAgICBzZW5kKHtcbiAgICAgICAgaHRtbDogdmVyaWZ5UmVxdWVzdCh7IGJhc2VVcmwsIC4uLnByb3BzIH0pLFxuICAgICAgICB0aXRsZTogJ1ZlcmlmeSBSZXF1ZXN0J1xuICAgICAgfSlcbiAgICB9LFxuICAgIGVycm9yIChwcm9wcykge1xuICAgICAgc2VuZCh7XG4gICAgICAgIGh0bWw6IGVycm9yKHsgYmFzZVBhdGgsIGJhc2VVcmwsIHJlcywgLi4ucHJvcHMgfSksXG4gICAgICAgIHRpdGxlOiAnRXJyb3InXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/pages/index.js\n");

/***/ }),

/***/ "./next-auth/server/pages/signin.js":
/*!******************************************!*\
  !*** ./next-auth/server/pages/signin.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ signin; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"preact\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(preact__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _jsxFileName = \"/root/blue-auth/app/next-auth/server/pages/signin.js\";\n // eslint-disable-line no-unused-vars\n\nfunction signin({\n  csrfToken,\n  providers,\n  callbackUrl,\n  email,\n  error: errorType\n}) {\n  var _errors$errorType;\n\n  // We only want to render providers\n  const providersToRender = providers.filter(provider => {\n    if (provider.type === \"oauth\" || provider.type === \"email\") {\n      // Always render oauth and email type providers\n      return true;\n    } else if (provider.type === \"credentials\" && provider.credentials) {\n      // Only render credentials type provider if credentials are defined\n      return true;\n    } // Don't render other provider types\n\n\n    return false;\n  });\n  const errors = {\n    Signin: \"Try signing in with a different account.\",\n    OAuthSignin: \"Try signing in with a different account.\",\n    OAuthCallback: \"Try signing in with a different account.\",\n    OAuthCreateAccount: \"Try signing in with a different account.\",\n    EmailCreateAccount: \"Try signing in with a different account.\",\n    Callback: \"Try signing in with a different account.\",\n    OAuthAccountNotLinked: \"To confirm your identity, sign in with the same account you used originally.\",\n    EmailSignin: \"Check your email inbox.\",\n    CredentialsSignin: \"Sign in failed. Check the details you provided are correct.\",\n    default: \"Unable to sign in.\"\n  };\n  const error = errorType && ((_errors$errorType = errors[errorType]) !== null && _errors$errorType !== void 0 ? _errors$errorType : errors.default);\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    className: \"signin\",\n    children: [error && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n      className: \"error\",\n      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), providersToRender.map((provider, i) => /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n      className: \"provider\",\n      children: [provider.type === \"oauth\" && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        action: provider.signinUrl,\n        method: \"POST\",\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n          type: \"hidden\",\n          name: \"csrfToken\",\n          value: csrfToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this), callbackUrl && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n          type: \"hidden\",\n          name: \"callbackUrl\",\n          value: callbackUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n          type: \"submit\",\n          className: \"button\",\n          children: [\"Sign in with \", provider.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), (provider.type === \"email\" || provider.type === \"credentials\") && i > 0 && providersToRender[i - 1].type !== \"email\" && providersToRender[i - 1].type !== \"credentials\" && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 64\n      }, this), provider.type === \"email\" && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        action: provider.signinUrl,\n        method: \"POST\",\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n          type: \"hidden\",\n          name: \"csrfToken\",\n          value: csrfToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n          for: `input-email-for-${provider.id}-provider`,\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n          id: `input-email-for-${provider.id}-provider`,\n          autoFocus: true,\n          type: \"text\",\n          name: \"email\",\n          value: email,\n          placeholder: \"email@example.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n          type: \"submit\",\n          children: [\"Sign in with \", provider.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), provider.type === \"credentials\" && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        action: provider.callbackUrl,\n        method: \"POST\",\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n          type: \"hidden\",\n          name: \"csrfToken\",\n          value: csrfToken\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), Object.keys(provider.credentials).map(credential => {\n          return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n              for: `input-${credential}-for-${provider.id}-provider`,\n              children: provider.credentials[credential].label || credential\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 21\n            }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n              name: credential,\n              id: `input-${credential}-for-${provider.id}-provider`,\n              type: provider.credentials[credential].type || \"text\",\n              value: provider.credentials[credential].value || \"\",\n              placeholder: provider.credentials[credential].placeholder || \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 21\n            }, this)]\n          }, `input-group-${provider.id}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 19\n          }, this);\n        }), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n          type: \"submit\",\n          children: [\"Sign in with \", provider.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), (provider.type === \"email\" || provider.type === \"credentials\") && i + 1 < providersToRender.length && /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 49\n      }, this)]\n    }, provider.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy9zaWduaW4uanM/MzEyZSJdLCJuYW1lcyI6WyJzaWduaW4iLCJjc3JmVG9rZW4iLCJwcm92aWRlcnMiLCJjYWxsYmFja1VybCIsImVtYWlsIiwiZXJyb3IiLCJlcnJvclR5cGUiLCJwcm92aWRlcnNUb1JlbmRlciIsImZpbHRlciIsInByb3ZpZGVyIiwidHlwZSIsImNyZWRlbnRpYWxzIiwiZXJyb3JzIiwiU2lnbmluIiwiT0F1dGhTaWduaW4iLCJPQXV0aENhbGxiYWNrIiwiT0F1dGhDcmVhdGVBY2NvdW50IiwiRW1haWxDcmVhdGVBY2NvdW50IiwiQ2FsbGJhY2siLCJPQXV0aEFjY291bnROb3RMaW5rZWQiLCJFbWFpbFNpZ25pbiIsIkNyZWRlbnRpYWxzU2lnbmluIiwiZGVmYXVsdCIsIm1hcCIsImkiLCJzaWduaW5VcmwiLCJuYW1lIiwiaWQiLCJPYmplY3QiLCJrZXlzIiwiY3JlZGVudGlhbCIsImxhYmVsIiwidmFsdWUiLCJwbGFjZWhvbGRlciIsImxlbmd0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztDQUEyQjs7QUFFWixTQUFTQSxNQUFULENBQWdCO0FBQzdCQyxXQUQ2QjtBQUU3QkMsV0FGNkI7QUFHN0JDLGFBSDZCO0FBSTdCQyxPQUo2QjtBQUs3QkMsT0FBSyxFQUFFQztBQUxzQixDQUFoQixFQU1aO0FBQUE7O0FBQ0Q7QUFDQSxRQUFNQyxpQkFBaUIsR0FBR0wsU0FBUyxDQUFDTSxNQUFWLENBQWtCQyxRQUFELElBQWM7QUFDdkQsUUFBSUEsUUFBUSxDQUFDQyxJQUFULEtBQWtCLE9BQWxCLElBQTZCRCxRQUFRLENBQUNDLElBQVQsS0FBa0IsT0FBbkQsRUFBNEQ7QUFDMUQ7QUFDQSxhQUFPLElBQVA7QUFDRCxLQUhELE1BR08sSUFBSUQsUUFBUSxDQUFDQyxJQUFULEtBQWtCLGFBQWxCLElBQW1DRCxRQUFRLENBQUNFLFdBQWhELEVBQTZEO0FBQ2xF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O0FBQUE7QUFBQTtBQUFBLG9CQU5GO0FBQUEsYUFBVyxlQUFjeEIsUUFBUSxDQUFDa0IsRUFBRyxFQUFyQztBQUFBO0FBQUE7QUFBQTtBQUFBLGtCQURGO0FBa0JELFNBbkJBLENBRkgsZUFzQkU7QUFBUSxjQUFJLEVBQUMsUUFBYjtBQUFBLHNDQUFvQ2xCLFFBQVEsQ0FBQ2lCLElBQTdDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxnQkF0QkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBbENKLEVBMkRHLENBQUNqQixRQUFRLENBQUNDLElBQVQsS0FBa0IsT0FBbEIsSUFBNkJELFFBQVEsQ0FBQ0MsSUFBVCxLQUFrQixhQUFoRCxLQUNDYyxDQUFDLEdBQUcsQ0FBSixHQUFRakIsaUJBQWlCLENBQUMyQixNQUQzQixpQkFDcUM7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQTVEeEM7QUFBQSxPQUFVekIsUUFBUSxDQUFDa0IsRUFBbkI7QUFBQTtBQUFBO0FBQUE7QUFBQSxZQURELENBTkg7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBREY7QUF5RUQiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL3BhZ2VzL3NpZ25pbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaWduaW4oe1xuICBjc3JmVG9rZW4sXG4gIHByb3ZpZGVycyxcbiAgY2FsbGJhY2tVcmwsXG4gIGVtYWlsLFxuICBlcnJvcjogZXJyb3JUeXBlLFxufSkge1xuICAvLyBXZSBvbmx5IHdhbnQgdG8gcmVuZGVyIHByb3ZpZGVyc1xuICBjb25zdCBwcm92aWRlcnNUb1JlbmRlciA9IHByb3ZpZGVycy5maWx0ZXIoKHByb3ZpZGVyKSA9PiB7XG4gICAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiB8fCBwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIpIHtcbiAgICAgIC8vIEFsd2F5cyByZW5kZXIgb2F1dGggYW5kIGVtYWlsIHR5cGUgcHJvdmlkZXJzXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSBpZiAocHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiICYmIHByb3ZpZGVyLmNyZWRlbnRpYWxzKSB7XG4gICAgICAvLyBPbmx5IHJlbmRlciBjcmVkZW50aWFscyB0eXBlIHByb3ZpZGVyIGlmIGNyZWRlbnRpYWxzIGFyZSBkZWZpbmVkXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgICAvLyBEb24ndCByZW5kZXIgb3RoZXIgcHJvdmlkZXIgdHlwZXNcbiAgICByZXR1cm4gZmFsc2VcbiAgfSlcblxuICBjb25zdCBlcnJvcnMgPSB7XG4gICAgU2lnbmluOiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBPQXV0aFNpZ25pbjogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgT0F1dGhDYWxsYmFjazogXCJUcnkgc2lnbmluZyBpbiB3aXRoIGEgZGlmZmVyZW50IGFjY291bnQuXCIsXG4gICAgT0F1dGhDcmVhdGVBY2NvdW50OiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBFbWFpbENyZWF0ZUFjY291bnQ6IFwiVHJ5IHNpZ25pbmcgaW4gd2l0aCBhIGRpZmZlcmVudCBhY2NvdW50LlwiLFxuICAgIENhbGxiYWNrOiBcIlRyeSBzaWduaW5nIGluIHdpdGggYSBkaWZmZXJlbnQgYWNjb3VudC5cIixcbiAgICBPQXV0aEFjY291bnROb3RMaW5rZWQ6XG4gICAgICBcIlRvIGNvbmZpcm0geW91ciBpZGVudGl0eSwgc2lnbiBpbiB3aXRoIHRoZSBzYW1lIGFjY291bnQgeW91IHVzZWQgb3JpZ2luYWxseS5cIixcbiAgICBFbWFpbFNpZ25pbjogXCJDaGVjayB5b3VyIGVtYWlsIGluYm94LlwiLFxuICAgIENyZWRlbnRpYWxzU2lnbmluOlxuICAgICAgXCJTaWduIGluIGZhaWxlZC4gQ2hlY2sgdGhlIGRldGFpbHMgeW91IHByb3ZpZGVkIGFyZSBjb3JyZWN0LlwiLFxuICAgIGRlZmF1bHQ6IFwiVW5hYmxlIHRvIHNpZ24gaW4uXCIsXG4gIH1cblxuICBjb25zdCBlcnJvciA9IGVycm9yVHlwZSAmJiAoZXJyb3JzW2Vycm9yVHlwZV0gPz8gZXJyb3JzLmRlZmF1bHQpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZ25pblwiPlxuICAgICAge2Vycm9yICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvclwiPlxuICAgICAgICAgIDxwPntlcnJvcn08L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIHtwcm92aWRlcnNUb1JlbmRlci5tYXAoKHByb3ZpZGVyLCBpKSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtwcm92aWRlci5pZH0gY2xhc3NOYW1lPVwicHJvdmlkZXJcIj5cbiAgICAgICAgICB7cHJvdmlkZXIudHlwZSA9PT0gXCJvYXV0aFwiICYmIChcbiAgICAgICAgICAgIDxmb3JtIGFjdGlvbj17cHJvdmlkZXIuc2lnbmluVXJsfSBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNzcmZUb2tlblwiIHZhbHVlPXtjc3JmVG9rZW59IC8+XG4gICAgICAgICAgICAgIHtjYWxsYmFja1VybCAmJiAoXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiY2FsbGJhY2tVcmxcIiB2YWx1ZT17Y2FsbGJhY2tVcmx9IC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIFNpZ24gaW4gd2l0aCB7cHJvdmlkZXIubmFtZX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7KHByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIiB8fCBwcm92aWRlci50eXBlID09PSBcImNyZWRlbnRpYWxzXCIpICYmXG4gICAgICAgICAgICBpID4gMCAmJlxuICAgICAgICAgICAgcHJvdmlkZXJzVG9SZW5kZXJbaSAtIDFdLnR5cGUgIT09IFwiZW1haWxcIiAmJlxuICAgICAgICAgICAgcHJvdmlkZXJzVG9SZW5kZXJbaSAtIDFdLnR5cGUgIT09IFwiY3JlZGVudGlhbHNcIiAmJiA8aHIgLz59XG4gICAgICAgICAge3Byb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIiAmJiAoXG4gICAgICAgICAgICA8Zm9ybSBhY3Rpb249e3Byb3ZpZGVyLnNpZ25pblVybH0gbWV0aG9kPVwiUE9TVFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJjc3JmVG9rZW5cIiB2YWx1ZT17Y3NyZlRva2VufSAvPlxuICAgICAgICAgICAgICA8bGFiZWwgZm9yPXtgaW5wdXQtZW1haWwtZm9yLSR7cHJvdmlkZXIuaWR9LXByb3ZpZGVyYH0+XG4gICAgICAgICAgICAgICAgRW1haWxcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgaWQ9e2BpbnB1dC1lbWFpbC1mb3ItJHtwcm92aWRlci5pZH0tcHJvdmlkZXJgfVxuICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImVtYWlsQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U2lnbiBpbiB3aXRoIHtwcm92aWRlci5uYW1lfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICl9XG4gICAgICAgICAge3Byb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIiAmJiAoXG4gICAgICAgICAgICA8Zm9ybSBhY3Rpb249e3Byb3ZpZGVyLmNhbGxiYWNrVXJsfSBtZXRob2Q9XCJQT1NUXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cImNzcmZUb2tlblwiIHZhbHVlPXtjc3JmVG9rZW59IC8+XG4gICAgICAgICAgICAgIHtPYmplY3Qua2V5cyhwcm92aWRlci5jcmVkZW50aWFscykubWFwKChjcmVkZW50aWFsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtgaW5wdXQtZ3JvdXAtJHtwcm92aWRlci5pZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgZm9yPXtgaW5wdXQtJHtjcmVkZW50aWFsfS1mb3ItJHtwcm92aWRlci5pZH0tcHJvdmlkZXJgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3Byb3ZpZGVyLmNyZWRlbnRpYWxzW2NyZWRlbnRpYWxdLmxhYmVsIHx8IGNyZWRlbnRpYWx9XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2NyZWRlbnRpYWx9XG4gICAgICAgICAgICAgICAgICAgICAgaWQ9e2BpbnB1dC0ke2NyZWRlbnRpYWx9LWZvci0ke3Byb3ZpZGVyLmlkfS1wcm92aWRlcmB9XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT17cHJvdmlkZXIuY3JlZGVudGlhbHNbY3JlZGVudGlhbF0udHlwZSB8fCBcInRleHRcIn1cbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cHJvdmlkZXIuY3JlZGVudGlhbHNbY3JlZGVudGlhbF0udmFsdWUgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlci5jcmVkZW50aWFsc1tjcmVkZW50aWFsXS5wbGFjZWhvbGRlciB8fCBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwic3VibWl0XCI+U2lnbiBpbiB3aXRoIHtwcm92aWRlci5uYW1lfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgICl9XG4gICAgICAgICAgeyhwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIgfHwgcHJvdmlkZXIudHlwZSA9PT0gXCJjcmVkZW50aWFsc1wiKSAmJlxuICAgICAgICAgICAgaSArIDEgPCBwcm92aWRlcnNUb1JlbmRlci5sZW5ndGggJiYgPGhyIC8+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/pages/signin.js\n");

/***/ }),

/***/ "./next-auth/server/pages/signout.js":
/*!*******************************************!*\
  !*** ./next-auth/server/pages/signout.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ signout; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"preact\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(preact__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _jsxFileName = \"/root/blue-auth/app/next-auth/server/pages/signout.js\";\n // eslint-disable-line no-unused-vars\n\nfunction signout({\n  baseUrl,\n  basePath,\n  csrfToken\n}) {\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    className: \"signout\",\n    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n      children: \"Are you sure you want to sign out?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n      action: `${baseUrl}${basePath}/signout`,\n      method: \"POST\",\n      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: \"hidden\",\n        name: \"csrfToken\",\n        value: csrfToken\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 9\n      }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        type: \"submit\",\n        children: \"Sign out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 9,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy9zaWdub3V0LmpzP2Q0NDkiXSwibmFtZXMiOlsic2lnbm91dCIsImJhc2VVcmwiLCJiYXNlUGF0aCIsImNzcmZUb2tlbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztDQUEyQjs7QUFFWixTQUFTQSxPQUFULENBQWtCO0FBQUVDLFNBQUY7QUFBV0MsVUFBWDtBQUFxQkM7QUFBckIsQ0FBbEIsRUFBb0Q7QUFDakUsc0JBQ0U7QUFBSyxhQUFTLEVBQUMsU0FBZjtBQUFBLDRCQUNFO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBREYsZUFFRTtBQUFNLFlBQU0sRUFBRyxHQUFFRixPQUFRLEdBQUVDLFFBQVMsVUFBcEM7QUFBK0MsWUFBTSxFQUFDLE1BQXREO0FBQUEsOEJBQ0U7QUFBTyxZQUFJLEVBQUMsUUFBWjtBQUFxQixZQUFJLEVBQUMsV0FBMUI7QUFBc0MsYUFBSyxFQUFFQztBQUE3QztBQUFBO0FBQUE7QUFBQTtBQUFBLGNBREYsZUFFRTtBQUFRLFlBQUksRUFBQyxRQUFiO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGNBRkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBRkY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBREY7QUFTRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvcGFnZXMvc2lnbm91dC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2lnbm91dCAoeyBiYXNlVXJsLCBiYXNlUGF0aCwgY3NyZlRva2VuIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT0nc2lnbm91dCc+XG4gICAgICA8aDE+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNpZ24gb3V0PzwvaDE+XG4gICAgICA8Zm9ybSBhY3Rpb249e2Ake2Jhc2VVcmx9JHtiYXNlUGF0aH0vc2lnbm91dGB9IG1ldGhvZD0nUE9TVCc+XG4gICAgICAgIDxpbnB1dCB0eXBlPSdoaWRkZW4nIG5hbWU9J2NzcmZUb2tlbicgdmFsdWU9e2NzcmZUb2tlbn0gLz5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPSdzdWJtaXQnPlNpZ24gb3V0PC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/pages/signout.js\n");

/***/ }),

/***/ "./next-auth/server/pages/verify-request.js":
/*!**************************************************!*\
  !*** ./next-auth/server/pages/verify-request.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ verifyRequest; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! preact */ \"preact\");\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(preact__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _jsxFileName = \"/root/blue-auth/app/next-auth/server/pages/verify-request.js\";\n // eslint-disable-line no-unused-vars\n\nfunction verifyRequest({\n  baseUrl\n}) {\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    className: \"verify-request\",\n    children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n      children: \"Check your email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n      children: \"A sign in link has been sent to your email address.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 7\n    }, this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n      children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n        className: \"site\",\n        href: baseUrl,\n        children: baseUrl.replace(/^https?:\\/\\//, '')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 8,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9wYWdlcy92ZXJpZnktcmVxdWVzdC5qcz9lZDk0Il0sIm5hbWVzIjpbInZlcmlmeVJlcXVlc3QiLCJiYXNlVXJsIiwicmVwbGFjZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztDQUEyQjs7QUFFWixTQUFTQSxhQUFULENBQXdCO0FBQUVDO0FBQUYsQ0FBeEIsRUFBcUM7QUFDbEQsc0JBQ0U7QUFBSyxhQUFTLEVBQUMsZ0JBQWY7QUFBQSw0QkFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxZQURGLGVBRUU7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsWUFGRixlQUdFO0FBQUEsNkJBQUc7QUFBRyxpQkFBUyxFQUFDLE1BQWI7QUFBb0IsWUFBSSxFQUFFQSxPQUExQjtBQUFBLGtCQUFvQ0EsT0FBTyxDQUFDQyxPQUFSLENBQWdCLGNBQWhCLEVBQWdDLEVBQWhDO0FBQXBDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBSDtBQUFBO0FBQUE7QUFBQTtBQUFBLFlBSEY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFVBREY7QUFPRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvcGFnZXMvdmVyaWZ5LXJlcXVlc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0JyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHZlcmlmeVJlcXVlc3QgKHsgYmFzZVVybCB9KSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9J3ZlcmlmeS1yZXF1ZXN0Jz5cbiAgICAgIDxoMT5DaGVjayB5b3VyIGVtYWlsPC9oMT5cbiAgICAgIDxwPkEgc2lnbiBpbiBsaW5rIGhhcyBiZWVuIHNlbnQgdG8geW91ciBlbWFpbCBhZGRyZXNzLjwvcD5cbiAgICAgIDxwPjxhIGNsYXNzTmFtZT0nc2l0ZScgaHJlZj17YmFzZVVybH0+e2Jhc2VVcmwucmVwbGFjZSgvXmh0dHBzPzpcXC9cXC8vLCAnJyl9PC9hPjwvcD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/pages/verify-request.js\n");

/***/ }),

/***/ "./next-auth/server/routes/callback.js":
/*!*********************************************!*\
  !*** ./next-auth/server/routes/callback.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ callback; }\n/* harmony export */ });\n/* harmony import */ var _lib_oauth_callback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/oauth/callback */ \"./next-auth/server/lib/oauth/callback.js\");\n/* harmony import */ var _lib_callback_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/callback-handler */ \"./next-auth/server/lib/callback-handler.js\");\n/* harmony import */ var _lib_cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/cookie */ \"./next-auth/server/lib/cookie.js\");\n/* harmony import */ var _lib_dispatch_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/dispatch-event */ \"./next-auth/server/lib/dispatch-event.js\");\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n\n\n/**\n * Handle callbacks from login services\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function callback(req, res) {\n  var _req$cookies$cookies$, _req$cookies;\n\n  const {\n    provider,\n    adapter,\n    baseUrl,\n    basePath,\n    secret,\n    cookies,\n    callbackUrl,\n    pages,\n    jwt,\n    events,\n    callbacks,\n    session: {\n      jwt: useJwtSession,\n      maxAge: sessionMaxAge\n    },\n    logger\n  } = req.options; // Get session ID (if set)\n\n  const sessionToken = (_req$cookies$cookies$ = (_req$cookies = req.cookies) === null || _req$cookies === void 0 ? void 0 : _req$cookies[cookies.sessionToken.name]) !== null && _req$cookies$cookies$ !== void 0 ? _req$cookies$cookies$ : null;\n\n  if (provider.type === \"oauth\") {\n    try {\n      const {\n        profile,\n        account,\n        OAuthProfile\n      } = await (0,_lib_oauth_callback__WEBPACK_IMPORTED_MODULE_0__.default)(req);\n\n      try {\n        // Make it easier to debug when adding a new provider\n        logger.debug(\"OAUTH_CALLBACK_RESPONSE\", {\n          profile,\n          account,\n          OAuthProfile\n        }); // If we don't have a profile object then either something went wrong\n        // or the user cancelled signing in. We don't know which, so we just\n        // direct the user to the signin page for now. We could do something\n        // else in future.\n        //\n        // Note: In oAuthCallback an error is logged with debug info, so it\n        // should at least be visible to developers what happened if it is an\n        // error with the provider.\n\n        if (!profile) {\n          return res.redirect(`${baseUrl}${basePath}/signin`);\n        } // Check if user is allowed to sign in\n        // Attempt to get Profile from OAuth provider details before invoking\n        // signIn callback - but if no user object is returned, that is fine\n        // (that just means it's a new user signing in for the first time).\n\n\n        let userOrProfile = profile;\n\n        if (adapter) {\n          const {\n            getUserByProviderAccountId\n          } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_4__.default)(await adapter.getAdapter(req.options), logger);\n          const userFromProviderAccountId = await getUserByProviderAccountId(account.provider, account.id);\n\n          if (userFromProviderAccountId) {\n            userOrProfile = userFromProviderAccountId;\n          }\n        }\n\n        try {\n          const signInCallbackResponse = await callbacks.signIn(userOrProfile, account, OAuthProfile);\n\n          if (signInCallbackResponse === false) {\n            return res.redirect(`${baseUrl}${basePath}/error?error=AccessDenied`);\n          } else if (typeof signInCallbackResponse === \"string\") {\n            return res.redirect(signInCallbackResponse);\n          }\n        } catch (error) {\n          if (error instanceof Error) {\n            return res.redirect(`${baseUrl}${basePath}/error?error=${encodeURIComponent(error.message)}`);\n          } // TODO: Remove in a future major release\n\n\n          logger.warn(\"SIGNIN_CALLBACK_REJECT_REDIRECT\");\n          return res.redirect(error);\n        } // Sign user in\n\n\n        const {\n          user,\n          session,\n          isNewUser\n        } = await (0,_lib_callback_handler__WEBPACK_IMPORTED_MODULE_1__.default)(sessionToken, profile, account, req.options);\n\n        if (useJwtSession) {\n          var _user$id;\n\n          const defaultJwtPayload = {\n            name: user.name,\n            email: user.email,\n            picture: user.image,\n            uid: user.uid,\n            gid: user.gid,\n            sub: (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()\n          };\n          const jwtPayload = await callbacks.jwt(defaultJwtPayload, user, account, OAuthProfile, isNewUser); // Sign and encrypt token\n\n          const newEncodedJwt = await jwt.encode(_objectSpread(_objectSpread({}, jwt), {}, {\n            token: jwtPayload\n          })); // Set cookie expiry date\n\n          const cookieExpires = new Date();\n          cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n          _lib_cookie__WEBPACK_IMPORTED_MODULE_2__.set(res, cookies.sessionToken.name, newEncodedJwt, _objectSpread({\n            expires: cookieExpires.toISOString()\n          }, cookies.sessionToken.options));\n        } else {\n          // Save Session Token in cookie\n          _lib_cookie__WEBPACK_IMPORTED_MODULE_2__.set(res, cookies.sessionToken.name, session.sessionToken, _objectSpread({\n            expires: session.expires || null\n          }, cookies.sessionToken.options));\n        }\n\n        await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_3__.default)(events.signIn, {\n          user,\n          account,\n          isNewUser\n        }); // Handle first logins on new accounts\n        // e.g. option to send users to a new account landing page on initial login\n        // Note that the callback URL is preserved, so the journey can still be resumed\n\n        if (isNewUser && pages.newUser) {\n          return res.redirect(`${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`);\n        } // Callback URL is already verified at this point, so safe to use if specified\n\n\n        return res.redirect(callbackUrl || baseUrl);\n      } catch (error) {\n        if (error.name === \"AccountNotLinkedError\") {\n          // If the email on the account is already linked, but not with this OAuth account\n          return res.redirect(`${baseUrl}${basePath}/error?error=OAuthAccountNotLinked`);\n        } else if (error.name === \"CreateUserError\") {\n          return res.redirect(`${baseUrl}${basePath}/error?error=OAuthCreateAccount`);\n        }\n\n        logger.error(\"OAUTH_CALLBACK_HANDLER_ERROR\", error);\n        return res.redirect(`${baseUrl}${basePath}/error?error=Callback`);\n      }\n    } catch (error) {\n      if (error.name === \"OAuthCallbackError\") {\n        logger.error(\"CALLBACK_OAUTH_ERROR\", error);\n        return res.redirect(`${baseUrl}${basePath}/error?error=OAuthCallback`);\n      }\n\n      logger.error(\"OAUTH_CALLBACK_ERROR\", error);\n      return res.redirect(`${baseUrl}${basePath}/error?error=Callback`);\n    }\n  } else if (provider.type === \"email\") {\n    try {\n      if (!adapter) {\n        logger.error(\"EMAIL_REQUIRES_ADAPTER_ERROR\");\n        return res.redirect(`${baseUrl}${basePath}/error?error=Configuration`);\n      }\n\n      const {\n        getVerificationRequest,\n        deleteVerificationRequest,\n        getUserByEmail\n      } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_4__.default)(await adapter.getAdapter(req.options), logger);\n      const verificationToken = req.query.token;\n      const email = req.query.email; // Verify email and verification token exist in database\n\n      const invite = await getVerificationRequest(email, verificationToken, secret, provider);\n\n      if (!invite) {\n        return res.redirect(`${baseUrl}${basePath}/error?error=Verification`);\n      } // If verification token is valid, delete verification request token from\n      // the database so it cannot be used again\n\n\n      await deleteVerificationRequest(email, verificationToken, secret, provider); // If is an existing user return a user object (otherwise use placeholder)\n\n      const profile = (await getUserByEmail(email)) || {\n        email\n      };\n      const account = {\n        id: provider.id,\n        type: \"email\",\n        providerAccountId: email\n      }; // Check if user is allowed to sign in\n\n      try {\n        const signInCallbackResponse = await callbacks.signIn(profile, account, {\n          email\n        });\n\n        if (signInCallbackResponse === false) {\n          return res.redirect(`${baseUrl}${basePath}/error?error=AccessDenied`);\n        } else if (typeof signInCallbackResponse === \"string\") {\n          return res.redirect(signInCallbackResponse);\n        }\n      } catch (error) {\n        if (error instanceof Error) {\n          return res.redirect(`${baseUrl}${basePath}/error?error=${encodeURIComponent(error.message)}`);\n        } // TODO: Remove in a future major release\n\n\n        logger.warn(\"SIGNIN_CALLBACK_REJECT_REDIRECT\");\n        return res.redirect(error);\n      } // Sign user in\n\n\n      const {\n        user,\n        session,\n        isNewUser\n      } = await (0,_lib_callback_handler__WEBPACK_IMPORTED_MODULE_1__.default)(sessionToken, profile, account, req.options);\n\n      if (useJwtSession) {\n        var _user$id2;\n\n        const defaultJwtPayload = {\n          name: user.name,\n          email: user.email,\n          picture: user.image,\n          uid: user.uid,\n          gid: user.gid,\n          sub: (_user$id2 = user.id) === null || _user$id2 === void 0 ? void 0 : _user$id2.toString()\n        };\n        const jwtPayload = await callbacks.jwt(defaultJwtPayload, user, account, profile, isNewUser); // Sign and encrypt token\n\n        const newEncodedJwt = await jwt.encode(_objectSpread(_objectSpread({}, jwt), {}, {\n          token: jwtPayload\n        })); // Set cookie expiry date\n\n        const cookieExpires = new Date();\n        cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n        _lib_cookie__WEBPACK_IMPORTED_MODULE_2__.set(res, cookies.sessionToken.name, newEncodedJwt, _objectSpread({\n          expires: cookieExpires.toISOString()\n        }, cookies.sessionToken.options));\n      } else {\n        // Save Session Token in cookie\n        _lib_cookie__WEBPACK_IMPORTED_MODULE_2__.set(res, cookies.sessionToken.name, session.sessionToken, _objectSpread({\n          expires: session.expires || null\n        }, cookies.sessionToken.options));\n      }\n\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_3__.default)(events.signIn, {\n        user,\n        account,\n        isNewUser\n      }); // Handle first logins on new accounts\n      // e.g. option to send users to a new account landing page on initial login\n      // Note that the callback URL is preserved, so the journey can still be resumed\n\n      if (isNewUser && pages.newUser) {\n        return res.redirect(`${pages.newUser}${pages.newUser.includes(\"?\") ? \"&\" : \"?\"}callbackUrl=${encodeURIComponent(callbackUrl)}`);\n      } // Callback URL is already verified at this point, so safe to use if specified\n\n\n      return res.redirect(callbackUrl || baseUrl);\n    } catch (error) {\n      if (error.name === \"CreateUserError\") {\n        return res.redirect(`${baseUrl}${basePath}/error?error=EmailCreateAccount`);\n      }\n\n      logger.error(\"CALLBACK_EMAIL_ERROR\", error);\n      return res.redirect(`${baseUrl}${basePath}/error?error=Callback`);\n    }\n  } else if (provider.type === \"credentials\" && req.method === \"POST\") {\n    var _user$id3;\n\n    if (!useJwtSession) {\n      logger.error(\"CALLBACK_CREDENTIALS_JWT_ERROR\", \"Signin in with credentials is only supported if JSON Web Tokens are enabled\");\n      return res.status(500).redirect(`${baseUrl}${basePath}/error?error=Configuration`);\n    }\n\n    if (!provider.authorize) {\n      logger.error(\"CALLBACK_CREDENTIALS_HANDLER_ERROR\", \"Must define an authorize() handler to use credentials authentication provider\");\n      return res.status(500).redirect(`${baseUrl}${basePath}/error?error=Configuration`);\n    }\n\n    const credentials = req.body;\n    let userObjectReturnedFromAuthorizeHandler;\n\n    try {\n      userObjectReturnedFromAuthorizeHandler = await provider.authorize(credentials, _objectSpread(_objectSpread({}, req), {}, {\n        options: {},\n        cookies: {}\n      }));\n\n      if (!userObjectReturnedFromAuthorizeHandler) {\n        return res.status(401).redirect(`${baseUrl}${basePath}/error?error=CredentialsSignin&provider=${encodeURIComponent(provider.id)}`);\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        return res.redirect(`${baseUrl}${basePath}/error?error=${encodeURIComponent(error.message)}`);\n      }\n\n      return res.redirect(error);\n    }\n\n    const user = userObjectReturnedFromAuthorizeHandler;\n    const account = {\n      id: provider.id,\n      type: \"credentials\"\n    };\n\n    try {\n      const signInCallbackResponse = await callbacks.signIn(user, account, credentials);\n\n      if (signInCallbackResponse === false) {\n        return res.status(403).redirect(`${baseUrl}${basePath}/error?error=AccessDenied`);\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        return res.redirect(`${baseUrl}${basePath}/error?error=${encodeURIComponent(error.message)}`);\n      }\n\n      return res.redirect(error);\n    }\n\n    const defaultJwtPayload = {\n      name: user.name,\n      email: user.email,\n      picture: user.image,\n      uid: user.uid,\n      gid: user.gid,\n      sub: (_user$id3 = user.id) === null || _user$id3 === void 0 ? void 0 : _user$id3.toString()\n    };\n    const jwtPayload = await callbacks.jwt(defaultJwtPayload, user, account, userObjectReturnedFromAuthorizeHandler, false); // Sign and encrypt token\n\n    const newEncodedJwt = await jwt.encode(_objectSpread(_objectSpread({}, jwt), {}, {\n      token: jwtPayload\n    })); // Set cookie expiry date\n\n    const cookieExpires = new Date();\n    cookieExpires.setTime(cookieExpires.getTime() + sessionMaxAge * 1000);\n    _lib_cookie__WEBPACK_IMPORTED_MODULE_2__.set(res, cookies.sessionToken.name, newEncodedJwt, _objectSpread({\n      expires: cookieExpires.toISOString()\n    }, cookies.sessionToken.options));\n    await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_3__.default)(events.signIn, {\n      user,\n      account\n    });\n    return res.redirect(callbackUrl || baseUrl);\n  }\n\n  return res.status(500).end(`Error: Callback for provider type ${provider.type} not supported`);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvY2FsbGJhY2suanM/MGJmZSJdLCJuYW1lcyI6WyJjYWxsYmFjayIsInJlcSIsInJlcyIsInByb3ZpZGVyIiwiYWRhcHRlciIsImJhc2VVcmwiLCJiYXNlUGF0aCIsInNlY3JldCIsImNvb2tpZXMiLCJjYWxsYmFja1VybCIsInBhZ2VzIiwiand0IiwiZXZlbnRzIiwiY2FsbGJhY2tzIiwic2Vzc2lvbiIsInVzZUp3dFNlc3Npb24iLCJtYXhBZ2UiLCJzZXNzaW9uTWF4QWdlIiwibG9nZ2VyIiwib3B0aW9ucyIsInNlc3Npb25Ub2tlbiIsIm5hbWUiLCJ0eXBlIiwicHJvZmlsZSIsImFjY291bnQiLCJPQXV0aFByb2ZpbGUiLCJvQXV0aENhbGxiYWNrIiwiZGVidWciLCJyZWRpcmVjdCIsInVzZXJPclByb2ZpbGUiLCJnZXRVc2VyQnlQcm92aWRlckFjY291bnRJZCIsImFkYXB0ZXJFcnJvckhhbmRsZXIiLCJnZXRBZGFwdGVyIiwidXNlckZyb21Qcm92aWRlckFjY291bnRJZCIsImlkIiwic2lnbkluQ2FsbGJhY2tSZXNwb25zZSIsInNpZ25JbiIsImVycm9yIiwiRXJyb3IiLCJlbmNvZGVVUklDb21wb25lbnQiLCJtZXNzYWdlIiwid2FybiIsInVzZXIiLCJpc05ld1VzZXIiLCJjYWxsYmFja0hhbmRsZXIiLCJkZWZhdWx0Snd0UGF5bG9hZCIsImVtYWlsIiwicGljdHVyZSIsImltYWdlIiwidWlkIiwiZ2lkIiwic3ViIiwidG9TdHJpbmciLCJqd3RQYXlsb2FkIiwibmV3RW5jb2RlZEp3dCIsImVuY29kZSIsInRva2VuIiwiY29va2llRXhwaXJlcyIsIkRhdGUiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImNvb2tpZSIsImV4cGlyZXMiLCJ0b0lTT1N0cmluZyIsImRpc3BhdGNoRXZlbnQiLCJuZXdVc2VyIiwiaW5jbHVkZXMiLCJnZXRWZXJpZmljYXRpb25SZXF1ZXN0IiwiZGVsZXRlVmVyaWZpY2F0aW9uUmVxdWVzdCIsImdldFVzZXJCeUVtYWlsIiwidmVyaWZpY2F0aW9uVG9rZW4iLCJxdWVyeSIsImludml0ZSIsInByb3ZpZGVyQWNjb3VudElkIiwibWV0aG9kIiwic3RhdHVzIiwiYXV0aG9yaXplIiwiY3JlZGVudGlhbHMiLCJib2R5IiwidXNlck9iamVjdFJldHVybmVkRnJvbUF1dGhvcml6ZUhhbmRsZXIiLCJlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLGVBQWVBLFFBQWYsQ0FBd0JDLEdBQXhCLEVBQTZCQyxHQUE3QixFQUFrQztBQUFBOztBQUMvQyxRQUFNO0FBQ0pDLFlBREk7QUFFSkMsV0FGSTtBQUdKQyxXQUhJO0FBSUpDLFlBSkk7QUFLSkMsVUFMSTtBQU1KQyxXQU5JO0FBT0pDLGVBUEk7QUFRSkMsU0FSSTtBQVNKQyxPQVRJO0FBVUpDLFVBVkk7QUFXSkMsYUFYSTtBQVlKQyxXQUFPLEVBQUU7QUFBRUgsU0FBRyxFQUFFSSxhQUFQO0FBQXNCQyxZQUFNLEVBQUVDO0FBQTlCLEtBWkw7QUFhSkM7QUFiSSxNQWNGakIsR0FBRyxDQUFDa0IsT0FkUixDQUQrQyxDQWlCL0M7O0FBQ0EsUUFBTUMsWUFBWSw0Q0FBR25CLEdBQUcsQ0FBQ08sT0FBUCxpREFBRyxhQUFjQSxPQUFPLENBQUNZLFlBQVIsQ0FBcUJDLElBQW5DLENBQUgseUVBQStDLElBQWpFOztBQUVBLE1BQUlsQixRQUFRLENBQUNtQixJQUFULEtBQWtCLE9BQXRCLEVBQStCO0FBQzdCLFFBQUk7QUFDRixZQUFNO0FBQUVDLGVBQUY7QUFBV0MsZUFBWDtBQUFvQkM7QUFBcEIsVUFBcUMsTUFBTUMsNERBQWEsQ0FBQ3pCLEdBQUQsQ0FBOUQ7O0FBQ0EsVUFBSTtBQUNGO0FBQ0FpQixjQUFNLENBQUNTLEtBQVAsQ0FBYSx5QkFBYixFQUF3QztBQUN0Q0osaUJBRHNDO0FBRXRDQyxpQkFGc0M7QUFHdENDO0FBSHNDLFNBQXhDLEVBRkUsQ0FRRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFlBQUksQ0FBQ0YsT0FBTCxFQUFjO0FBQ1osaUJBQU9yQixHQUFHLENBQUMwQixRQUFKLENBQWMsR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyxTQUFuQyxDQUFQO0FBQ0QsU0FsQkMsQ0FvQkY7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLFlBQUl1QixhQUFhLEdBQUdOLE9BQXBCOztBQUNBLFlBQUluQixPQUFKLEVBQWE7QUFDWCxnQkFBTTtBQUFFMEI7QUFBRixjQUFpQ0MsZ0VBQW1CLENBQ3hELE1BQU0zQixPQUFPLENBQUM0QixVQUFSLENBQW1CL0IsR0FBRyxDQUFDa0IsT0FBdkIsQ0FEa0QsRUFFeERELE1BRndELENBQTFEO0FBSUEsZ0JBQU1lLHlCQUF5QixHQUFHLE1BQU1ILDBCQUEwQixDQUNoRU4sT0FBTyxDQUFDckIsUUFEd0QsRUFFaEVxQixPQUFPLENBQUNVLEVBRndELENBQWxFOztBQUlBLGNBQUlELHlCQUFKLEVBQStCO0FBQzdCSix5QkFBYSxHQUFHSSx5QkFBaEI7QUFDRDtBQUNGOztBQUVELFlBQUk7QUFDRixnQkFBTUUsc0JBQXNCLEdBQUcsTUFBTXRCLFNBQVMsQ0FBQ3VCLE1BQVYsQ0FDbkNQLGFBRG1DLEVBRW5DTCxPQUZtQyxFQUduQ0MsWUFIbUMsQ0FBckM7O0FBS0EsY0FBSVUsc0JBQXNCLEtBQUssS0FBL0IsRUFBc0M7QUFDcEMsbUJBQU9qQyxHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRXZCLE9BQVEsR0FBRUMsUUFBUywyQkFEakIsQ0FBUDtBQUdELFdBSkQsTUFJTyxJQUFJLE9BQU82QixzQkFBUCxLQUFrQyxRQUF0QyxFQUFnRDtBQUNyRCxtQkFBT2pDLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYU8sc0JBQWIsQ0FBUDtBQUNEO0FBQ0YsU0FiRCxDQWFFLE9BQU9FLEtBQVAsRUFBYztBQUNkLGNBQUlBLEtBQUssWUFBWUMsS0FBckIsRUFBNEI7QUFDMUIsbUJBQU9wQyxHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyxnQkFBZWlDLGtCQUFrQixDQUNyREYsS0FBSyxDQUFDRyxPQUQrQyxDQUVyRCxFQUhHLENBQVA7QUFLRCxXQVBhLENBUWQ7OztBQUNBdEIsZ0JBQU0sQ0FBQ3VCLElBQVAsQ0FBWSxpQ0FBWjtBQUNBLGlCQUFPdkMsR0FBRyxDQUFDMEIsUUFBSixDQUFhUyxLQUFiLENBQVA7QUFDRCxTQS9EQyxDQWlFRjs7O0FBQ0EsY0FBTTtBQUFFSyxjQUFGO0FBQVE1QixpQkFBUjtBQUFpQjZCO0FBQWpCLFlBQStCLE1BQU1DLDhEQUFlLENBQ3hEeEIsWUFEd0QsRUFFeERHLE9BRndELEVBR3hEQyxPQUh3RCxFQUl4RHZCLEdBQUcsQ0FBQ2tCLE9BSm9ELENBQTFEOztBQU9BLFlBQUlKLGFBQUosRUFBbUI7QUFBQTs7QUFDakIsZ0JBQU04QixpQkFBaUIsR0FBRztBQUN4QnhCLGdCQUFJLEVBQUVxQixJQUFJLENBQUNyQixJQURhO0FBRXhCeUIsaUJBQUssRUFBRUosSUFBSSxDQUFDSSxLQUZZO0FBR3hCQyxtQkFBTyxFQUFFTCxJQUFJLENBQUNNLEtBSFU7QUFJeEJDLGVBQUcsRUFBRVAsSUFBSSxDQUFDTyxHQUpjO0FBS3hCQyxlQUFHLEVBQUVSLElBQUksQ0FBQ1EsR0FMYztBQU14QkMsZUFBRyxjQUFFVCxJQUFJLENBQUNSLEVBQVAsNkNBQUUsU0FBU2tCLFFBQVQ7QUFObUIsV0FBMUI7QUFRQSxnQkFBTUMsVUFBVSxHQUFHLE1BQU14QyxTQUFTLENBQUNGLEdBQVYsQ0FDdkJrQyxpQkFEdUIsRUFFdkJILElBRnVCLEVBR3ZCbEIsT0FIdUIsRUFJdkJDLFlBSnVCLEVBS3ZCa0IsU0FMdUIsQ0FBekIsQ0FUaUIsQ0FpQmpCOztBQUNBLGdCQUFNVyxhQUFhLEdBQUcsTUFBTTNDLEdBQUcsQ0FBQzRDLE1BQUosaUNBQWdCNUMsR0FBaEI7QUFBcUI2QyxpQkFBSyxFQUFFSDtBQUE1QixhQUE1QixDQWxCaUIsQ0FvQmpCOztBQUNBLGdCQUFNSSxhQUFhLEdBQUcsSUFBSUMsSUFBSixFQUF0QjtBQUNBRCx1QkFBYSxDQUFDRSxPQUFkLENBQXNCRixhQUFhLENBQUNHLE9BQWQsS0FBMEIzQyxhQUFhLEdBQUcsSUFBaEU7QUFFQTRDLHNEQUFBLENBQVczRCxHQUFYLEVBQWdCTSxPQUFPLENBQUNZLFlBQVIsQ0FBcUJDLElBQXJDLEVBQTJDaUMsYUFBM0M7QUFDRVEsbUJBQU8sRUFBRUwsYUFBYSxDQUFDTSxXQUFkO0FBRFgsYUFFS3ZELE9BQU8sQ0FBQ1ksWUFBUixDQUFxQkQsT0FGMUI7QUFJRCxTQTVCRCxNQTRCTztBQUNMO0FBQ0EwQyxzREFBQSxDQUFXM0QsR0FBWCxFQUFnQk0sT0FBTyxDQUFDWSxZQUFSLENBQXFCQyxJQUFyQyxFQUEyQ1AsT0FBTyxDQUFDTSxZQUFuRDtBQUNFMEMsbUJBQU8sRUFBRWhELE9BQU8sQ0FBQ2dELE9BQVIsSUFBbUI7QUFEOUIsYUFFS3RELE9BQU8sQ0FBQ1ksWUFBUixDQUFxQkQsT0FGMUI7QUFJRDs7QUFFRCxjQUFNNkMsNERBQWEsQ0FBQ3BELE1BQU0sQ0FBQ3dCLE1BQVIsRUFBZ0I7QUFBRU0sY0FBRjtBQUFRbEIsaUJBQVI7QUFBaUJtQjtBQUFqQixTQUFoQixDQUFuQixDQTdHRSxDQStHRjtBQUNBO0FBQ0E7O0FBQ0EsWUFBSUEsU0FBUyxJQUFJakMsS0FBSyxDQUFDdUQsT0FBdkIsRUFBZ0M7QUFDOUIsaUJBQU8vRCxHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRWxCLEtBQUssQ0FBQ3VELE9BQVEsR0FDZnZELEtBQUssQ0FBQ3VELE9BQU4sQ0FBY0MsUUFBZCxDQUF1QixHQUF2QixJQUE4QixHQUE5QixHQUFvQyxHQUNyQyxlQUFjM0Isa0JBQWtCLENBQUM5QixXQUFELENBQWMsRUFIMUMsQ0FBUDtBQUtELFNBeEhDLENBMEhGOzs7QUFDQSxlQUFPUCxHQUFHLENBQUMwQixRQUFKLENBQWFuQixXQUFXLElBQUlKLE9BQTVCLENBQVA7QUFDRCxPQTVIRCxDQTRIRSxPQUFPZ0MsS0FBUCxFQUFjO0FBQ2QsWUFBSUEsS0FBSyxDQUFDaEIsSUFBTixLQUFlLHVCQUFuQixFQUE0QztBQUMxQztBQUNBLGlCQUFPbkIsR0FBRyxDQUFDMEIsUUFBSixDQUNKLEdBQUV2QixPQUFRLEdBQUVDLFFBQVMsb0NBRGpCLENBQVA7QUFHRCxTQUxELE1BS08sSUFBSStCLEtBQUssQ0FBQ2hCLElBQU4sS0FBZSxpQkFBbkIsRUFBc0M7QUFDM0MsaUJBQU9uQixHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyxpQ0FEakIsQ0FBUDtBQUdEOztBQUNEWSxjQUFNLENBQUNtQixLQUFQLENBQWEsOEJBQWIsRUFBNkNBLEtBQTdDO0FBQ0EsZUFBT25DLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYyxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLHVCQUFuQyxDQUFQO0FBQ0Q7QUFDRixLQTVJRCxDQTRJRSxPQUFPK0IsS0FBUCxFQUFjO0FBQ2QsVUFBSUEsS0FBSyxDQUFDaEIsSUFBTixLQUFlLG9CQUFuQixFQUF5QztBQUN2Q0gsY0FBTSxDQUFDbUIsS0FBUCxDQUFhLHNCQUFiLEVBQXFDQSxLQUFyQztBQUNBLGVBQU9uQyxHQUFHLENBQUMwQixRQUFKLENBQWMsR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyw0QkFBbkMsQ0FBUDtBQUNEOztBQUNEWSxZQUFNLENBQUNtQixLQUFQLENBQWEsc0JBQWIsRUFBcUNBLEtBQXJDO0FBQ0EsYUFBT25DLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYyxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLHVCQUFuQyxDQUFQO0FBQ0Q7QUFDRixHQXJKRCxNQXFKTyxJQUFJSCxRQUFRLENBQUNtQixJQUFULEtBQWtCLE9BQXRCLEVBQStCO0FBQ3BDLFFBQUk7QUFDRixVQUFJLENBQUNsQixPQUFMLEVBQWM7QUFDWmMsY0FBTSxDQUFDbUIsS0FBUCxDQUFhLDhCQUFiO0FBQ0EsZUFBT25DLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYyxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLDRCQUFuQyxDQUFQO0FBQ0Q7O0FBRUQsWUFBTTtBQUNKNkQsOEJBREk7QUFFSkMsaUNBRkk7QUFHSkM7QUFISSxVQUlGdEMsZ0VBQW1CLENBQUMsTUFBTTNCLE9BQU8sQ0FBQzRCLFVBQVIsQ0FBbUIvQixHQUFHLENBQUNrQixPQUF2QixDQUFQLEVBQXdDRCxNQUF4QyxDQUp2QjtBQUtBLFlBQU1vRCxpQkFBaUIsR0FBR3JFLEdBQUcsQ0FBQ3NFLEtBQUosQ0FBVWYsS0FBcEM7QUFDQSxZQUFNVixLQUFLLEdBQUc3QyxHQUFHLENBQUNzRSxLQUFKLENBQVV6QixLQUF4QixDQVpFLENBY0Y7O0FBQ0EsWUFBTTBCLE1BQU0sR0FBRyxNQUFNTCxzQkFBc0IsQ0FDekNyQixLQUR5QyxFQUV6Q3dCLGlCQUZ5QyxFQUd6Qy9ELE1BSHlDLEVBSXpDSixRQUp5QyxDQUEzQzs7QUFNQSxVQUFJLENBQUNxRSxNQUFMLEVBQWE7QUFDWCxlQUFPdEUsR0FBRyxDQUFDMEIsUUFBSixDQUFjLEdBQUV2QixPQUFRLEdBQUVDLFFBQVMsMkJBQW5DLENBQVA7QUFDRCxPQXZCQyxDQXlCRjtBQUNBOzs7QUFDQSxZQUFNOEQseUJBQXlCLENBQzdCdEIsS0FENkIsRUFFN0J3QixpQkFGNkIsRUFHN0IvRCxNQUg2QixFQUk3QkosUUFKNkIsQ0FBL0IsQ0EzQkUsQ0FrQ0Y7O0FBQ0EsWUFBTW9CLE9BQU8sR0FBRyxDQUFDLE1BQU04QyxjQUFjLENBQUN2QixLQUFELENBQXJCLEtBQWlDO0FBQUVBO0FBQUYsT0FBakQ7QUFDQSxZQUFNdEIsT0FBTyxHQUFHO0FBQ2RVLFVBQUUsRUFBRS9CLFFBQVEsQ0FBQytCLEVBREM7QUFFZFosWUFBSSxFQUFFLE9BRlE7QUFHZG1ELHlCQUFpQixFQUFFM0I7QUFITCxPQUFoQixDQXBDRSxDQTBDRjs7QUFDQSxVQUFJO0FBQ0YsY0FBTVgsc0JBQXNCLEdBQUcsTUFBTXRCLFNBQVMsQ0FBQ3VCLE1BQVYsQ0FDbkNiLE9BRG1DLEVBRW5DQyxPQUZtQyxFQUduQztBQUFFc0I7QUFBRixTQUhtQyxDQUFyQzs7QUFLQSxZQUFJWCxzQkFBc0IsS0FBSyxLQUEvQixFQUFzQztBQUNwQyxpQkFBT2pDLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYyxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLDJCQUFuQyxDQUFQO0FBQ0QsU0FGRCxNQUVPLElBQUksT0FBTzZCLHNCQUFQLEtBQWtDLFFBQXRDLEVBQWdEO0FBQ3JELGlCQUFPakMsR0FBRyxDQUFDMEIsUUFBSixDQUFhTyxzQkFBYixDQUFQO0FBQ0Q7QUFDRixPQVhELENBV0UsT0FBT0UsS0FBUCxFQUFjO0FBQ2QsWUFBSUEsS0FBSyxZQUFZQyxLQUFyQixFQUE0QjtBQUMxQixpQkFBT3BDLEdBQUcsQ0FBQzBCLFFBQUosQ0FDSixHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLGdCQUFlaUMsa0JBQWtCLENBQ3JERixLQUFLLENBQUNHLE9BRCtDLENBRXJELEVBSEcsQ0FBUDtBQUtELFNBUGEsQ0FRZDs7O0FBQ0F0QixjQUFNLENBQUN1QixJQUFQLENBQVksaUNBQVo7QUFDQSxlQUFPdkMsR0FBRyxDQUFDMEIsUUFBSixDQUFhUyxLQUFiLENBQVA7QUFDRCxPQWpFQyxDQW1FRjs7O0FBQ0EsWUFBTTtBQUFFSyxZQUFGO0FBQVE1QixlQUFSO0FBQWlCNkI7QUFBakIsVUFBK0IsTUFBTUMsOERBQWUsQ0FDeER4QixZQUR3RCxFQUV4REcsT0FGd0QsRUFHeERDLE9BSHdELEVBSXhEdkIsR0FBRyxDQUFDa0IsT0FKb0QsQ0FBMUQ7O0FBT0EsVUFBSUosYUFBSixFQUFtQjtBQUFBOztBQUNqQixjQUFNOEIsaUJBQWlCLEdBQUc7QUFDeEJ4QixjQUFJLEVBQUVxQixJQUFJLENBQUNyQixJQURhO0FBRXhCeUIsZUFBSyxFQUFFSixJQUFJLENBQUNJLEtBRlk7QUFHeEJDLGlCQUFPLEVBQUVMLElBQUksQ0FBQ00sS0FIVTtBQUl4QkMsYUFBRyxFQUFFUCxJQUFJLENBQUNPLEdBSmM7QUFLeEJDLGFBQUcsRUFBRVIsSUFBSSxDQUFDUSxHQUxjO0FBTXhCQyxhQUFHLGVBQUVULElBQUksQ0FBQ1IsRUFBUCw4Q0FBRSxVQUFTa0IsUUFBVDtBQU5tQixTQUExQjtBQVFBLGNBQU1DLFVBQVUsR0FBRyxNQUFNeEMsU0FBUyxDQUFDRixHQUFWLENBQ3ZCa0MsaUJBRHVCLEVBRXZCSCxJQUZ1QixFQUd2QmxCLE9BSHVCLEVBSXZCRCxPQUp1QixFQUt2Qm9CLFNBTHVCLENBQXpCLENBVGlCLENBaUJqQjs7QUFDQSxjQUFNVyxhQUFhLEdBQUcsTUFBTTNDLEdBQUcsQ0FBQzRDLE1BQUosaUNBQWdCNUMsR0FBaEI7QUFBcUI2QyxlQUFLLEVBQUVIO0FBQTVCLFdBQTVCLENBbEJpQixDQW9CakI7O0FBQ0EsY0FBTUksYUFBYSxHQUFHLElBQUlDLElBQUosRUFBdEI7QUFDQUQscUJBQWEsQ0FBQ0UsT0FBZCxDQUFzQkYsYUFBYSxDQUFDRyxPQUFkLEtBQTBCM0MsYUFBYSxHQUFHLElBQWhFO0FBRUE0QyxvREFBQSxDQUFXM0QsR0FBWCxFQUFnQk0sT0FBTyxDQUFDWSxZQUFSLENBQXFCQyxJQUFyQyxFQUEyQ2lDLGFBQTNDO0FBQ0VRLGlCQUFPLEVBQUVMLGFBQWEsQ0FBQ00sV0FBZDtBQURYLFdBRUt2RCxPQUFPLENBQUNZLFlBQVIsQ0FBcUJELE9BRjFCO0FBSUQsT0E1QkQsTUE0Qk87QUFDTDtBQUNBMEMsb0RBQUEsQ0FBVzNELEdBQVgsRUFBZ0JNLE9BQU8sQ0FBQ1ksWUFBUixDQUFxQkMsSUFBckMsRUFBMkNQLE9BQU8sQ0FBQ00sWUFBbkQ7QUFDRTBDLGlCQUFPLEVBQUVoRCxPQUFPLENBQUNnRCxPQUFSLElBQW1CO0FBRDlCLFdBRUt0RCxPQUFPLENBQUNZLFlBQVIsQ0FBcUJELE9BRjFCO0FBSUQ7O0FBRUQsWUFBTTZDLDREQUFhLENBQUNwRCxNQUFNLENBQUN3QixNQUFSLEVBQWdCO0FBQUVNLFlBQUY7QUFBUWxCLGVBQVI7QUFBaUJtQjtBQUFqQixPQUFoQixDQUFuQixDQS9HRSxDQWlIRjtBQUNBO0FBQ0E7O0FBQ0EsVUFBSUEsU0FBUyxJQUFJakMsS0FBSyxDQUFDdUQsT0FBdkIsRUFBZ0M7QUFDOUIsZUFBTy9ELEdBQUcsQ0FBQzBCLFFBQUosQ0FDSixHQUFFbEIsS0FBSyxDQUFDdUQsT0FBUSxHQUNmdkQsS0FBSyxDQUFDdUQsT0FBTixDQUFjQyxRQUFkLENBQXVCLEdBQXZCLElBQThCLEdBQTlCLEdBQW9DLEdBQ3JDLGVBQWMzQixrQkFBa0IsQ0FBQzlCLFdBQUQsQ0FBYyxFQUgxQyxDQUFQO0FBS0QsT0ExSEMsQ0E0SEY7OztBQUNBLGFBQU9QLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYW5CLFdBQVcsSUFBSUosT0FBNUIsQ0FBUDtBQUNELEtBOUhELENBOEhFLE9BQU9nQyxLQUFQLEVBQWM7QUFDZCxVQUFJQSxLQUFLLENBQUNoQixJQUFOLEtBQWUsaUJBQW5CLEVBQXNDO0FBQ3BDLGVBQU9uQixHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyxpQ0FEakIsQ0FBUDtBQUdEOztBQUNEWSxZQUFNLENBQUNtQixLQUFQLENBQWEsc0JBQWIsRUFBcUNBLEtBQXJDO0FBQ0EsYUFBT25DLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYyxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLHVCQUFuQyxDQUFQO0FBQ0Q7QUFDRixHQXhJTSxNQXdJQSxJQUFJSCxRQUFRLENBQUNtQixJQUFULEtBQWtCLGFBQWxCLElBQW1DckIsR0FBRyxDQUFDeUUsTUFBSixLQUFlLE1BQXRELEVBQThEO0FBQUE7O0FBQ25FLFFBQUksQ0FBQzNELGFBQUwsRUFBb0I7QUFDbEJHLFlBQU0sQ0FBQ21CLEtBQVAsQ0FDRSxnQ0FERixFQUVFLDZFQUZGO0FBSUEsYUFBT25DLEdBQUcsQ0FDUHlFLE1BREksQ0FDRyxHQURILEVBRUovQyxRQUZJLENBRU0sR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyw0QkFGM0IsQ0FBUDtBQUdEOztBQUVELFFBQUksQ0FBQ0gsUUFBUSxDQUFDeUUsU0FBZCxFQUF5QjtBQUN2QjFELFlBQU0sQ0FBQ21CLEtBQVAsQ0FDRSxvQ0FERixFQUVFLCtFQUZGO0FBSUEsYUFBT25DLEdBQUcsQ0FDUHlFLE1BREksQ0FDRyxHQURILEVBRUovQyxRQUZJLENBRU0sR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyw0QkFGM0IsQ0FBUDtBQUdEOztBQUVELFVBQU11RSxXQUFXLEdBQUc1RSxHQUFHLENBQUM2RSxJQUF4QjtBQUVBLFFBQUlDLHNDQUFKOztBQUNBLFFBQUk7QUFDRkEsNENBQXNDLEdBQUcsTUFBTTVFLFFBQVEsQ0FBQ3lFLFNBQVQsQ0FDN0NDLFdBRDZDLGtDQUM1QjVFLEdBRDRCO0FBQ3ZCa0IsZUFBTyxFQUFFLEVBRGM7QUFDVlgsZUFBTyxFQUFFO0FBREMsU0FBL0M7O0FBR0EsVUFBSSxDQUFDdUUsc0NBQUwsRUFBNkM7QUFDM0MsZUFBTzdFLEdBQUcsQ0FDUHlFLE1BREksQ0FDRyxHQURILEVBRUovQyxRQUZJLENBR0YsR0FBRXZCLE9BQVEsR0FBRUMsUUFBUywyQ0FBMENpQyxrQkFBa0IsQ0FDaEZwQyxRQUFRLENBQUMrQixFQUR1RSxDQUVoRixFQUxDLENBQVA7QUFPRDtBQUNGLEtBYkQsQ0FhRSxPQUFPRyxLQUFQLEVBQWM7QUFDZCxVQUFJQSxLQUFLLFlBQVlDLEtBQXJCLEVBQTRCO0FBQzFCLGVBQU9wQyxHQUFHLENBQUMwQixRQUFKLENBQ0osR0FBRXZCLE9BQVEsR0FBRUMsUUFBUyxnQkFBZWlDLGtCQUFrQixDQUNyREYsS0FBSyxDQUFDRyxPQUQrQyxDQUVyRCxFQUhHLENBQVA7QUFLRDs7QUFDRCxhQUFPdEMsR0FBRyxDQUFDMEIsUUFBSixDQUFhUyxLQUFiLENBQVA7QUFDRDs7QUFFRCxVQUFNSyxJQUFJLEdBQUdxQyxzQ0FBYjtBQUNBLFVBQU12RCxPQUFPLEdBQUc7QUFBRVUsUUFBRSxFQUFFL0IsUUFBUSxDQUFDK0IsRUFBZjtBQUFtQlosVUFBSSxFQUFFO0FBQXpCLEtBQWhCOztBQUVBLFFBQUk7QUFDRixZQUFNYSxzQkFBc0IsR0FBRyxNQUFNdEIsU0FBUyxDQUFDdUIsTUFBVixDQUNuQ00sSUFEbUMsRUFFbkNsQixPQUZtQyxFQUduQ3FELFdBSG1DLENBQXJDOztBQUtBLFVBQUkxQyxzQkFBc0IsS0FBSyxLQUEvQixFQUFzQztBQUNwQyxlQUFPakMsR0FBRyxDQUNQeUUsTUFESSxDQUNHLEdBREgsRUFFSi9DLFFBRkksQ0FFTSxHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLDJCQUYzQixDQUFQO0FBR0Q7QUFDRixLQVhELENBV0UsT0FBTytCLEtBQVAsRUFBYztBQUNkLFVBQUlBLEtBQUssWUFBWUMsS0FBckIsRUFBNEI7QUFDMUIsZUFBT3BDLEdBQUcsQ0FBQzBCLFFBQUosQ0FDSixHQUFFdkIsT0FBUSxHQUFFQyxRQUFTLGdCQUFlaUMsa0JBQWtCLENBQ3JERixLQUFLLENBQUNHLE9BRCtDLENBRXJELEVBSEcsQ0FBUDtBQUtEOztBQUNELGFBQU90QyxHQUFHLENBQUMwQixRQUFKLENBQWFTLEtBQWIsQ0FBUDtBQUNEOztBQUVELFVBQU1RLGlCQUFpQixHQUFHO0FBQ3hCeEIsVUFBSSxFQUFFcUIsSUFBSSxDQUFDckIsSUFEYTtBQUV4QnlCLFdBQUssRUFBRUosSUFBSSxDQUFDSSxLQUZZO0FBR3hCQyxhQUFPLEVBQUVMLElBQUksQ0FBQ00sS0FIVTtBQUl4QkMsU0FBRyxFQUFFUCxJQUFJLENBQUNPLEdBSmM7QUFLeEJDLFNBQUcsRUFBRVIsSUFBSSxDQUFDUSxHQUxjO0FBTXhCQyxTQUFHLGVBQUVULElBQUksQ0FBQ1IsRUFBUCw4Q0FBRSxVQUFTa0IsUUFBVDtBQU5tQixLQUExQjtBQVFBLFVBQU1DLFVBQVUsR0FBRyxNQUFNeEMsU0FBUyxDQUFDRixHQUFWLENBQ3ZCa0MsaUJBRHVCLEVBRXZCSCxJQUZ1QixFQUd2QmxCLE9BSHVCLEVBSXZCdUQsc0NBSnVCLEVBS3ZCLEtBTHVCLENBQXpCLENBakZtRSxDQXlGbkU7O0FBQ0EsVUFBTXpCLGFBQWEsR0FBRyxNQUFNM0MsR0FBRyxDQUFDNEMsTUFBSixpQ0FBZ0I1QyxHQUFoQjtBQUFxQjZDLFdBQUssRUFBRUg7QUFBNUIsT0FBNUIsQ0ExRm1FLENBNEZuRTs7QUFDQSxVQUFNSSxhQUFhLEdBQUcsSUFBSUMsSUFBSixFQUF0QjtBQUNBRCxpQkFBYSxDQUFDRSxPQUFkLENBQXNCRixhQUFhLENBQUNHLE9BQWQsS0FBMEIzQyxhQUFhLEdBQUcsSUFBaEU7QUFFQTRDLGdEQUFBLENBQVczRCxHQUFYLEVBQWdCTSxPQUFPLENBQUNZLFlBQVIsQ0FBcUJDLElBQXJDLEVBQTJDaUMsYUFBM0M7QUFDRVEsYUFBTyxFQUFFTCxhQUFhLENBQUNNLFdBQWQ7QUFEWCxPQUVLdkQsT0FBTyxDQUFDWSxZQUFSLENBQXFCRCxPQUYxQjtBQUtBLFVBQU02Qyw0REFBYSxDQUFDcEQsTUFBTSxDQUFDd0IsTUFBUixFQUFnQjtBQUFFTSxVQUFGO0FBQVFsQjtBQUFSLEtBQWhCLENBQW5CO0FBRUEsV0FBT3RCLEdBQUcsQ0FBQzBCLFFBQUosQ0FBYW5CLFdBQVcsSUFBSUosT0FBNUIsQ0FBUDtBQUNEOztBQUNELFNBQU9ILEdBQUcsQ0FDUHlFLE1BREksQ0FDRyxHQURILEVBRUpLLEdBRkksQ0FFQyxxQ0FBb0M3RSxRQUFRLENBQUNtQixJQUFLLGdCQUZuRCxDQUFQO0FBR0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL3JvdXRlcy9jYWxsYmFjay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBvQXV0aENhbGxiYWNrIGZyb20gXCIuLi9saWIvb2F1dGgvY2FsbGJhY2tcIlxuaW1wb3J0IGNhbGxiYWNrSGFuZGxlciBmcm9tIFwiLi4vbGliL2NhbGxiYWNrLWhhbmRsZXJcIlxuaW1wb3J0ICogYXMgY29va2llIGZyb20gXCIuLi9saWIvY29va2llXCJcbmltcG9ydCBkaXNwYXRjaEV2ZW50IGZyb20gXCIuLi9saWIvZGlzcGF0Y2gtZXZlbnRcIlxuaW1wb3J0IGFkYXB0ZXJFcnJvckhhbmRsZXIgZnJvbSBcIi4uLy4uL2FkYXB0ZXJzL2Vycm9yLWhhbmRsZXJcIlxuXG4vKipcbiAqIEhhbmRsZSBjYWxsYmFja3MgZnJvbSBsb2dpbiBzZXJ2aWNlc1xuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBjYWxsYmFjayhyZXEsIHJlcykge1xuICBjb25zdCB7XG4gICAgcHJvdmlkZXIsXG4gICAgYWRhcHRlcixcbiAgICBiYXNlVXJsLFxuICAgIGJhc2VQYXRoLFxuICAgIHNlY3JldCxcbiAgICBjb29raWVzLFxuICAgIGNhbGxiYWNrVXJsLFxuICAgIHBhZ2VzLFxuICAgIGp3dCxcbiAgICBldmVudHMsXG4gICAgY2FsbGJhY2tzLFxuICAgIHNlc3Npb246IHsgand0OiB1c2VKd3RTZXNzaW9uLCBtYXhBZ2U6IHNlc3Npb25NYXhBZ2UgfSxcbiAgICBsb2dnZXIsXG4gIH0gPSByZXEub3B0aW9uc1xuXG4gIC8vIEdldCBzZXNzaW9uIElEIChpZiBzZXQpXG4gIGNvbnN0IHNlc3Npb25Ub2tlbiA9IHJlcS5jb29raWVzPy5bY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZV0gPz8gbnVsbFxuXG4gIGlmIChwcm92aWRlci50eXBlID09PSBcIm9hdXRoXCIpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBwcm9maWxlLCBhY2NvdW50LCBPQXV0aFByb2ZpbGUgfSA9IGF3YWl0IG9BdXRoQ2FsbGJhY2socmVxKVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTWFrZSBpdCBlYXNpZXIgdG8gZGVidWcgd2hlbiBhZGRpbmcgYSBuZXcgcHJvdmlkZXJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiT0FVVEhfQ0FMTEJBQ0tfUkVTUE9OU0VcIiwge1xuICAgICAgICAgIHByb2ZpbGUsXG4gICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICBPQXV0aFByb2ZpbGUsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHByb2ZpbGUgb2JqZWN0IHRoZW4gZWl0aGVyIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gICAgICAgIC8vIG9yIHRoZSB1c2VyIGNhbmNlbGxlZCBzaWduaW5nIGluLiBXZSBkb24ndCBrbm93IHdoaWNoLCBzbyB3ZSBqdXN0XG4gICAgICAgIC8vIGRpcmVjdCB0aGUgdXNlciB0byB0aGUgc2lnbmluIHBhZ2UgZm9yIG5vdy4gV2UgY291bGQgZG8gc29tZXRoaW5nXG4gICAgICAgIC8vIGVsc2UgaW4gZnV0dXJlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBOb3RlOiBJbiBvQXV0aENhbGxiYWNrIGFuIGVycm9yIGlzIGxvZ2dlZCB3aXRoIGRlYnVnIGluZm8sIHNvIGl0XG4gICAgICAgIC8vIHNob3VsZCBhdCBsZWFzdCBiZSB2aXNpYmxlIHRvIGRldmVsb3BlcnMgd2hhdCBoYXBwZW5lZCBpZiBpdCBpcyBhblxuICAgICAgICAvLyBlcnJvciB3aXRoIHRoZSBwcm92aWRlci5cbiAgICAgICAgaWYgKCFwcm9maWxlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L3NpZ25pbmApXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFsbG93ZWQgdG8gc2lnbiBpblxuICAgICAgICAvLyBBdHRlbXB0IHRvIGdldCBQcm9maWxlIGZyb20gT0F1dGggcHJvdmlkZXIgZGV0YWlscyBiZWZvcmUgaW52b2tpbmdcbiAgICAgICAgLy8gc2lnbkluIGNhbGxiYWNrIC0gYnV0IGlmIG5vIHVzZXIgb2JqZWN0IGlzIHJldHVybmVkLCB0aGF0IGlzIGZpbmVcbiAgICAgICAgLy8gKHRoYXQganVzdCBtZWFucyBpdCdzIGEgbmV3IHVzZXIgc2lnbmluZyBpbiBmb3IgdGhlIGZpcnN0IHRpbWUpLlxuICAgICAgICBsZXQgdXNlck9yUHJvZmlsZSA9IHByb2ZpbGVcbiAgICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgICBjb25zdCB7IGdldFVzZXJCeVByb3ZpZGVyQWNjb3VudElkIH0gPSBhZGFwdGVyRXJyb3JIYW5kbGVyKFxuICAgICAgICAgICAgYXdhaXQgYWRhcHRlci5nZXRBZGFwdGVyKHJlcS5vcHRpb25zKSxcbiAgICAgICAgICAgIGxvZ2dlclxuICAgICAgICAgIClcbiAgICAgICAgICBjb25zdCB1c2VyRnJvbVByb3ZpZGVyQWNjb3VudElkID0gYXdhaXQgZ2V0VXNlckJ5UHJvdmlkZXJBY2NvdW50SWQoXG4gICAgICAgICAgICBhY2NvdW50LnByb3ZpZGVyLFxuICAgICAgICAgICAgYWNjb3VudC5pZFxuICAgICAgICAgIClcbiAgICAgICAgICBpZiAodXNlckZyb21Qcm92aWRlckFjY291bnRJZCkge1xuICAgICAgICAgICAgdXNlck9yUHJvZmlsZSA9IHVzZXJGcm9tUHJvdmlkZXJBY2NvdW50SWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPSBhd2FpdCBjYWxsYmFja3Muc2lnbkluKFxuICAgICAgICAgICAgdXNlck9yUHJvZmlsZSxcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBPQXV0aFByb2ZpbGVcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgICAgICBgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPUFjY2Vzc0RlbmllZGBcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzaWduSW5DYWxsYmFja1Jlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UpXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgICAgICBgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgKX1gXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlXG4gICAgICAgICAgbG9nZ2VyLndhcm4oXCJTSUdOSU5fQ0FMTEJBQ0tfUkVKRUNUX1JFRElSRUNUXCIpXG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNpZ24gdXNlciBpblxuICAgICAgICBjb25zdCB7IHVzZXIsIHNlc3Npb24sIGlzTmV3VXNlciB9ID0gYXdhaXQgY2FsbGJhY2tIYW5kbGVyKFxuICAgICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgICBwcm9maWxlLFxuICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgcmVxLm9wdGlvbnNcbiAgICAgICAgKVxuXG4gICAgICAgIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgICAgICAgY29uc3QgZGVmYXVsdEp3dFBheWxvYWQgPSB7XG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgIHBpY3R1cmU6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgICB1aWQ6IHVzZXIudWlkLFxuICAgICAgICAgICAgZ2lkOiB1c2VyLmdpZCxcbiAgICAgICAgICAgIHN1YjogdXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgand0UGF5bG9hZCA9IGF3YWl0IGNhbGxiYWNrcy5qd3QoXG4gICAgICAgICAgICBkZWZhdWx0Snd0UGF5bG9hZCxcbiAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICBhY2NvdW50LFxuICAgICAgICAgICAgT0F1dGhQcm9maWxlLFxuICAgICAgICAgICAgaXNOZXdVc2VyXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgLy8gU2lnbiBhbmQgZW5jcnlwdCB0b2tlblxuICAgICAgICAgIGNvbnN0IG5ld0VuY29kZWRKd3QgPSBhd2FpdCBqd3QuZW5jb2RlKHsgLi4uand0LCB0b2tlbjogand0UGF5bG9hZCB9KVxuXG4gICAgICAgICAgLy8gU2V0IGNvb2tpZSBleHBpcnkgZGF0ZVxuICAgICAgICAgIGNvbnN0IGNvb2tpZUV4cGlyZXMgPSBuZXcgRGF0ZSgpXG4gICAgICAgICAgY29va2llRXhwaXJlcy5zZXRUaW1lKGNvb2tpZUV4cGlyZXMuZ2V0VGltZSgpICsgc2Vzc2lvbk1heEFnZSAqIDEwMDApXG5cbiAgICAgICAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSwgbmV3RW5jb2RlZEp3dCwge1xuICAgICAgICAgICAgZXhwaXJlczogY29va2llRXhwaXJlcy50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgLi4uY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFNhdmUgU2Vzc2lvbiBUb2tlbiBpbiBjb29raWVcbiAgICAgICAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSwgc2Vzc2lvbi5zZXNzaW9uVG9rZW4sIHtcbiAgICAgICAgICAgIGV4cGlyZXM6IHNlc3Npb24uZXhwaXJlcyB8fCBudWxsLFxuICAgICAgICAgICAgLi4uY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgZGlzcGF0Y2hFdmVudChldmVudHMuc2lnbkluLCB7IHVzZXIsIGFjY291bnQsIGlzTmV3VXNlciB9KVxuXG4gICAgICAgIC8vIEhhbmRsZSBmaXJzdCBsb2dpbnMgb24gbmV3IGFjY291bnRzXG4gICAgICAgIC8vIGUuZy4gb3B0aW9uIHRvIHNlbmQgdXNlcnMgdG8gYSBuZXcgYWNjb3VudCBsYW5kaW5nIHBhZ2Ugb24gaW5pdGlhbCBsb2dpblxuICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIGNhbGxiYWNrIFVSTCBpcyBwcmVzZXJ2ZWQsIHNvIHRoZSBqb3VybmV5IGNhbiBzdGlsbCBiZSByZXN1bWVkXG4gICAgICAgIGlmIChpc05ld1VzZXIgJiYgcGFnZXMubmV3VXNlcikge1xuICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoXG4gICAgICAgICAgICBgJHtwYWdlcy5uZXdVc2VyfSR7XG4gICAgICAgICAgICAgIHBhZ2VzLm5ld1VzZXIuaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIlxuICAgICAgICAgICAgfWNhbGxiYWNrVXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNhbGxiYWNrVXJsKX1gXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsbGJhY2sgVVJMIGlzIGFscmVhZHkgdmVyaWZpZWQgYXQgdGhpcyBwb2ludCwgc28gc2FmZSB0byB1c2UgaWYgc3BlY2lmaWVkXG4gICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoY2FsbGJhY2tVcmwgfHwgYmFzZVVybClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5uYW1lID09PSBcIkFjY291bnROb3RMaW5rZWRFcnJvclwiKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGVtYWlsIG9uIHRoZSBhY2NvdW50IGlzIGFscmVhZHkgbGlua2VkLCBidXQgbm90IHdpdGggdGhpcyBPQXV0aCBhY2NvdW50XG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcbiAgICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9T0F1dGhBY2NvdW50Tm90TGlua2VkYFxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSBcIkNyZWF0ZVVzZXJFcnJvclwiKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChcbiAgICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9T0F1dGhDcmVhdGVBY2NvdW50YFxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIuZXJyb3IoXCJPQVVUSF9DQUxMQkFDS19IQU5ETEVSX0VSUk9SXCIsIGVycm9yKVxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9Q2FsbGJhY2tgKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gXCJPQXV0aENhbGxiYWNrRXJyb3JcIikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJDQUxMQkFDS19PQVVUSF9FUlJPUlwiLCBlcnJvcilcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPU9BdXRoQ2FsbGJhY2tgKVxuICAgICAgfVxuICAgICAgbG9nZ2VyLmVycm9yKFwiT0FVVEhfQ0FMTEJBQ0tfRVJST1JcIiwgZXJyb3IpXG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9Q2FsbGJhY2tgKVxuICAgIH1cbiAgfSBlbHNlIGlmIChwcm92aWRlci50eXBlID09PSBcImVtYWlsXCIpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFhZGFwdGVyKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVNQUlMX1JFUVVJUkVTX0FEQVBURVJfRVJST1JcIilcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPUNvbmZpZ3VyYXRpb25gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGdldFZlcmlmaWNhdGlvblJlcXVlc3QsXG4gICAgICAgIGRlbGV0ZVZlcmlmaWNhdGlvblJlcXVlc3QsXG4gICAgICAgIGdldFVzZXJCeUVtYWlsLFxuICAgICAgfSA9IGFkYXB0ZXJFcnJvckhhbmRsZXIoYXdhaXQgYWRhcHRlci5nZXRBZGFwdGVyKHJlcS5vcHRpb25zKSwgbG9nZ2VyKVxuICAgICAgY29uc3QgdmVyaWZpY2F0aW9uVG9rZW4gPSByZXEucXVlcnkudG9rZW5cbiAgICAgIGNvbnN0IGVtYWlsID0gcmVxLnF1ZXJ5LmVtYWlsXG5cbiAgICAgIC8vIFZlcmlmeSBlbWFpbCBhbmQgdmVyaWZpY2F0aW9uIHRva2VuIGV4aXN0IGluIGRhdGFiYXNlXG4gICAgICBjb25zdCBpbnZpdGUgPSBhd2FpdCBnZXRWZXJpZmljYXRpb25SZXF1ZXN0KFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgdmVyaWZpY2F0aW9uVG9rZW4sXG4gICAgICAgIHNlY3JldCxcbiAgICAgICAgcHJvdmlkZXJcbiAgICAgIClcbiAgICAgIGlmICghaW52aXRlKSB7XG4gICAgICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1WZXJpZmljYXRpb25gKVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB2ZXJpZmljYXRpb24gdG9rZW4gaXMgdmFsaWQsIGRlbGV0ZSB2ZXJpZmljYXRpb24gcmVxdWVzdCB0b2tlbiBmcm9tXG4gICAgICAvLyB0aGUgZGF0YWJhc2Ugc28gaXQgY2Fubm90IGJlIHVzZWQgYWdhaW5cbiAgICAgIGF3YWl0IGRlbGV0ZVZlcmlmaWNhdGlvblJlcXVlc3QoXG4gICAgICAgIGVtYWlsLFxuICAgICAgICB2ZXJpZmljYXRpb25Ub2tlbixcbiAgICAgICAgc2VjcmV0LFxuICAgICAgICBwcm92aWRlclxuICAgICAgKVxuXG4gICAgICAvLyBJZiBpcyBhbiBleGlzdGluZyB1c2VyIHJldHVybiBhIHVzZXIgb2JqZWN0IChvdGhlcndpc2UgdXNlIHBsYWNlaG9sZGVyKVxuICAgICAgY29uc3QgcHJvZmlsZSA9IChhd2FpdCBnZXRVc2VyQnlFbWFpbChlbWFpbCkpIHx8IHsgZW1haWwgfVxuICAgICAgY29uc3QgYWNjb3VudCA9IHtcbiAgICAgICAgaWQ6IHByb3ZpZGVyLmlkLFxuICAgICAgICB0eXBlOiBcImVtYWlsXCIsXG4gICAgICAgIHByb3ZpZGVyQWNjb3VudElkOiBlbWFpbCxcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgdXNlciBpcyBhbGxvd2VkIHRvIHNpZ24gaW5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPSBhd2FpdCBjYWxsYmFja3Muc2lnbkluKFxuICAgICAgICAgIHByb2ZpbGUsXG4gICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICB7IGVtYWlsIH1cbiAgICAgICAgKVxuICAgICAgICBpZiAoc2lnbkluQ2FsbGJhY2tSZXNwb25zZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9QWNjZXNzRGVuaWVkYClcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc2lnbkluQ2FsbGJhY2tSZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJldHVybiByZXMucmVkaXJlY3Qoc2lnbkluQ2FsbGJhY2tSZXNwb25zZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgICAgYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgKX1gXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IFJlbW92ZSBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlXG4gICAgICAgIGxvZ2dlci53YXJuKFwiU0lHTklOX0NBTExCQUNLX1JFSkVDVF9SRURJUkVDVFwiKVxuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGVycm9yKVxuICAgICAgfVxuXG4gICAgICAvLyBTaWduIHVzZXIgaW5cbiAgICAgIGNvbnN0IHsgdXNlciwgc2Vzc2lvbiwgaXNOZXdVc2VyIH0gPSBhd2FpdCBjYWxsYmFja0hhbmRsZXIoXG4gICAgICAgIHNlc3Npb25Ub2tlbixcbiAgICAgICAgcHJvZmlsZSxcbiAgICAgICAgYWNjb3VudCxcbiAgICAgICAgcmVxLm9wdGlvbnNcbiAgICAgIClcblxuICAgICAgaWYgKHVzZUp3dFNlc3Npb24pIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdEp3dFBheWxvYWQgPSB7XG4gICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgIHBpY3R1cmU6IHVzZXIuaW1hZ2UsXG4gICAgICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICAgICAgICBnaWQ6IHVzZXIuZ2lkLFxuICAgICAgICAgIHN1YjogdXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqd3RQYXlsb2FkID0gYXdhaXQgY2FsbGJhY2tzLmp3dChcbiAgICAgICAgICBkZWZhdWx0Snd0UGF5bG9hZCxcbiAgICAgICAgICB1c2VyLFxuICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgcHJvZmlsZSxcbiAgICAgICAgICBpc05ld1VzZXJcbiAgICAgICAgKVxuXG4gICAgICAgIC8vIFNpZ24gYW5kIGVuY3J5cHQgdG9rZW5cbiAgICAgICAgY29uc3QgbmV3RW5jb2RlZEp3dCA9IGF3YWl0IGp3dC5lbmNvZGUoeyAuLi5qd3QsIHRva2VuOiBqd3RQYXlsb2FkIH0pXG5cbiAgICAgICAgLy8gU2V0IGNvb2tpZSBleHBpcnkgZGF0ZVxuICAgICAgICBjb25zdCBjb29raWVFeHBpcmVzID0gbmV3IERhdGUoKVxuICAgICAgICBjb29raWVFeHBpcmVzLnNldFRpbWUoY29va2llRXhwaXJlcy5nZXRUaW1lKCkgKyBzZXNzaW9uTWF4QWdlICogMTAwMClcblxuICAgICAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSwgbmV3RW5jb2RlZEp3dCwge1xuICAgICAgICAgIGV4cGlyZXM6IGNvb2tpZUV4cGlyZXMudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAuLi5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2F2ZSBTZXNzaW9uIFRva2VuIGluIGNvb2tpZVxuICAgICAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSwgc2Vzc2lvbi5zZXNzaW9uVG9rZW4sIHtcbiAgICAgICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMgfHwgbnVsbCxcbiAgICAgICAgICAuLi5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBhd2FpdCBkaXNwYXRjaEV2ZW50KGV2ZW50cy5zaWduSW4sIHsgdXNlciwgYWNjb3VudCwgaXNOZXdVc2VyIH0pXG5cbiAgICAgIC8vIEhhbmRsZSBmaXJzdCBsb2dpbnMgb24gbmV3IGFjY291bnRzXG4gICAgICAvLyBlLmcuIG9wdGlvbiB0byBzZW5kIHVzZXJzIHRvIGEgbmV3IGFjY291bnQgbGFuZGluZyBwYWdlIG9uIGluaXRpYWwgbG9naW5cbiAgICAgIC8vIE5vdGUgdGhhdCB0aGUgY2FsbGJhY2sgVVJMIGlzIHByZXNlcnZlZCwgc28gdGhlIGpvdXJuZXkgY2FuIHN0aWxsIGJlIHJlc3VtZWRcbiAgICAgIGlmIChpc05ld1VzZXIgJiYgcGFnZXMubmV3VXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgIGAke3BhZ2VzLm5ld1VzZXJ9JHtcbiAgICAgICAgICAgIHBhZ2VzLm5ld1VzZXIuaW5jbHVkZXMoXCI/XCIpID8gXCImXCIgOiBcIj9cIlxuICAgICAgICAgIH1jYWxsYmFja1VybD0ke2VuY29kZVVSSUNvbXBvbmVudChjYWxsYmFja1VybCl9YFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIENhbGxiYWNrIFVSTCBpcyBhbHJlYWR5IHZlcmlmaWVkIGF0IHRoaXMgcG9pbnQsIHNvIHNhZmUgdG8gdXNlIGlmIHNwZWNpZmllZFxuICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChjYWxsYmFja1VybCB8fCBiYXNlVXJsKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gXCJDcmVhdGVVc2VyRXJyb3JcIikge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9RW1haWxDcmVhdGVBY2NvdW50YFxuICAgICAgICApXG4gICAgICB9XG4gICAgICBsb2dnZXIuZXJyb3IoXCJDQUxMQkFDS19FTUFJTF9FUlJPUlwiLCBlcnJvcilcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1DYWxsYmFja2ApXG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwiY3JlZGVudGlhbHNcIiAmJiByZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgIGlmICghdXNlSnd0U2Vzc2lvbikge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkNBTExCQUNLX0NSRURFTlRJQUxTX0pXVF9FUlJPUlwiLFxuICAgICAgICBcIlNpZ25pbiBpbiB3aXRoIGNyZWRlbnRpYWxzIGlzIG9ubHkgc3VwcG9ydGVkIGlmIEpTT04gV2ViIFRva2VucyBhcmUgZW5hYmxlZFwiXG4gICAgICApXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgICAucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1Db25maWd1cmF0aW9uYClcbiAgICB9XG5cbiAgICBpZiAoIXByb3ZpZGVyLmF1dGhvcml6ZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkNBTExCQUNLX0NSRURFTlRJQUxTX0hBTkRMRVJfRVJST1JcIixcbiAgICAgICAgXCJNdXN0IGRlZmluZSBhbiBhdXRob3JpemUoKSBoYW5kbGVyIHRvIHVzZSBjcmVkZW50aWFscyBhdXRoZW50aWNhdGlvbiBwcm92aWRlclwiXG4gICAgICApXG4gICAgICByZXR1cm4gcmVzXG4gICAgICAgIC5zdGF0dXMoNTAwKVxuICAgICAgICAucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1Db25maWd1cmF0aW9uYClcbiAgICB9XG5cbiAgICBjb25zdCBjcmVkZW50aWFscyA9IHJlcS5ib2R5XG5cbiAgICBsZXQgdXNlck9iamVjdFJldHVybmVkRnJvbUF1dGhvcml6ZUhhbmRsZXJcbiAgICB0cnkge1xuICAgICAgdXNlck9iamVjdFJldHVybmVkRnJvbUF1dGhvcml6ZUhhbmRsZXIgPSBhd2FpdCBwcm92aWRlci5hdXRob3JpemUoXG4gICAgICAgIGNyZWRlbnRpYWxzLCB7Li4ucmVxLCBvcHRpb25zOiB7fSwgY29va2llczoge319XG4gICAgICApXG4gICAgICBpZiAoIXVzZXJPYmplY3RSZXR1cm5lZEZyb21BdXRob3JpemVIYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiByZXNcbiAgICAgICAgICAuc3RhdHVzKDQwMSlcbiAgICAgICAgICAucmVkaXJlY3QoXG4gICAgICAgICAgICBgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPUNyZWRlbnRpYWxzU2lnbmluJnByb3ZpZGVyPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgICAgICAgICBwcm92aWRlci5pZFxuICAgICAgICAgICAgKX1gXG4gICAgICAgICAgKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgKX1gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoZXJyb3IpXG4gICAgfVxuXG4gICAgY29uc3QgdXNlciA9IHVzZXJPYmplY3RSZXR1cm5lZEZyb21BdXRob3JpemVIYW5kbGVyXG4gICAgY29uc3QgYWNjb3VudCA9IHsgaWQ6IHByb3ZpZGVyLmlkLCB0eXBlOiBcImNyZWRlbnRpYWxzXCIgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPSBhd2FpdCBjYWxsYmFja3Muc2lnbkluKFxuICAgICAgICB1c2VyLFxuICAgICAgICBhY2NvdW50LFxuICAgICAgICBjcmVkZW50aWFsc1xuICAgICAgKVxuICAgICAgaWYgKHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiByZXNcbiAgICAgICAgICAuc3RhdHVzKDQwMylcbiAgICAgICAgICAucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1BY2Nlc3NEZW5pZWRgKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgKX1gXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoZXJyb3IpXG4gICAgfVxuXG4gICAgY29uc3QgZGVmYXVsdEp3dFBheWxvYWQgPSB7XG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIHBpY3R1cmU6IHVzZXIuaW1hZ2UsXG4gICAgICB1aWQ6IHVzZXIudWlkLFxuICAgICAgZ2lkOiB1c2VyLmdpZCxcbiAgICAgIHN1YjogdXNlci5pZD8udG9TdHJpbmcoKSxcbiAgICB9XG4gICAgY29uc3Qgand0UGF5bG9hZCA9IGF3YWl0IGNhbGxiYWNrcy5qd3QoXG4gICAgICBkZWZhdWx0Snd0UGF5bG9hZCxcbiAgICAgIHVzZXIsXG4gICAgICBhY2NvdW50LFxuICAgICAgdXNlck9iamVjdFJldHVybmVkRnJvbUF1dGhvcml6ZUhhbmRsZXIsXG4gICAgICBmYWxzZVxuICAgIClcblxuICAgIC8vIFNpZ24gYW5kIGVuY3J5cHQgdG9rZW5cbiAgICBjb25zdCBuZXdFbmNvZGVkSnd0ID0gYXdhaXQgand0LmVuY29kZSh7IC4uLmp3dCwgdG9rZW46IGp3dFBheWxvYWQgfSlcblxuICAgIC8vIFNldCBjb29raWUgZXhwaXJ5IGRhdGVcbiAgICBjb25zdCBjb29raWVFeHBpcmVzID0gbmV3IERhdGUoKVxuICAgIGNvb2tpZUV4cGlyZXMuc2V0VGltZShjb29raWVFeHBpcmVzLmdldFRpbWUoKSArIHNlc3Npb25NYXhBZ2UgKiAxMDAwKVxuXG4gICAgY29va2llLnNldChyZXMsIGNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsIG5ld0VuY29kZWRKd3QsIHtcbiAgICAgIGV4cGlyZXM6IGNvb2tpZUV4cGlyZXMudG9JU09TdHJpbmcoKSxcbiAgICAgIC4uLmNvb2tpZXMuc2Vzc2lvblRva2VuLm9wdGlvbnMsXG4gICAgfSlcblxuICAgIGF3YWl0IGRpc3BhdGNoRXZlbnQoZXZlbnRzLnNpZ25JbiwgeyB1c2VyLCBhY2NvdW50IH0pXG5cbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGNhbGxiYWNrVXJsIHx8IGJhc2VVcmwpXG4gIH1cbiAgcmV0dXJuIHJlc1xuICAgIC5zdGF0dXMoNTAwKVxuICAgIC5lbmQoYEVycm9yOiBDYWxsYmFjayBmb3IgcHJvdmlkZXIgdHlwZSAke3Byb3ZpZGVyLnR5cGV9IG5vdCBzdXBwb3J0ZWRgKVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/routes/callback.js\n");

/***/ }),

/***/ "./next-auth/server/routes/index.js":
/*!******************************************!*\
  !*** ./next-auth/server/routes/index.js ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"callback\": function() { return /* reexport safe */ _callback__WEBPACK_IMPORTED_MODULE_0__.default; },\n/* harmony export */   \"signin\": function() { return /* reexport safe */ _signin__WEBPACK_IMPORTED_MODULE_1__.default; },\n/* harmony export */   \"signout\": function() { return /* reexport safe */ _signout__WEBPACK_IMPORTED_MODULE_2__.default; },\n/* harmony export */   \"session\": function() { return /* reexport safe */ _session__WEBPACK_IMPORTED_MODULE_3__.default; },\n/* harmony export */   \"providers\": function() { return /* reexport safe */ _providers__WEBPACK_IMPORTED_MODULE_4__.default; }\n/* harmony export */ });\n/* harmony import */ var _callback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callback */ \"./next-auth/server/routes/callback.js\");\n/* harmony import */ var _signin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signin */ \"./next-auth/server/routes/signin.js\");\n/* harmony import */ var _signout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signout */ \"./next-auth/server/routes/signout.js\");\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./session */ \"./next-auth/server/routes/session.js\");\n/* harmony import */ var _providers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./providers */ \"./next-auth/server/routes/providers.js\");\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvaW5kZXguanM/ZmM3ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL3JvdXRlcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGRlZmF1bHQgYXMgY2FsbGJhY2sgfSBmcm9tICcuL2NhbGxiYWNrJ1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBzaWduaW4gfSBmcm9tICcuL3NpZ25pbidcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2lnbm91dCB9IGZyb20gJy4vc2lnbm91dCdcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc2Vzc2lvbiB9IGZyb20gJy4vc2Vzc2lvbidcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcHJvdmlkZXJzIH0gZnJvbSAnLi9wcm92aWRlcnMnXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/routes/index.js\n");

/***/ }),

/***/ "./next-auth/server/routes/providers.js":
/*!**********************************************!*\
  !*** ./next-auth/server/routes/providers.js ***!
  \**********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ providers; }\n/* harmony export */ });\n/**\n * Return a JSON object with a list of all OAuth providers currently configured\n * and their signin and callback URLs. This makes it possible to automatically\n * generate buttons for all providers when rendering client side.\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\nfunction providers(req, res) {\n  const {\n    providers\n  } = req.options;\n  const result = providers.reduce((acc, {\n    id,\n    name,\n    type,\n    signinUrl,\n    callbackUrl\n  }) => {\n    acc[id] = {\n      id,\n      name,\n      type,\n      signinUrl,\n      callbackUrl\n    };\n    return acc;\n  }, {});\n  res.json(result);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvcHJvdmlkZXJzLmpzPzM0Y2QiXSwibmFtZXMiOlsicHJvdmlkZXJzIiwicmVxIiwicmVzIiwib3B0aW9ucyIsInJlc3VsdCIsInJlZHVjZSIsImFjYyIsImlkIiwibmFtZSIsInR5cGUiLCJzaWduaW5VcmwiLCJjYWxsYmFja1VybCIsImpzb24iXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLFNBQVNBLFNBQVQsQ0FBbUJDLEdBQW5CLEVBQXdCQyxHQUF4QixFQUE2QjtBQUMxQyxRQUFNO0FBQUVGO0FBQUYsTUFBZ0JDLEdBQUcsQ0FBQ0UsT0FBMUI7QUFFQSxRQUFNQyxNQUFNLEdBQUdKLFNBQVMsQ0FBQ0ssTUFBVixDQUNiLENBQUNDLEdBQUQsRUFBTTtBQUFFQyxNQUFGO0FBQU1DLFFBQU47QUFBWUMsUUFBWjtBQUFrQkMsYUFBbEI7QUFBNkJDO0FBQTdCLEdBQU4sS0FBcUQ7QUFDbkRMLE9BQUcsQ0FBQ0MsRUFBRCxDQUFILEdBQVU7QUFBRUEsUUFBRjtBQUFNQyxVQUFOO0FBQVlDLFVBQVo7QUFBa0JDLGVBQWxCO0FBQTZCQztBQUE3QixLQUFWO0FBQ0EsV0FBT0wsR0FBUDtBQUNELEdBSlksRUFLYixFQUxhLENBQWY7QUFRQUosS0FBRyxDQUFDVSxJQUFKLENBQVNSLE1BQVQ7QUFDRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvcm91dGVzL3Byb3ZpZGVycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmV0dXJuIGEgSlNPTiBvYmplY3Qgd2l0aCBhIGxpc3Qgb2YgYWxsIE9BdXRoIHByb3ZpZGVycyBjdXJyZW50bHkgY29uZmlndXJlZFxuICogYW5kIHRoZWlyIHNpZ25pbiBhbmQgY2FsbGJhY2sgVVJMcy4gVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSB0byBhdXRvbWF0aWNhbGx5XG4gKiBnZW5lcmF0ZSBidXR0b25zIGZvciBhbGwgcHJvdmlkZXJzIHdoZW4gcmVuZGVyaW5nIGNsaWVudCBzaWRlLlxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcm92aWRlcnMocmVxLCByZXMpIHtcbiAgY29uc3QgeyBwcm92aWRlcnMgfSA9IHJlcS5vcHRpb25zXG5cbiAgY29uc3QgcmVzdWx0ID0gcHJvdmlkZXJzLnJlZHVjZShcbiAgICAoYWNjLCB7IGlkLCBuYW1lLCB0eXBlLCBzaWduaW5VcmwsIGNhbGxiYWNrVXJsIH0pID0+IHtcbiAgICAgIGFjY1tpZF0gPSB7IGlkLCBuYW1lLCB0eXBlLCBzaWduaW5VcmwsIGNhbGxiYWNrVXJsIH1cbiAgICAgIHJldHVybiBhY2NcbiAgICB9LFxuICAgIHt9XG4gIClcblxuICByZXMuanNvbihyZXN1bHQpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/routes/providers.js\n");

/***/ }),

/***/ "./next-auth/server/routes/session.js":
/*!********************************************!*\
  !*** ./next-auth/server/routes/session.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ session; }\n/* harmony export */ });\n/* harmony import */ var _lib_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/cookie */ \"./next-auth/server/lib/cookie.js\");\n/* harmony import */ var _lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dispatch-event */ \"./next-auth/server/lib/dispatch-event.js\");\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * Return a session object (without any private fields)\n * for Single Page App clients\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function session(req, res) {\n  const {\n    cookies,\n    adapter,\n    jwt,\n    events,\n    callbacks,\n    logger\n  } = req.options;\n  const useJwtSession = req.options.session.jwt;\n  const sessionMaxAge = req.options.session.maxAge;\n  const sessionToken = req.cookies[cookies.sessionToken.name];\n\n  if (!sessionToken) {\n    return res.json({});\n  }\n\n  let response = {};\n\n  if (useJwtSession) {\n    try {\n      // Decrypt and verify token\n      const decodedJwt = await jwt.decode(_objectSpread(_objectSpread({}, jwt), {}, {\n        token: sessionToken\n      })); // Generate new session expiry date\n\n      const sessionExpiresDate = new Date();\n      sessionExpiresDate.setTime(sessionExpiresDate.getTime() + sessionMaxAge * 1000);\n      const sessionExpires = sessionExpiresDate.toISOString(); // By default, only exposes a limited subset of information to the client\n      // as needed for presentation purposes (e.g. \"you are logged in as…\").\n\n      const defaultSessionPayload = {\n        user: {\n          name: decodedJwt.name || null,\n          email: decodedJwt.email || null,\n          image: decodedJwt.picture || null,\n          uid: decodedJwt.uid || null,\n          gid: decodedJwt.gid || null\n        },\n        expires: sessionExpires\n      }; // Pass Session and JSON Web Token through to the session callback\n\n      const jwtPayload = await callbacks.jwt(decodedJwt);\n      const sessionPayload = await callbacks.session(defaultSessionPayload, jwtPayload); // Return session payload as response\n\n      response = sessionPayload; // Refresh JWT expiry by re-signing it, with an updated expiry date\n\n      const newEncodedJwt = await jwt.encode(_objectSpread(_objectSpread({}, jwt), {}, {\n        token: jwtPayload\n      })); // Set cookie, to also update expiry date on cookie\n\n      _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.sessionToken.name, newEncodedJwt, _objectSpread({\n        expires: sessionExpires\n      }, cookies.sessionToken.options));\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.session, {\n        session: sessionPayload,\n        jwt: jwtPayload\n      });\n    } catch (error) {\n      // If JWT not verifiable, make sure the cookie for it is removed and return empty object\n      logger.error(\"JWT_SESSION_ERROR\", error);\n      _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.sessionToken.name, \"\", _objectSpread(_objectSpread({}, cookies.sessionToken.options), {}, {\n        maxAge: 0\n      }));\n    }\n  } else {\n    try {\n      const {\n        getUser,\n        getSession,\n        updateSession\n      } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__.default)(await adapter.getAdapter(req.options), logger);\n      const session = await getSession(sessionToken);\n\n      if (session) {\n        // Trigger update to session object to update session expiry\n        await updateSession(session);\n        const user = await getUser(session.userId); // By default, only exposes a limited subset of information to the client\n        // as needed for presentation purposes (e.g. \"you are logged in as…\").\n\n        const defaultSessionPayload = {\n          user: {\n            name: user.name,\n            email: user.email,\n            image: user.image,\n            uid: user.uid,\n            gid: user.gid\n          },\n          accessToken: session.accessToken,\n          expires: session.expires\n        }; // Pass Session through to the session callback\n\n        const sessionPayload = await callbacks.session(defaultSessionPayload, user); // Return session payload as response\n\n        response = sessionPayload; // Set cookie again to update expiry\n\n        _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.sessionToken.name, sessionToken, _objectSpread({\n          expires: session.expires\n        }, cookies.sessionToken.options));\n        await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.session, {\n          session: sessionPayload\n        });\n      } else if (sessionToken) {\n        // If sessionToken was found set but it's not valid for a session then\n        // remove the sessionToken cookie from browser.\n        _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.sessionToken.name, \"\", _objectSpread(_objectSpread({}, cookies.sessionToken.options), {}, {\n          maxAge: 0\n        }));\n      }\n    } catch (error) {\n      logger.error(\"SESSION_ERROR\", error);\n    }\n  }\n\n  res.json(response);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvc2Vzc2lvbi5qcz9jODM1Il0sIm5hbWVzIjpbInNlc3Npb24iLCJyZXEiLCJyZXMiLCJjb29raWVzIiwiYWRhcHRlciIsImp3dCIsImV2ZW50cyIsImNhbGxiYWNrcyIsImxvZ2dlciIsIm9wdGlvbnMiLCJ1c2VKd3RTZXNzaW9uIiwic2Vzc2lvbk1heEFnZSIsIm1heEFnZSIsInNlc3Npb25Ub2tlbiIsIm5hbWUiLCJqc29uIiwicmVzcG9uc2UiLCJkZWNvZGVkSnd0IiwiZGVjb2RlIiwidG9rZW4iLCJzZXNzaW9uRXhwaXJlc0RhdGUiLCJEYXRlIiwic2V0VGltZSIsImdldFRpbWUiLCJzZXNzaW9uRXhwaXJlcyIsInRvSVNPU3RyaW5nIiwiZGVmYXVsdFNlc3Npb25QYXlsb2FkIiwidXNlciIsImVtYWlsIiwiaW1hZ2UiLCJwaWN0dXJlIiwidWlkIiwiZ2lkIiwiZXhwaXJlcyIsImp3dFBheWxvYWQiLCJzZXNzaW9uUGF5bG9hZCIsIm5ld0VuY29kZWRKd3QiLCJlbmNvZGUiLCJjb29raWUiLCJkaXNwYXRjaEV2ZW50IiwiZXJyb3IiLCJnZXRVc2VyIiwiZ2V0U2Vzc2lvbiIsInVwZGF0ZVNlc3Npb24iLCJhZGFwdGVyRXJyb3JIYW5kbGVyIiwiZ2V0QWRhcHRlciIsInVzZXJJZCIsImFjY2Vzc1Rva2VuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLGVBQWVBLE9BQWYsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixFQUFpQztBQUM5QyxRQUFNO0FBQUVDLFdBQUY7QUFBV0MsV0FBWDtBQUFvQkMsT0FBcEI7QUFBeUJDLFVBQXpCO0FBQWlDQyxhQUFqQztBQUE0Q0M7QUFBNUMsTUFBdURQLEdBQUcsQ0FBQ1EsT0FBakU7QUFDQSxRQUFNQyxhQUFhLEdBQUdULEdBQUcs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TyxJQUFJdEIsWUFBSixFQUFrQjtBQUN2QjtBQUNBO0FBQ0F5QixvREFBQSxDQUFXcEMsR0FBWCxFQUFnQkMsT0FBTyxDQUFDVSxZQUFSLENBQXFCQyxJQUFyQyxFQUEyQyxFQUEzQyxrQ0FDS1gsT0FBTyxDQUFDVSxZQUFSLENBQXFCSixPQUQxQjtBQUVFRyxnQkFBTSxFQUFFO0FBRlY7QUFJRDtBQUNGLEtBbERELENBa0RFLE9BQU80QixLQUFQLEVBQWM7QUFDZGhDLFlBQU0sQ0FBQ2dDLEtBQVAsQ0FBYSxlQUFiLEVBQThCQSxLQUE5QjtBQUNEO0FBQ0Y7O0FBRUR0QyxLQUFHLENBQUNhLElBQUosQ0FBU0MsUUFBVDtBQUNEIiwiZmlsZSI6Ii4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvc2Vzc2lvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNvb2tpZSBmcm9tIFwiLi4vbGliL2Nvb2tpZVwiXG5pbXBvcnQgZGlzcGF0Y2hFdmVudCBmcm9tIFwiLi4vbGliL2Rpc3BhdGNoLWV2ZW50XCJcbmltcG9ydCBhZGFwdGVyRXJyb3JIYW5kbGVyIGZyb20gXCIuLi8uLi9hZGFwdGVycy9lcnJvci1oYW5kbGVyXCJcblxuLyoqXG4gKiBSZXR1cm4gYSBzZXNzaW9uIG9iamVjdCAod2l0aG91dCBhbnkgcHJpdmF0ZSBmaWVsZHMpXG4gKiBmb3IgU2luZ2xlIFBhZ2UgQXBwIGNsaWVudHNcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVxdWVzdH0gcmVxXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5OZXh0QXV0aFJlc3BvbnNlfSByZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gc2Vzc2lvbihyZXEsIHJlcykge1xuICBjb25zdCB7IGNvb2tpZXMsIGFkYXB0ZXIsIGp3dCwgZXZlbnRzLCBjYWxsYmFja3MsIGxvZ2dlciB9ID0gcmVxLm9wdGlvbnNcbiAgY29uc3QgdXNlSnd0U2Vzc2lvbiA9IHJlcS5vcHRpb25zLnNlc3Npb24uand0XG4gIGNvbnN0IHNlc3Npb25NYXhBZ2UgPSByZXEub3B0aW9ucy5zZXNzaW9uLm1heEFnZVxuICBjb25zdCBzZXNzaW9uVG9rZW4gPSByZXEuY29va2llc1tjb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lXVxuXG4gIGlmICghc2Vzc2lvblRva2VuKSB7XG4gICAgcmV0dXJuIHJlcy5qc29uKHt9KVxuICB9XG5cbiAgbGV0IHJlc3BvbnNlID0ge31cbiAgaWYgKHVzZUp3dFNlc3Npb24pIHtcbiAgICB0cnkge1xuICAgICAgLy8gRGVjcnlwdCBhbmQgdmVyaWZ5IHRva2VuXG4gICAgICBjb25zdCBkZWNvZGVkSnd0ID0gYXdhaXQgand0LmRlY29kZSh7IC4uLmp3dCwgdG9rZW46IHNlc3Npb25Ub2tlbiB9KVxuXG4gICAgICAvLyBHZW5lcmF0ZSBuZXcgc2Vzc2lvbiBleHBpcnkgZGF0ZVxuICAgICAgY29uc3Qgc2Vzc2lvbkV4cGlyZXNEYXRlID0gbmV3IERhdGUoKVxuICAgICAgc2Vzc2lvbkV4cGlyZXNEYXRlLnNldFRpbWUoXG4gICAgICAgIHNlc3Npb25FeHBpcmVzRGF0ZS5nZXRUaW1lKCkgKyBzZXNzaW9uTWF4QWdlICogMTAwMFxuICAgICAgKVxuICAgICAgY29uc3Qgc2Vzc2lvbkV4cGlyZXMgPSBzZXNzaW9uRXhwaXJlc0RhdGUudG9JU09TdHJpbmcoKVxuXG4gICAgICAvLyBCeSBkZWZhdWx0LCBvbmx5IGV4cG9zZXMgYSBsaW1pdGVkIHN1YnNldCBvZiBpbmZvcm1hdGlvbiB0byB0aGUgY2xpZW50XG4gICAgICAvLyBhcyBuZWVkZWQgZm9yIHByZXNlbnRhdGlvbiBwdXJwb3NlcyAoZS5nLiBcInlvdSBhcmUgbG9nZ2VkIGluIGFz4oCmXCIpLlxuICAgICAgY29uc3QgZGVmYXVsdFNlc3Npb25QYXlsb2FkID0ge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgbmFtZTogZGVjb2RlZEp3dC5uYW1lIHx8IG51bGwsXG4gICAgICAgICAgZW1haWw6IGRlY29kZWRKd3QuZW1haWwgfHwgbnVsbCxcbiAgICAgICAgICBpbWFnZTogZGVjb2RlZEp3dC5waWN0dXJlIHx8IG51bGwsXG4gICAgICAgICAgdWlkOiBkZWNvZGVkSnd0LnVpZCB8fCBudWxsLFxuICAgICAgICAgIGdpZDogZGVjb2RlZEp3dC5naWQgfHwgbnVsbCxcbiAgICAgICAgfSxcbiAgICAgICAgZXhwaXJlczogc2Vzc2lvbkV4cGlyZXMsXG4gICAgICB9XG5cbiAgICAgIC8vIFBhc3MgU2Vzc2lvbiBhbmQgSlNPTiBXZWIgVG9rZW4gdGhyb3VnaCB0byB0aGUgc2Vzc2lvbiBjYWxsYmFja1xuICAgICAgY29uc3Qgand0UGF5bG9hZCA9IGF3YWl0IGNhbGxiYWNrcy5qd3QoZGVjb2RlZEp3dClcbiAgICAgIGNvbnN0IHNlc3Npb25QYXlsb2FkID0gYXdhaXQgY2FsbGJhY2tzLnNlc3Npb24oXG4gICAgICAgIGRlZmF1bHRTZXNzaW9uUGF5bG9hZCxcbiAgICAgICAgand0UGF5bG9hZFxuICAgICAgKVxuXG4gICAgICAvLyBSZXR1cm4gc2Vzc2lvbiBwYXlsb2FkIGFzIHJlc3BvbnNlXG4gICAgICByZXNwb25zZSA9IHNlc3Npb25QYXlsb2FkXG5cbiAgICAgIC8vIFJlZnJlc2ggSldUIGV4cGlyeSBieSByZS1zaWduaW5nIGl0LCB3aXRoIGFuIHVwZGF0ZWQgZXhwaXJ5IGRhdGVcbiAgICAgIGNvbnN0IG5ld0VuY29kZWRKd3QgPSBhd2FpdCBqd3QuZW5jb2RlKHsgLi4uand0LCB0b2tlbjogand0UGF5bG9hZCB9KVxuXG4gICAgICAvLyBTZXQgY29va2llLCB0byBhbHNvIHVwZGF0ZSBleHBpcnkgZGF0ZSBvbiBjb29raWVcbiAgICAgIGNvb2tpZS5zZXQocmVzLCBjb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lLCBuZXdFbmNvZGVkSnd0LCB7XG4gICAgICAgIGV4cGlyZXM6IHNlc3Npb25FeHBpcmVzLFxuICAgICAgICAuLi5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgfSlcblxuICAgICAgYXdhaXQgZGlzcGF0Y2hFdmVudChldmVudHMuc2Vzc2lvbiwge1xuICAgICAgICBzZXNzaW9uOiBzZXNzaW9uUGF5bG9hZCxcbiAgICAgICAgand0OiBqd3RQYXlsb2FkLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgSldUIG5vdCB2ZXJpZmlhYmxlLCBtYWtlIHN1cmUgdGhlIGNvb2tpZSBmb3IgaXQgaXMgcmVtb3ZlZCBhbmQgcmV0dXJuIGVtcHR5IG9iamVjdFxuICAgICAgbG9nZ2VyLmVycm9yKFwiSldUX1NFU1NJT05fRVJST1JcIiwgZXJyb3IpXG4gICAgICBjb29raWUuc2V0KHJlcywgY29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSwgXCJcIiwge1xuICAgICAgICAuLi5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6IDAsXG4gICAgICB9KVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBnZXRVc2VyLCBnZXRTZXNzaW9uLCB1cGRhdGVTZXNzaW9uIH0gPSBhZGFwdGVyRXJyb3JIYW5kbGVyKFxuICAgICAgICBhd2FpdCBhZGFwdGVyLmdldEFkYXB0ZXIocmVxLm9wdGlvbnMpLFxuICAgICAgICBsb2dnZXJcbiAgICAgIClcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHNlc3Npb25Ub2tlbilcbiAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgIC8vIFRyaWdnZXIgdXBkYXRlIHRvIHNlc3Npb24gb2JqZWN0IHRvIHVwZGF0ZSBzZXNzaW9uIGV4cGlyeVxuICAgICAgICBhd2FpdCB1cGRhdGVTZXNzaW9uKHNlc3Npb24pXG5cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGdldFVzZXIoc2Vzc2lvbi51c2VySWQpXG5cbiAgICAgICAgLy8gQnkgZGVmYXVsdCwgb25seSBleHBvc2VzIGEgbGltaXRlZCBzdWJzZXQgb2YgaW5mb3JtYXRpb24gdG8gdGhlIGNsaWVudFxuICAgICAgICAvLyBhcyBuZWVkZWQgZm9yIHByZXNlbnRhdGlvbiBwdXJwb3NlcyAoZS5nLiBcInlvdSBhcmUgbG9nZ2VkIGluIGFz4oCmXCIpLlxuICAgICAgICBjb25zdCBkZWZhdWx0U2Vzc2lvblBheWxvYWQgPSB7XG4gICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcbiAgICAgICAgICAgIHVpZDogdXNlci51aWQsXG4gICAgICAgICAgICBnaWQ6IHVzZXIuZ2lkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWNjZXNzVG9rZW46IHNlc3Npb24uYWNjZXNzVG9rZW4sXG4gICAgICAgICAgZXhwaXJlczogc2Vzc2lvbi5leHBpcmVzLFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGFzcyBTZXNzaW9uIHRocm91Z2ggdG8gdGhlIHNlc3Npb24gY2FsbGJhY2tcbiAgICAgICAgY29uc3Qgc2Vzc2lvblBheWxvYWQgPSBhd2FpdCBjYWxsYmFja3Muc2Vzc2lvbihcbiAgICAgICAgICBkZWZhdWx0U2Vzc2lvblBheWxvYWQsXG4gICAgICAgICAgdXNlclxuICAgICAgICApXG5cbiAgICAgICAgLy8gUmV0dXJuIHNlc3Npb24gcGF5bG9hZCBhcyByZXNwb25zZVxuICAgICAgICByZXNwb25zZSA9IHNlc3Npb25QYXlsb2FkXG5cbiAgICAgICAgLy8gU2V0IGNvb2tpZSBhZ2FpbiB0byB1cGRhdGUgZXhwaXJ5XG4gICAgICAgIGNvb2tpZS5zZXQocmVzLCBjb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lLCBzZXNzaW9uVG9rZW4sIHtcbiAgICAgICAgICBleHBpcmVzOiBzZXNzaW9uLmV4cGlyZXMsXG4gICAgICAgICAgLi4uY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgfSlcblxuICAgICAgICBhd2FpdCBkaXNwYXRjaEV2ZW50KGV2ZW50cy5zZXNzaW9uLCB7IHNlc3Npb246IHNlc3Npb25QYXlsb2FkIH0pXG4gICAgICB9IGVsc2UgaWYgKHNlc3Npb25Ub2tlbikge1xuICAgICAgICAvLyBJZiBzZXNzaW9uVG9rZW4gd2FzIGZvdW5kIHNldCBidXQgaXQncyBub3QgdmFsaWQgZm9yIGEgc2Vzc2lvbiB0aGVuXG4gICAgICAgIC8vIHJlbW92ZSB0aGUgc2Vzc2lvblRva2VuIGNvb2tpZSBmcm9tIGJyb3dzZXIuXG4gICAgICAgIGNvb2tpZS5zZXQocmVzLCBjb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lLCBcIlwiLCB7XG4gICAgICAgICAgLi4uY29va2llcy5zZXNzaW9uVG9rZW4ub3B0aW9ucyxcbiAgICAgICAgICBtYXhBZ2U6IDAsXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIlNFU1NJT05fRVJST1JcIiwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgcmVzLmpzb24ocmVzcG9uc2UpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./next-auth/server/routes/session.js\n");

/***/ }),

/***/ "./next-auth/server/routes/signin.js":
/*!*******************************************!*\
  !*** ./next-auth/server/routes/signin.js ***!
  \*******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ signin; }\n/* harmony export */ });\n/* harmony import */ var _lib_signin_oauth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/signin/oauth */ \"./next-auth/server/lib/signin/oauth.js\");\n/* harmony import */ var _lib_signin_email__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/signin/email */ \"./next-auth/server/lib/signin/email.js\");\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\n\n\n\n/**\n * Handle requests to /api/auth/signin\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function signin(req, res) {\n  const {\n    provider,\n    baseUrl,\n    basePath,\n    adapter,\n    callbacks,\n    logger\n  } = req.options;\n\n  if (!provider.type) {\n    return res.status(500).end(`Error: Type not specified for ${provider.name}`);\n  }\n\n  if (provider.type === \"oauth\" && req.method === \"POST\") {\n    try {\n      const authorizationUrl = await (0,_lib_signin_oauth__WEBPACK_IMPORTED_MODULE_0__.default)(req);\n      return res.redirect(authorizationUrl);\n    } catch (error) {\n      logger.error(\"SIGNIN_OAUTH_ERROR\", error);\n      return res.redirect(`${baseUrl}${basePath}/error?error=OAuthSignin`);\n    }\n  } else if (provider.type === \"email\" && req.method === \"POST\") {\n    var _req$body$email$toLow, _req$body$email;\n\n    if (!adapter) {\n      logger.error(\"EMAIL_REQUIRES_ADAPTER_ERROR\");\n      return res.redirect(`${baseUrl}${basePath}/error?error=Configuration`);\n    }\n\n    const {\n      getUserByEmail\n    } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__.default)(await adapter.getAdapter(req.options), logger); // Note: Technically the part of the email address local mailbox element\n    // (everything before the @ symbol) should be treated as 'case sensitive'\n    // according to RFC 2821, but in practice this causes more problems than\n    // it solves. We treat email addresses as all lower case. If anyone\n    // complains about this we can make strict RFC 2821 compliance an option.\n\n    const email = (_req$body$email$toLow = (_req$body$email = req.body.email) === null || _req$body$email === void 0 ? void 0 : _req$body$email.toLowerCase()) !== null && _req$body$email$toLow !== void 0 ? _req$body$email$toLow : null; // If is an existing user return a user object (otherwise use placeholder)\n\n    const profile = (await getUserByEmail(email)) || {\n      email\n    };\n    const account = {\n      id: provider.id,\n      type: \"email\",\n      providerAccountId: email\n    }; // Check if user is allowed to sign in\n\n    try {\n      const signInCallbackResponse = await callbacks.signIn(profile, account, {\n        email,\n        verificationRequest: true\n      });\n\n      if (signInCallbackResponse === false) {\n        return res.redirect(`${baseUrl}${basePath}/error?error=AccessDenied`);\n      } else if (typeof signInCallbackResponse === \"string\") {\n        return res.redirect(signInCallbackResponse);\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        return res.redirect(`${baseUrl}${basePath}/error?error=${encodeURIComponent(error)}`);\n      } // TODO: Remove in a future major release\n\n\n      logger.warn(\"SIGNIN_CALLBACK_REJECT_REDIRECT\");\n      return res.redirect(error);\n    }\n\n    try {\n      await (0,_lib_signin_email__WEBPACK_IMPORTED_MODULE_1__.default)(email, provider, req.options);\n    } catch (error) {\n      logger.error(\"SIGNIN_EMAIL_ERROR\", error);\n      return res.redirect(`${baseUrl}${basePath}/error?error=EmailSignin`);\n    }\n\n    return res.redirect(`${baseUrl}${basePath}/verify-request?provider=${encodeURIComponent(provider.id)}&type=${encodeURIComponent(provider.type)}`);\n  }\n\n  return res.redirect(`${baseUrl}${basePath}/signin`);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvc2lnbmluLmpzP2UzYTEiXSwibmFtZXMiOlsic2lnbmluIiwicmVxIiwicmVzIiwicHJvdmlkZXIiLCJiYXNlVXJsIiwiYmFzZVBhdGgiLCJhZGFwdGVyIiwiY2FsbGJhY2tzIiwibG9nZ2VyIiwib3B0aW9ucyIsInR5cGUiLCJzdGF0dXMiLCJlbmQiLCJuYW1lIiwibWV0aG9kIiwiYXV0aG9yaXphdGlvblVybCIsImdldEF1dGhvcml6YXRpb25VcmwiLCJyZWRpcmVjdCIsImVycm9yIiwiZ2V0VXNlckJ5RW1haWwiLCJhZGFwdGVyRXJyb3JIYW5kbGVyIiwiZ2V0QWRhcHRlciIsImVtYWlsIiwiYm9keSIsInRvTG93ZXJDYXNlIiwicHJvZmlsZSIsImFjY291bnQiLCJpZCIsInByb3ZpZGVyQWNjb3VudElkIiwic2lnbkluQ2FsbGJhY2tSZXNwb25zZSIsInNpZ25JbiIsInZlcmlmaWNhdGlvblJlcXVlc3QiLCJFcnJvciIsImVuY29kZVVSSUNvbXBvbmVudCIsIndhcm4iLCJlbWFpbFNpZ25pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ2UsZUFBZUEsTUFBZixDQUFzQkMsR0FBdEIsRUFBMkJDLEdBQTNCLEVBQWdDO0FBQzdDLFFBQU07QUFDSkMsWUFESTtBQUVKQyxXQUZJO0FBR0pDLFlBSEk7QUFJSkMsV0FKSTtBQUtKQyxhQUxJO0FBTUpDO0FBTkksTUFPRlAsR0FBRyxDQUFDUSxPQVBSOztBQVNBLE1BQUksQ0FBQ04sUUFBUSxDQUFDTyxJQUFkLEVBQW9CO0FBQ2xCLFdBQU9SLEdBQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLEdBQWhCLENBQXFCLGlDQUFnQ1QsUUFBUSxDQUFDVSxJQUFLLEVBQW5FLENBQVA7QUFDRDs7QUFFRCxNQUFJVixRQUFRLENBQUNPLElBQVQsS0FBa0IsT0FBbEIsSUFBNkJULEdBQUcsQ0FBQ2EsTUFBSixLQUFlLE1BQWhELEVBQXdEO0FBQ3RELFFBQUk7QUFDRixZQUFNQyxnQkFBZ0IsR0FBRyxNQUFNQywwREFBbUIsQ0FBQ2YsR0FBRCxDQUFsRDtBQUNBLGFBQU9DLEdBQUcsQ0FBQ2UsUUFBSixDQUFhRixnQkFBYixDQUFQO0FBQ0QsS0FIRCxDQUdFLE9BQU9HLEtBQVAsRUFBYztBQUNkVixZQUFNLENBQUNVLEtBQVAsQ0FBYSxvQkFBYixFQUFtQ0EsS0FBbkM7QUFDQSxhQUFPaEIsR0FBRyxDQUFDZSxRQUFKLENBQWMsR0FBRWIsT0FBUSxHQUFFQyxRQUFTLDBCQUFuQyxDQUFQO0FBQ0Q7QUFDRixHQVJELE1BUU8sSUFBSUYsUUFBUSxDQUFDTyxJQUFULEtBQWtCLE9BQWxCLElBQTZCVCxHQUFHLENBQUNhLE1BQUosS0FBZSxNQUFoRCxFQUF3RDtBQUFBOztBQUM3RCxRQUFJLENBQUNSLE9BQUwsRUFBYztBQUNaRSxZQUFNLENBQUNVLEtBQVAsQ0FBYSw4QkFBYjtBQUNBLGFBQU9oQixHQUFHLENBQUNlLFFBQUosQ0FBYyxHQUFFYixPQUFRLEdBQUVDLFFBQVMsNEJBQW5DLENBQVA7QUFDRDs7QUFDRCxVQUFNO0FBQUVjO0FBQUYsUUFBcUJDLGdFQUFtQixDQUM1QyxNQUFNZCxPQUFPLENBQUNlLFVBQVIsQ0FBbUJwQixHQUFHLENBQUNRLE9BQXZCLENBRHNDLEVBRTVDRCxNQUY0QyxDQUE5QyxDQUw2RCxDQVU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLFVBQU1jLEtBQUssK0NBQUdyQixHQUFHLENBQUNzQixJQUFKLENBQVNELEtBQVosb0RBQUcsZ0JBQWdCRSxXQUFoQixFQUFILHlFQUFvQyxJQUEvQyxDQWY2RCxDQWlCN0Q7O0FBQ0EsVUFBTUMsT0FBTyxHQUFHLENBQUMsTUFBTU4sY0FBYyxDQUFDRyxLQUFELENBQXJCLEtBQWlDO0FBQUVBO0FBQUYsS0FBakQ7QUFDQSxVQUFNSSxPQUFPLEdBQUc7QUFBRUMsUUFBRSxFQUFFeEIsUUFBUSxDQUFDd0IsRUFBZjtBQUFtQmpCLFVBQUksRUFBRSxPQUF6QjtBQUFrQ2tCLHVCQUFpQixFQUFFTjtBQUFyRCxLQUFoQixDQW5CNkQsQ0FxQjdEOztBQUNBLFFBQUk7QUFDRixZQUFNTyxzQkFBc0IsR0FBRyxNQUFNdEIsU0FBUyxDQUFDdUIsTUFBVixDQUFpQkwsT0FBakIsRUFBMEJDLE9BQTFCLEVBQW1DO0FBQ3RFSixhQURzRTtBQUV0RVMsMkJBQW1CLEVBQUU7QUFGaUQsT0FBbkMsQ0FBckM7O0FBSUEsVUFBSUYsc0JBQXNCLEtBQUssS0FBL0IsRUFBc0M7QUFDcEMsZUFBTzNCLEdBQUcsQ0FBQ2UsUUFBSixDQUFjLEdBQUViLE9BQVEsR0FBRUMsUUFBUywyQkFBbkMsQ0FBUDtBQUNELE9BRkQsTUFFTyxJQUFJLE9BQU93QixzQkFBUCxLQUFrQyxRQUF0QyxFQUFnRDtBQUNyRCxlQUFPM0IsR0FBRyxDQUFDZSxRQUFKLENBQWFZLHNCQUFiLENBQVA7QUFDRDtBQUNGLEtBVkQsQ0FVRSxPQUFPWCxLQUFQLEVBQWM7QUFDZCxVQUFJQSxLQUFLLFlBQVljLEtBQXJCLEVBQTRCO0FBQzFCLGVBQU85QixHQUFHLENBQUNlLFFBQUosQ0FDSixHQUFFYixPQUFRLEdBQUVDLFFBQVMsZ0JBQWU0QixrQkFBa0IsQ0FBQ2YsS0FBRCxDQUFRLEVBRDFELENBQVA7QUFHRCxPQUxhLENBTWQ7OztBQUNBVixZQUFNLENBQUMwQixJQUFQLENBQVksaUNBQVo7QUFDQSxhQUFPaEMsR0FBRyxDQUFDZSxRQUFKLENBQWFDLEtBQWIsQ0FBUDtBQUNEOztBQUVELFFBQUk7QUFDRixZQUFNaUIsMERBQVcsQ0FBQ2IsS0FBRCxFQUFRbkIsUUFBUixFQUFrQkYsR0FBRyxDQUFDUSxPQUF0QixDQUFqQjtBQUNELEtBRkQsQ0FFRSxPQUFPUyxLQUFQLEVBQWM7QUFDZFYsWUFBTSxDQUFDVSxLQUFQLENBQWEsb0JBQWIsRUFBbUNBLEtBQW5DO0FBQ0EsYUFBT2hCLEdBQUcsQ0FBQ2UsUUFBSixDQUFjLEdBQUViLE9BQVEsR0FBRUMsUUFBUywwQkFBbkMsQ0FBUDtBQUNEOztBQUVELFdBQU9ILEdBQUcsQ0FBQ2UsUUFBSixDQUNKLEdBQUViLE9BQVEsR0FBRUMsUUFBUyw0QkFBMkI0QixrQkFBa0IsQ0FDakU5QixRQUFRLENBQUN3QixFQUR3RCxDQUVqRSxTQUFRTSxrQkFBa0IsQ0FBQzlCLFFBQVEsQ0FBQ08sSUFBVixDQUFnQixFQUh2QyxDQUFQO0FBS0Q7O0FBQ0QsU0FBT1IsR0FBRyxDQUFDZSxRQUFKLENBQWMsR0FBRWIsT0FBUSxHQUFFQyxRQUFTLFNBQW5DLENBQVA7QUFDRCIsImZpbGUiOiIuL25leHQtYXV0aC9zZXJ2ZXIvcm91dGVzL3NpZ25pbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZXRBdXRob3JpemF0aW9uVXJsIGZyb20gXCIuLi9saWIvc2lnbmluL29hdXRoXCJcbmltcG9ydCBlbWFpbFNpZ25pbiBmcm9tIFwiLi4vbGliL3NpZ25pbi9lbWFpbFwiXG5pbXBvcnQgYWRhcHRlckVycm9ySGFuZGxlciBmcm9tIFwiLi4vLi4vYWRhcHRlcnMvZXJyb3ItaGFuZGxlclwiXG5cbi8qKlxuICogSGFuZGxlIHJlcXVlc3RzIHRvIC9hcGkvYXV0aC9zaWduaW5cbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVxdWVzdH0gcmVxXG4gKiBAcGFyYW0ge2ltcG9ydChcInR5cGVzL2ludGVybmFsc1wiKS5OZXh0QXV0aFJlc3BvbnNlfSByZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gc2lnbmluKHJlcSwgcmVzKSB7XG4gIGNvbnN0IHtcbiAgICBwcm92aWRlcixcbiAgICBiYXNlVXJsLFxuICAgIGJhc2VQYXRoLFxuICAgIGFkYXB0ZXIsXG4gICAgY2FsbGJhY2tzLFxuICAgIGxvZ2dlcixcbiAgfSA9IHJlcS5vcHRpb25zXG5cbiAgaWYgKCFwcm92aWRlci50eXBlKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoYEVycm9yOiBUeXBlIG5vdCBzcGVjaWZpZWQgZm9yICR7cHJvdmlkZXIubmFtZX1gKVxuICB9XG5cbiAgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwib2F1dGhcIiAmJiByZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdXRob3JpemF0aW9uVXJsID0gYXdhaXQgZ2V0QXV0aG9yaXphdGlvblVybChyZXEpXG4gICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGF1dGhvcml6YXRpb25VcmwpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIlNJR05JTl9PQVVUSF9FUlJPUlwiLCBlcnJvcilcbiAgICAgIHJldHVybiByZXMucmVkaXJlY3QoYCR7YmFzZVVybH0ke2Jhc2VQYXRofS9lcnJvcj9lcnJvcj1PQXV0aFNpZ25pbmApXG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3ZpZGVyLnR5cGUgPT09IFwiZW1haWxcIiAmJiByZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgIGlmICghYWRhcHRlcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRU1BSUxfUkVRVUlSRVNfQURBUFRFUl9FUlJPUlwiKVxuICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPUNvbmZpZ3VyYXRpb25gKVxuICAgIH1cbiAgICBjb25zdCB7IGdldFVzZXJCeUVtYWlsIH0gPSBhZGFwdGVyRXJyb3JIYW5kbGVyKFxuICAgICAgYXdhaXQgYWRhcHRlci5nZXRBZGFwdGVyKHJlcS5vcHRpb25zKSxcbiAgICAgIGxvZ2dlclxuICAgIClcblxuICAgIC8vIE5vdGU6IFRlY2huaWNhbGx5IHRoZSBwYXJ0IG9mIHRoZSBlbWFpbCBhZGRyZXNzIGxvY2FsIG1haWxib3ggZWxlbWVudFxuICAgIC8vIChldmVyeXRoaW5nIGJlZm9yZSB0aGUgQCBzeW1ib2wpIHNob3VsZCBiZSB0cmVhdGVkIGFzICdjYXNlIHNlbnNpdGl2ZSdcbiAgICAvLyBhY2NvcmRpbmcgdG8gUkZDIDI4MjEsIGJ1dCBpbiBwcmFjdGljZSB0aGlzIGNhdXNlcyBtb3JlIHByb2JsZW1zIHRoYW5cbiAgICAvLyBpdCBzb2x2ZXMuIFdlIHRyZWF0IGVtYWlsIGFkZHJlc3NlcyBhcyBhbGwgbG93ZXIgY2FzZS4gSWYgYW55b25lXG4gICAgLy8gY29tcGxhaW5zIGFib3V0IHRoaXMgd2UgY2FuIG1ha2Ugc3RyaWN0IFJGQyAyODIxIGNvbXBsaWFuY2UgYW4gb3B0aW9uLlxuICAgIGNvbnN0IGVtYWlsID0gcmVxLmJvZHkuZW1haWw/LnRvTG93ZXJDYXNlKCkgPz8gbnVsbFxuXG4gICAgLy8gSWYgaXMgYW4gZXhpc3RpbmcgdXNlciByZXR1cm4gYSB1c2VyIG9iamVjdCAob3RoZXJ3aXNlIHVzZSBwbGFjZWhvbGRlcilcbiAgICBjb25zdCBwcm9maWxlID0gKGF3YWl0IGdldFVzZXJCeUVtYWlsKGVtYWlsKSkgfHwgeyBlbWFpbCB9XG4gICAgY29uc3QgYWNjb3VudCA9IHsgaWQ6IHByb3ZpZGVyLmlkLCB0eXBlOiBcImVtYWlsXCIsIHByb3ZpZGVyQWNjb3VudElkOiBlbWFpbCB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGlzIGFsbG93ZWQgdG8gc2lnbiBpblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzaWduSW5DYWxsYmFja1Jlc3BvbnNlID0gYXdhaXQgY2FsbGJhY2tzLnNpZ25Jbihwcm9maWxlLCBhY2NvdW50LCB7XG4gICAgICAgIGVtYWlsLFxuICAgICAgICB2ZXJpZmljYXRpb25SZXF1ZXN0OiB0cnVlLFxuICAgICAgfSlcbiAgICAgIGlmIChzaWduSW5DYWxsYmFja1Jlc3BvbnNlID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9QWNjZXNzRGVuaWVkYClcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHNpZ25JbkNhbGxiYWNrUmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChzaWduSW5DYWxsYmFja1Jlc3BvbnNlKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgICAgIGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vZXJyb3I/ZXJyb3I9JHtlbmNvZGVVUklDb21wb25lbnQoZXJyb3IpfWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgLy8gVE9ETzogUmVtb3ZlIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2VcbiAgICAgIGxvZ2dlci53YXJuKFwiU0lHTklOX0NBTExCQUNLX1JFSkVDVF9SRURJUkVDVFwiKVxuICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChlcnJvcilcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgZW1haWxTaWduaW4oZW1haWwsIHByb3ZpZGVyLCByZXEub3B0aW9ucylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiU0lHTklOX0VNQUlMX0VSUk9SXCIsIGVycm9yKVxuICAgICAgcmV0dXJuIHJlcy5yZWRpcmVjdChgJHtiYXNlVXJsfSR7YmFzZVBhdGh9L2Vycm9yP2Vycm9yPUVtYWlsU2lnbmluYClcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLnJlZGlyZWN0KFxuICAgICAgYCR7YmFzZVVybH0ke2Jhc2VQYXRofS92ZXJpZnktcmVxdWVzdD9wcm92aWRlcj0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgcHJvdmlkZXIuaWRcbiAgICAgICl9JnR5cGU9JHtlbmNvZGVVUklDb21wb25lbnQocHJvdmlkZXIudHlwZSl9YFxuICAgIClcbiAgfVxuICByZXR1cm4gcmVzLnJlZGlyZWN0KGAke2Jhc2VVcmx9JHtiYXNlUGF0aH0vc2lnbmluYClcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./next-auth/server/routes/signin.js\n");

/***/ }),

/***/ "./next-auth/server/routes/signout.js":
/*!********************************************!*\
  !*** ./next-auth/server/routes/signout.js ***!
  \********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ signout; }\n/* harmony export */ });\n/* harmony import */ var _lib_cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/cookie */ \"./next-auth/server/lib/cookie.js\");\n/* harmony import */ var _lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/dispatch-event */ \"./next-auth/server/lib/dispatch-event.js\");\n/* harmony import */ var _adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../adapters/error-handler */ \"./next-auth/adapters/error-handler.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\n/**\n * Handle requests to /api/auth/signout\n * @param {import(\"types/internals\").NextAuthRequest} req\n * @param {import(\"types/internals\").NextAuthResponse} res\n */\n\nasync function signout(req, res) {\n  const {\n    adapter,\n    cookies,\n    events,\n    jwt,\n    callbackUrl,\n    logger\n  } = req.options;\n  const useJwtSession = req.options.session.jwt;\n  const sessionToken = req.cookies[cookies.sessionToken.name];\n\n  if (useJwtSession) {\n    // Dispatch signout event\n    try {\n      const decodedJwt = await jwt.decode(_objectSpread(_objectSpread({}, jwt), {}, {\n        token: sessionToken\n      }));\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.signOut, decodedJwt);\n    } catch (error) {// Do nothing if decoding the JWT fails\n    }\n  } else {\n    // Get session from database\n    const {\n      getSession,\n      deleteSession\n    } = (0,_adapters_error_handler__WEBPACK_IMPORTED_MODULE_2__.default)(await adapter.getAdapter(req.options), logger);\n\n    try {\n      // Dispatch signout event\n      const session = await getSession(sessionToken);\n      await (0,_lib_dispatch_event__WEBPACK_IMPORTED_MODULE_1__.default)(events.signOut, session);\n    } catch (error) {// Do nothing if looking up the session fails\n    }\n\n    try {\n      // Remove session from database\n      await deleteSession(sessionToken);\n    } catch (error) {\n      // If error, log it but continue\n      logger.error(\"SIGNOUT_ERROR\", error);\n    }\n  } // Remove Session Token\n\n\n  _lib_cookie__WEBPACK_IMPORTED_MODULE_0__.set(res, cookies.sessionToken.name, \"\", _objectSpread(_objectSpread({}, cookies.sessionToken.options), {}, {\n    maxAge: 0\n  }));\n  return res.redirect(callbackUrl);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vbmV4dC1hdXRoL3NlcnZlci9yb3V0ZXMvc2lnbm91dC5qcz9hZjAxIl0sIm5hbWVzIjpbInNpZ25vdXQiLCJyZXEiLCJyZXMiLCJhZGFwdGVyIiwiY29va2llcyIsImV2ZW50cyIsImp3dCIsImNhbGxiYWNrVXJsIiwibG9nZ2VyIiwib3B0aW9ucyIsInVzZUp3dFNlc3Npb24iLCJzZXNzaW9uIiwic2Vzc2lvblRva2VuIiwibmFtZSIsImRlY29kZWRKd3QiLCJkZWNvZGUiLCJ0b2tlbiIsImRpc3BhdGNoRXZlbnQiLCJzaWduT3V0IiwiZXJyb3IiLCJnZXRTZXNzaW9uIiwiZGVsZXRlU2Vzc2lvbiIsImFkYXB0ZXJFcnJvckhhbmRsZXIiLCJnZXRBZGFwdGVyIiwiY29va2llIiwibWF4QWdlIiwicmVkaXJlY3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNlLGVBQWVBLE9BQWYsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixFQUFpQztBQUM5QyxRQUFNO0FBQUVDLFdBQUY7QUFBV0MsV0FBWDtBQUFvQkMsVUFBcEI7QUFBNEJDLE9BQTVCO0FBQWlDQyxlQUFqQztBQUE4Q0M7QUFBOUMsTUFBeURQLEdBQUcsQ0FBQ1EsT0FBbkU7QUFDQSxRQUFNQyxhQUFhLEdBQUdULEdBQUcsQ0FBQ1EsT0FBSixDQUFZRSxPQUFaLENBQW9CTCxHQUExQztBQUNBLFFBQU1NLFlBQVksR0FBR1gsR0FBRyxDQUFDRyxPQUFKLENBQVlBLE9BQU8sQ0FBQ1EsWUFBUixDQUFxQkMsSUFBakMsQ0FBckI7O0FBRUEsTUFBSUgsYUFBSixFQUFtQjtBQUNqQjtBQUNBLFFBQUk7QUFDRixZQUFNSSxVQUFVLEdBQUcsTUFBTVIsR0FBRyxDQUFDUyxNQUFKLGlDQUFnQlQsR0FBaEI7QUFBcUJVLGFBQUssRUFBRUo7QUFBNUIsU0FBekI7QUFDQSxZQUFNSyw0REFBYSxDQUFDWixNQUFNLENBQUNhLE9BQVIsRUFBaUJKLFVBQWpCLENBQW5CO0FBQ0QsS0FIRCxDQUdFLE9BQU9LLEtBQVAsRUFBYyxDQUNkO0FBQ0Q7QUFDRixHQVJELE1BUU87QUFDTDtBQUNBLFVBQU07QUFBRUMsZ0JBQUY7QUFBY0M7QUFBZCxRQUFnQ0MsZ0VBQW1CLENBQ3ZELE1BQU1uQixPQUFPLENBQUNvQixVQUFSLENBQW1CdEIsR0FBRyxDQUFDUSxPQUF2QixDQURpRCxFQUV2REQsTUFGdUQsQ0FBekQ7O0FBS0EsUUFBSTtBQUNGO0FBQ0EsWUFBTUcsT0FBTyxHQUFHLE1BQU1TLFVBQVUsQ0FBQ1IsWUFBRCxDQUFoQztBQUNBLFlBQU1LLDREQUFhLENBQUNaLE1BQU0sQ0FBQ2EsT0FBUixFQUFpQlAsT0FBakIsQ0FBbkI7QUFDRCxLQUpELENBSUUsT0FBT1EsS0FBUCxFQUFjLENBQ2Q7QUFDRDs7QUFFRCxRQUFJO0FBQ0Y7QUFDQSxZQUFNRSxhQUFhLENBQUNULFlBQUQsQ0FBbkI7QUFDRCxLQUhELENBR0UsT0FBT08sS0FBUCxFQUFjO0FBQ2Q7QUFDQVgsWUFBTSxDQUFDVyxLQUFQLENBQWEsZUFBYixFQUE4QkEsS0FBOUI7QUFDRDtBQUNGLEdBbkM2QyxDQXFDOUM7OztBQUNBSyw4Q0FBQSxDQUFXdEIsR0FBWCxFQUFnQkUsT0FBTyxDQUFDUSxZQUFSLENBQXFCQyxJQUFyQyxFQUEyQyxFQUEzQyxrQ0FDS1QsT0FBTyxDQUFDUSxZQUFSLENBQXFCSCxPQUQxQjtBQUVFZ0IsVUFBTSxFQUFFO0FBRlY7QUFLQSxTQUFPdkIsR0FBRyxDQUFDd0IsUUFBSixDQUFhbkIsV0FBYixDQUFQO0FBQ0QiLCJmaWxlIjoiLi9uZXh0LWF1dGgvc2VydmVyL3JvdXRlcy9zaWdub3V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29va2llIGZyb20gXCIuLi9saWIvY29va2llXCJcbmltcG9ydCBkaXNwYXRjaEV2ZW50IGZyb20gXCIuLi9saWIvZGlzcGF0Y2gtZXZlbnRcIlxuaW1wb3J0IGFkYXB0ZXJFcnJvckhhbmRsZXIgZnJvbSBcIi4uLy4uL2FkYXB0ZXJzL2Vycm9yLWhhbmRsZXJcIlxuXG4vKipcbiAqIEhhbmRsZSByZXF1ZXN0cyB0byAvYXBpL2F1dGgvc2lnbm91dFxuICogQHBhcmFtIHtpbXBvcnQoXCJ0eXBlcy9pbnRlcm5hbHNcIikuTmV4dEF1dGhSZXF1ZXN0fSByZXFcbiAqIEBwYXJhbSB7aW1wb3J0KFwidHlwZXMvaW50ZXJuYWxzXCIpLk5leHRBdXRoUmVzcG9uc2V9IHJlc1xuICovXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBzaWdub3V0KHJlcSwgcmVzKSB7XG4gIGNvbnN0IHsgYWRhcHRlciwgY29va2llcywgZXZlbnRzLCBqd3QsIGNhbGxiYWNrVXJsLCBsb2dnZXIgfSA9IHJlcS5vcHRpb25zXG4gIGNvbnN0IHVzZUp3dFNlc3Npb24gPSByZXEub3B0aW9ucy5zZXNzaW9uLmp3dFxuICBjb25zdCBzZXNzaW9uVG9rZW4gPSByZXEuY29va2llc1tjb29raWVzLnNlc3Npb25Ub2tlbi5uYW1lXVxuXG4gIGlmICh1c2VKd3RTZXNzaW9uKSB7XG4gICAgLy8gRGlzcGF0Y2ggc2lnbm91dCBldmVudFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZWNvZGVkSnd0ID0gYXdhaXQgand0LmRlY29kZSh7IC4uLmp3dCwgdG9rZW46IHNlc3Npb25Ub2tlbiB9KVxuICAgICAgYXdhaXQgZGlzcGF0Y2hFdmVudChldmVudHMuc2lnbk91dCwgZGVjb2RlZEp3dClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gRG8gbm90aGluZyBpZiBkZWNvZGluZyB0aGUgSldUIGZhaWxzXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEdldCBzZXNzaW9uIGZyb20gZGF0YWJhc2VcbiAgICBjb25zdCB7IGdldFNlc3Npb24sIGRlbGV0ZVNlc3Npb24gfSA9IGFkYXB0ZXJFcnJvckhhbmRsZXIoXG4gICAgICBhd2FpdCBhZGFwdGVyLmdldEFkYXB0ZXIocmVxLm9wdGlvbnMpLFxuICAgICAgbG9nZ2VyXG4gICAgKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIERpc3BhdGNoIHNpZ25vdXQgZXZlbnRcbiAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKHNlc3Npb25Ub2tlbilcbiAgICAgIGF3YWl0IGRpc3BhdGNoRXZlbnQoZXZlbnRzLnNpZ25PdXQsIHNlc3Npb24pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgaWYgbG9va2luZyB1cCB0aGUgc2Vzc2lvbiBmYWlsc1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBSZW1vdmUgc2Vzc2lvbiBmcm9tIGRhdGFiYXNlXG4gICAgICBhd2FpdCBkZWxldGVTZXNzaW9uKHNlc3Npb25Ub2tlbilcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgZXJyb3IsIGxvZyBpdCBidXQgY29udGludWVcbiAgICAgIGxvZ2dlci5lcnJvcihcIlNJR05PVVRfRVJST1JcIiwgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIFNlc3Npb24gVG9rZW5cbiAgY29va2llLnNldChyZXMsIGNvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsIFwiXCIsIHtcbiAgICAuLi5jb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLFxuICAgIG1heEFnZTogMCxcbiAgfSlcblxuICByZXR1cm4gcmVzLnJlZGlyZWN0KGNhbGxiYWNrVXJsKVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./next-auth/server/routes/signout.js\n");

/***/ }),

/***/ "./pages/api/auth/[...nextauth].js":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].js ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"./next-auth/server/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"./next-auth/providers/credentials.js\");\nconst ldap = __webpack_require__(/*! ldapjs */ \"ldapjs\");\n\n\n\nvar fs = __webpack_require__(/*! fs */ \"fs\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ((0,next_auth__WEBPACK_IMPORTED_MODULE_0__.default)({\n  providers: [(0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__.default)({\n    name: \"LDAP\",\n    credentials: {\n      username: {\n        label: \"ID\",\n        type: \"text\",\n        placeholder: \"\"\n      },\n      password: {\n        label: \"Password\",\n        type: \"password\"\n      }\n    },\n\n    async authorize(credentials, req) {\n      // Essentially promisify the LDAPJS client.bind function\n      return new Promise((resolve, reject) => {\n        console.log(\"ldap\");\n        const opts = {\n          scope: 'sub',\n          attributes: ['uid', 'uidNumber', 'gidNumber']\n        }; // You might want to pull this call out so we're not making a new LDAP client on every login attemp\n\n        console.log(\"client\");\n        var tlsOptions = {\n          key: fs.readFileSync('certs/ldap.key'),\n          cert: fs.readFileSync('certs/ldap.pem'),\n          requestCert: true,\n          rejectUnauthorized: false,\n          ca: [fs.readFileSync('certs/ca.pem')]\n        };\n        const client = ldap.createClient({\n          url: 'ldaps://150.183.150.24:636',\n          tlsOptions: tlsOptions\n        });\n        console.log(\"bind\");\n        const id = \"uid=\" + credentials.username + \",dc=cm,dc=cluster\";\n        client.bind(id, credentials.password, error => {\n          if (error) {\n            console.error(\"Failed\");\n            reject(new Error(\"CheckID\"));\n          } else {\n            client.search(id, opts, (err, res) => {\n              if (err) {\n                reject(new Error(\"CheckID\"));\n              }\n\n              res.on('searchEntry', function (data) {\n                const user_profile = JSON.stringify(data.object, null, 2);\n                console.log('Data object', data.object.uid);\n                console.log('Data object', data.object.uidNumber);\n                console.log('Data object', data.object.gidNumber);\n                resolve({\n                  name: data.object.uid,\n                  uid: data.object.uidNumber,\n                  gid: data.object.gidNumber\n                });\n              });\n              res.once('error', function (error) {\n                console.log(error);\n                reject(new Error(\"CheckID\"));\n              });\n              res.once('end', function () {\n                console.log('All passed');\n              });\n            });\n            console.log(\"Logged in\");\n          }\n        });\n      });\n    }\n\n  })],\n  jwt: {\n    encryption: true,\n    secret: process.env.SECRET\n  },\n  debug: false,\n  theme: \"auto\"\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0LWF1dGgtYXBwLy4vcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS5qcz85OTA5Il0sIm5hbWVzIjpbImxkYXAiLCJyZXF1aXJlIiwiZnMiLCJOZXh0QXV0aCIsInByb3ZpZGVycyIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJ1c2VybmFtZSIsImxhYmVsIiwidHlwZSIsInBsYWNlaG9sZGVyIiwicGFzc3dvcmQiLCJhdXRob3JpemUiLCJyZXEiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvbnNvbGUiLCJsb2ciLCJvcHRzIiwic2NvcGUiLCJhdHRyaWJ1dGVzIiwidGxzT3B0aW9ucyIsImtleSIsInJlYWRGaWxlU3luYyIsImNlcnQiLCJyZXF1ZXN0Q2VydCIsInJlamVjdFVuYXV0aG9yaXplZCIsImNhIiwiY2xpZW50IiwiY3JlYXRlQ2xpZW50IiwidXJsIiwiaWQiLCJiaW5kIiwiZXJyb3IiLCJFcnJvciIsInNlYXJjaCIsImVyciIsInJlcyIsIm9uIiwiZGF0YSIsInVzZXJfcHJvZmlsZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvYmplY3QiLCJ1aWQiLCJ1aWROdW1iZXIiLCJnaWROdW1iZXIiLCJnaWQiLCJvbmNlIiwiand0IiwiZW5jcnlwdGlvbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJTRUNSRVQiLCJkZWJ1ZyIsInRoZW1lIl0sIm1hcHBpbmdzIjoiOzs7QUFBQSxNQUFNQSxJQUFJLEdBQUdDLG1CQUFPLENBQUMsc0JBQUQsQ0FBcEI7O0FBQ0E7O0FBQ0EsSUFBSUMsRUFBRSxHQUFHRCxtQkFBTyxDQUFDLGNBQUQsQ0FBaEI7O0FBQ0E7QUFFQSwrREFBZUUsa0RBQVEsQ0FBQztBQUN0QkMsV0FBUyxFQUFFLENBQ1RDLHdFQUFtQixDQUFDO0FBQ2xCQyxRQUFJLEVBQUUsTUFEWTtBQUVsQkMsZUFBVyxFQUFFO0FBQ1hDLGNBQVEsRUFBRTtBQUFFQyxhQUFLLEVB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QjtBQUNoQ2pCLHVCQUFPLENBQUNDLEdBQVIsQ0FBWWdCLEtBQVo7QUFDQWxCLHNCQUFNLENBQUMsSUFBSW1CLEtBQUosQ0FBVyxTQUFYLENBQUQsQ0FBTjtBQUNELGVBSEQ7QUFJQUcsaUJBQUcsQ0FBQ1csSUFBSixDQUFTLEtBQVQsRUFBZ0IsWUFBWTtBQUMxQmhDLHVCQUFPLENBQUNDLEdBQVIsQ0FBWSxZQUFaO0FBQ0QsZUFGRDtBQUdELGFBdEJEO0FBdUJBRCxtQkFBTyxDQUFDQyxHQUFSLENBQVksV0FBWjtBQUNEO0FBQ0YsU0E5QkQ7QUErQkQsT0FyRE0sQ0FBUDtBQXNERDs7QUE5RGlCLEdBQUQsQ0FEVixDQURXO0FBbUV0QmdDLEtBQUcsRUFBRTtBQUNIQyxjQUFVLEVBQUUsSUFEVDtBQUVIQyxVQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQUZqQixHQW5FaUI7QUF1RXRCQyxPQUFLLEVBQUUsS0F2RWU7QUF3RXRCQyxPQUFLLEVBQUU7QUF4RWUsQ0FBRCxDQUF2QiIsImZpbGUiOiIuL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBsZGFwID0gcmVxdWlyZShcImxkYXBqc1wiKVxuaW1wb3J0IE5leHRBdXRoIGZyb20gXCJuZXh0LWF1dGhcIlxudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCJcblxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoe1xuICBwcm92aWRlcnM6IFtcbiAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgIG5hbWU6IFwiTERBUFwiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgdXNlcm5hbWU6IHsgbGFiZWw6IFwiSURcIiwgdHlwZTogXCJ0ZXh0XCIsIHBsYWNlaG9sZGVyOiBcIlwiIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiBcIlBhc3N3b3JkXCIsIHR5cGU6IFwicGFzc3dvcmRcIiB9LFxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscywgcmVxKSB7XG4gICAgICAgIC8vIEVzc2VudGlhbGx5IHByb21pc2lmeSB0aGUgTERBUEpTIGNsaWVudC5iaW5kIGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJsZGFwXCIpXG4gICAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIHNjb3BlOiAnc3ViJyxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFsndWlkJywgJ3VpZE51bWJlcicsICdnaWROdW1iZXInXVxuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gWW91IG1pZ2h0IHdhbnQgdG8gcHVsbCB0aGlzIGNhbGwgb3V0IHNvIHdlJ3JlIG5vdCBtYWtpbmcgYSBuZXcgTERBUCBjbGllbnQgb24gZXZlcnkgbG9naW4gYXR0ZW1wXG4gICAgICAgICAgY29uc29sZS5sb2coXCJjbGllbnRcIilcbiAgICAgICAgICB2YXIgdGxzT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGtleTogZnMucmVhZEZpbGVTeW5jKCdjZXJ0cy9sZGFwLmtleScpLFxuICAgICAgICAgICAgY2VydDogZnMucmVhZEZpbGVTeW5jKCdjZXJ0cy9sZGFwLnBlbScpLFxuICAgICAgICAgICAgcmVxdWVzdENlcnQ6IHRydWUsXG4gICAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY2E6IFsgZnMucmVhZEZpbGVTeW5jKCdjZXJ0cy9jYS5wZW0nKSBdXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGxkYXAuY3JlYXRlQ2xpZW50KHtcbiAgICAgICAgICAgIHVybDogJ2xkYXBzOi8vMTUwLjE4My4xNTAuMjQ6NjM2JyxcbiAgICAgICAgICAgIHRsc09wdGlvbnM6IHRsc09wdGlvbnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImJpbmRcIilcbiAgICAgICAgICBjb25zdCBpZCA9IFwidWlkPVwiK2NyZWRlbnRpYWxzLnVzZXJuYW1lK1wiLGRjPWNtLGRjPWNsdXN0ZXJcIjtcbiAgICAgICAgICBjbGllbnQuYmluZChpZCxjcmVkZW50aWFscy5wYXNzd29yZCwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZFwiKTtcbiAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvciAoXCJDaGVja0lEXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNsaWVudC5zZWFyY2goaWQsIG9wdHMsIChlcnIsIHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IgKFwiQ2hlY2tJRFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcy5vbignc2VhcmNoRW50cnknLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdXNlcl9wcm9maWxlID0gSlNPTi5zdHJpbmdpZnkoZGF0YS5vYmplY3QsIG51bGwsIDIpXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YSBvYmplY3QnLCBkYXRhLm9iamVjdC51aWQpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGEgb2JqZWN0JywgZGF0YS5vYmplY3QudWlkTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhIG9iamVjdCcsIGRhdGEub2JqZWN0LmdpZE51bWJlcik7IFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEub2JqZWN0LnVpZCxcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBkYXRhLm9iamVjdC51aWROdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGdpZDogZGF0YS5vYmplY3QuZ2lkTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlcy5vbmNlKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcil7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcbiAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IgKFwiQ2hlY2tJRFwiKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVzLm9uY2UoJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbGwgcGFzc2VkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvZ2dlZCBpblwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9LFxuICAgIH0pLFxuICBdLFxuICBqd3Q6IHtcbiAgICBlbmNyeXB0aW9uOiB0cnVlLFxuICAgIHNlY3JldDogcHJvY2Vzcy5lbnYuU0VDUkVULFxuICB9LFxuICBkZWJ1ZzogZmFsc2UsXG4gIHRoZW1lOiBcImF1dG9cIixcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/api/auth/[...nextauth].js\n");

/***/ }),

/***/ "@next-auth/prisma-legacy-adapter":
/*!***************************************************!*\
  !*** external "@next-auth/prisma-legacy-adapter" ***!
  \***************************************************/
/***/ (function(module) {

"use strict";
module.exports = require("@next-auth/prisma-legacy-adapter");;

/***/ }),

/***/ "@next-auth/typeorm-legacy-adapter":
/*!****************************************************!*\
  !*** external "@next-auth/typeorm-legacy-adapter" ***!
  \****************************************************/
/***/ (function(module) {

"use strict";
module.exports = require("@next-auth/typeorm-legacy-adapter");;

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("crypto");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ (function(module) {

"use strict";
module.exports = require("fs");;

/***/ }),

/***/ "futoin-hkdf":
/*!******************************!*\
  !*** external "futoin-hkdf" ***!
  \******************************/
/***/ (function(module) {

"use strict";
module.exports = require("futoin-hkdf");;

/***/ }),

/***/ "jose":
/*!***********************!*\
  !*** external "jose" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("jose");;

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ (function(module) {

"use strict";
module.exports = require("jsonwebtoken");;

/***/ }),

/***/ "ldapjs":
/*!*************************!*\
  !*** external "ldapjs" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("ldapjs");;

/***/ }),

/***/ "oauth":
/*!************************!*\
  !*** external "oauth" ***!
  \************************/
/***/ (function(module) {

"use strict";
module.exports = require("oauth");;

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ (function(module) {

"use strict";
module.exports = require("path");;

/***/ }),

/***/ "pkce-challenge":
/*!*********************************!*\
  !*** external "pkce-challenge" ***!
  \*********************************/
/***/ (function(module) {

"use strict";
module.exports = require("pkce-challenge");;

/***/ }),

/***/ "preact":
/*!*************************!*\
  !*** external "preact" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = require("preact");;

/***/ }),

/***/ "preact-render-to-string":
/*!******************************************!*\
  !*** external "preact-render-to-string" ***!
  \******************************************/
/***/ (function(module) {

"use strict";
module.exports = require("preact-render-to-string");;

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ (function(module) {

"use strict";
module.exports = require("querystring");;

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ (function(module) {

"use strict";
module.exports = require("react/jsx-dev-runtime");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/auth/[...nextauth].js"));
module.exports = __webpack_exports__;

})();